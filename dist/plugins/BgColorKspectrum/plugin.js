!function(){"use strict";!function(t){function e(t,e){return t(e={exports:{}},e.exports),e.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var n=e((function(t){var e=function(t){var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n,r){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=y(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var p=c(t,e,n);if("normal"===p.type){if(r=n.done?"completed":"suspendedYield",p.arg===l)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(r="completed",n.method="throw",n.arg=p.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function p(){}function u(){}function f(){}var d={};d[o]=function(){return this};var h=Object.getPrototypeOf,v=h&&h(h(x([])));v&&v!==e&&n.call(v,o)&&(d=v);var g=f.prototype=p.prototype=Object.create(d);function m(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function b(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,s){var l=c(t[o],t,i);if("throw"!==l.type){var p=l.arg,u=p.value;return u&&"object"==typeof u&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){p.value=t,a(p)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function y(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,y(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return u.prototype=g.constructor=f,f.constructor=u,f[a]=u.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===u||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},m(b.prototype),b.prototype[i]=function(){return this},t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(g),g[a]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=x,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}));function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function s(t){o(a,r,i,s,c,"next",t)}function c(t){o(a,r,i,s,c,"throw",t)}s(void 0)}))}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function v(t){if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e?e.defaultView:window}return t}function g(t){var e=v(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function m(t){return t instanceof v(t).Element||t instanceof Element}function b(t){return t instanceof v(t).HTMLElement||t instanceof HTMLElement}function y(t){return t?(t.nodeName||"").toLowerCase():null}function _(t){return(m(t)?t.ownerDocument:t.document).documentElement}function w(t){return h(_(t)).left+g(t).scrollLeft}function k(t){return v(t).getComputedStyle(t)}function x(t){var e=k(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function P(t,e,n){void 0===n&&(n=!1);var r,o,i=_(e),a=h(t),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return n||(("body"!==y(e)||x(i))&&(s=(r=e)!==v(r)&&b(r)?{scrollLeft:(o=r).scrollLeft,scrollTop:o.scrollTop}:g(r)),b(e)?((c=h(e)).x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=w(i))),{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function C(t){return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}function j(t){return"html"===y(t)?t:t.assignedSlot||t.parentNode||t.host||_(t)}function O(t,e){void 0===e&&(e=[]);var n=function t(e){return["html","body","#document"].indexOf(y(e))>=0?e.ownerDocument.body:b(e)&&x(e)?e:t(j(e))}(t),r="body"===y(n),o=v(n),i=r?[o].concat(o.visualViewport||[],x(n)?n:[]):n,a=e.concat(i);return r?a:a.concat(O(j(i)))}function S(t){return["table","td","th"].indexOf(y(t))>=0}function $(t){return b(t)&&"fixed"!==k(t).position?t.offsetParent:null}function E(t){for(var e=v(t),n=$(t);n&&S(n);)n=$(n);return n&&"body"===y(n)&&"static"===k(n).position?e:n||e}var A="top",M="bottom",L="right",R="left",T=[A,M,L,R],I=T.reduce((function(t,e){return t.concat([e+"-start",e+"-end"])}),[]),D=[].concat(T,["auto"]).reduce((function(t,e){return t.concat([e,e+"-start",e+"-end"])}),[]),B=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function H(t){return t.split("-")[0]}var F={placement:"bottom",modifiers:[],strategy:"absolute"};function N(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}var q={passive:!0};function W(t){return t.split("-")[1]}function V(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function z(t){var e,n=t.reference,r=t.element,o=t.placement,i=o?H(o):null,a=o?W(o):null,s=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(i){case A:e={x:s,y:n.y-r.height};break;case M:e={x:s,y:n.y+n.height};break;case L:e={x:n.x+n.width,y:c};break;case R:e={x:n.x-r.width,y:c};break;default:e={x:n.x,y:n.y}}var l=i?V(i):null;if(null!=l){var p="y"===l?"height":"width";switch(a){case"start":e[l]=Math.floor(e[l])-Math.floor(n[p]/2-r[p]/2);break;case"end":e[l]=Math.floor(e[l])+Math.ceil(n[p]/2-r[p]/2)}}return e}var G={top:"auto",right:"auto",bottom:"auto",left:"auto"};function U(t){var e,n=t.popper,r=t.popperRect,o=t.placement,i=t.offsets,a=t.position,s=t.gpuAcceleration,c=t.adaptive,l=function(t){var e=t.x,n=t.y,r=window.devicePixelRatio||1;return{x:Math.round(e*r)/r||0,y:Math.round(n*r)/r||0}}(i),p=l.x,u=l.y,f=i.hasOwnProperty("x"),d=i.hasOwnProperty("y"),h=R,g=A,m=window;if(c){var b=E(n);b===v(n)&&(b=_(n)),o===A&&(g=M,u-=b.clientHeight-r.height,u*=s?1:-1),o===R&&(h=L,p-=b.clientWidth-r.width,p*=s?1:-1)}var y,w=Object.assign({position:a},c&&G);return s?Object.assign({},w,((y={})[g]=d?"0":"",y[h]=f?"0":"",y.transform=(m.devicePixelRatio||1)<2?"translate("+p+"px, "+u+"px)":"translate3d("+p+"px, "+u+"px, 0)",y)):Object.assign({},w,((e={})[g]=d?u+"px":"",e[h]=f?p+"px":"",e.transform="",e))}var K={left:"right",right:"left",bottom:"top",top:"bottom"};function Y(t){return t.replace(/left|right|bottom|top/g,(function(t){return K[t]}))}var X={start:"end",end:"start"};function Q(t){return t.replace(/start|end/g,(function(t){return X[t]}))}function J(t){return parseFloat(t)||0}function Z(t,e){var n=Boolean(e.getRootNode&&e.getRootNode().host);if(t.contains(e))return!0;if(n){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function tt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function et(t,e){return"viewport"===e?tt(function(t){var e=v(t),n=e.visualViewport,r=e.innerWidth,o=e.innerHeight;return n&&/iPhone|iPod|iPad/.test(navigator.platform)&&(r=n.width,o=n.height),{width:r,height:o,x:0,y:0}}(t)):b(e)?h(e):tt(function(t){var e=v(t),n=g(t),r=P(_(t),e);return r.height=Math.max(r.height,e.innerHeight),r.width=Math.max(r.width,e.innerWidth),r.x=-n.scrollLeft,r.y=-n.scrollTop,r}(_(t)))}function nt(t,e,n){var r="clippingParents"===e?function(t){var e=O(t),n=["absolute","fixed"].indexOf(k(t).position)>=0&&b(t)?E(t):t;return m(n)?e.filter((function(t){return m(t)&&Z(t,n)})):[]}(t):[].concat(e),o=[].concat(r,[n]),i=o[0],a=o.reduce((function(e,n){var r=et(t,n),o=function(t){var e=v(t),n=function(t){var e=b(t)?k(t):{};return{top:J(e.borderTopWidth),right:J(e.borderRightWidth),bottom:J(e.borderBottomWidth),left:J(e.borderLeftWidth)}}(t),r="html"===y(t),o=w(t),i=t.clientWidth+n.right,a=t.clientHeight+n.bottom;return r&&e.innerHeight-t.clientHeight>50&&(a=e.innerHeight-n.bottom),{top:r?0:t.clientTop,right:t.clientLeft>n.left?n.right:r?e.innerWidth-i-o:t.offsetWidth-i,bottom:r?e.innerHeight-a:t.offsetHeight-a,left:r?o:t.clientLeft}}(b(n)?n:_(t));return e.top=Math.max(r.top+o.top,e.top),e.right=Math.min(r.right-o.right,e.right),e.bottom=Math.min(r.bottom-o.bottom,e.bottom),e.left=Math.max(r.left+o.left,e.left),e}),et(t,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function rt(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},{},t)}function ot(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function it(t,e){void 0===e&&(e={});var n=e,r=n.placement,o=void 0===r?t.placement:r,i=n.boundary,a=void 0===i?"clippingParents":i,s=n.rootBoundary,c=void 0===s?"viewport":s,l=n.elementContext,p=void 0===l?"popper":l,u=n.altBoundary,f=void 0!==u&&u,d=n.padding,v=void 0===d?0:d,g=rt("number"!=typeof v?v:ot(v,T)),b="popper"===p?"reference":"popper",y=t.elements.reference,w=t.rects.popper,k=t.elements[f?b:p],x=nt(m(k)?k:k.contextElement||_(t.elements.popper),a,c),P=h(y),C=z({reference:P,element:w,strategy:"absolute",placement:o}),j=tt(Object.assign({},w,{},C)),O="popper"===p?j:P,S={top:x.top-O.top+g.top,bottom:O.bottom-x.bottom+g.bottom,left:x.left-O.left+g.left,right:O.right-x.right+g.right},$=t.modifiersData.offset;if("popper"===p&&$){var E=$[o];Object.keys(S).forEach((function(t){var e=[L,M].indexOf(t)>=0?1:-1,n=[A,M].indexOf(t)>=0?"y":"x";S[t]+=E[n]*e}))}return S}function at(t,e){void 0===e&&(e={});var n=e,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?D:c,p=W(r),u=(p?s?I:I.filter((function(t){return W(t)===p})):T).filter((function(t){return l.indexOf(t)>=0})).reduce((function(e,n){return e[n]=it(t,{placement:n,boundary:o,rootBoundary:i,padding:a})[H(n)],e}),{});return Object.keys(u).sort((function(t,e){return u[t]-u[e]}))}function st(t,e,n){return Math.max(t,Math.min(e,n))}function ct(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function lt(t){return[A,L,M,R].some((function(e){return t[e]>=0}))}var pt,ut=function(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,o=e.defaultOptions,i=void 0===o?F:o;return function(t,e,n){void 0===n&&(n=i);var o,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},F,{},i),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},c=[],l=!1,p={state:s,setOptions:function(n){u(),s.options=Object.assign({},i,{},s.options,{},n),s.scrollParents={reference:m(t)?O(t):t.contextElement?O(t.contextElement):[],popper:O(e)};var o,a,l=function(t){var e=function(t){var e=new Map,n=new Set,r=[];return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||function t(o){n.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach((function(r){if(!n.has(r)){var o=e.get(r);o&&t(o)}})),r.push(o)}(t)})),r}(t);return B.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}((o=[].concat(r,s.options.modifiers),a=o.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,{},e,{options:Object.assign({},n.options,{},e.options),data:Object.assign({},n.data,{},e.data)}):e,t}),{}),Object.keys(a).map((function(t){return a[t]}))));return s.orderedModifiers=l.filter((function(t){return t.enabled})),s.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,o=t.effect;if("function"==typeof o){var i=o({state:s,name:e,instance:p,options:r});c.push(i||function(){})}})),p.update()},forceUpdate:function(){if(!l){var t=s.elements,e=t.reference,n=t.popper;if(N(e,n)){s.rects={reference:P(e,E(n),"fixed"===s.options.strategy),popper:C(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(t){return s.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var o=s.orderedModifiers[r],i=o.fn,a=o.options,c=void 0===a?{}:a,u=o.name;"function"==typeof i&&(s=i({state:s,options:c,name:u,instance:p})||s)}else s.reset=!1,r=-1}}},update:(o=function(){return new Promise((function(t){p.forceUpdate(),t(s)}))},function(){return a||(a=new Promise((function(t){Promise.resolve().then((function(){a=void 0,t(o())}))}))),a}),destroy:function(){u(),l=!0}};if(!N(t,e))return p;function u(){c.forEach((function(t){return t()})),c=[]}return p.setOptions(n).then((function(t){!l&&n.onFirstUpdate&&n.onFirstUpdate(t)})),p}}({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,c=v(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&l.forEach((function(t){t.addEventListener("scroll",n.update,q)})),s&&c.addEventListener("resize",n.update,q),function(){i&&l.forEach((function(t){t.removeEventListener("scroll",n.update,q)})),s&&c.removeEventListener("resize",n.update,q)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=z({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s={placement:H(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,{},U(Object.assign({},s,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,{},U(Object.assign({},s,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];b(o)&&y(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?o.removeAttribute(t):o.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],o=e.attributes[t]||{},i=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});b(r)&&y(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,o=n.offset,i=void 0===o?[0,0]:o,a=D.reduce((function(t,n){return t[n]=function(t,e,n){var r=H(t),o=[R,A].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},e,{placement:t})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[R,L].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,e.rects,i),t}),{}),s=a[e.placement],c=s.x,l=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,l=n.padding,p=n.boundary,u=n.rootBoundary,f=n.altBoundary,d=n.flipVariations,h=void 0===d||d,v=n.allowedAutoPlacements,g=e.options.placement,m=H(g),b=c||(m!==g&&h?function(t){if("auto"===H(t))return[];var e=Y(t);return[Q(t),e,Q(e)]}(g):[Y(g)]),y=[g].concat(b).reduce((function(t,n){return t.concat("auto"===H(n)?at(e,{placement:n,boundary:p,rootBoundary:u,padding:l,flipVariations:h,allowedAutoPlacements:v}):n)}),[]),_=e.rects.reference,w=e.rects.popper,k=new Map,x=!0,P=y[0],C=0;C<y.length;C++){var j=y[C],O=H(j),S="start"===W(j),$=[A,M].indexOf(O)>=0,E=$?"width":"height",T=it(e,{placement:j,boundary:p,rootBoundary:u,altBoundary:f,padding:l}),I=$?S?L:R:S?M:A;_[E]>w[E]&&(I=Y(I));var D=Y(I),B=[];if(i&&B.push(T[O]<=0),s&&B.push(T[I]<=0,T[D]<=0),B.every((function(t){return t}))){P=j,x=!1;break}k.set(j,B)}if(x)for(var F=function(t){var e=y.find((function(e){var n=k.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return P=e,"break"},N=h?3:1;N>0&&"break"!==F(N);N--);e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,c=n.boundary,l=n.rootBoundary,p=n.altBoundary,u=n.padding,f=n.tether,d=void 0===f||f,h=n.tetherOffset,v=void 0===h?0:h,g=it(e,{boundary:c,rootBoundary:l,padding:u,altBoundary:p}),m=H(e.placement),b=W(e.placement),y=!b,_=V(m),w="x"===_?"y":"x",k=e.modifiersData.popperOffsets,x=e.rects.reference,P=e.rects.popper,j="function"==typeof v?v(Object.assign({},e.rects,{placement:e.placement})):v,O={x:0,y:0};if(k){if(i){var S="y"===_?A:R,$="y"===_?M:L,T="y"===_?"height":"width",I=k[_],D=k[_]+g[S],B=k[_]-g[$],F=d?-P[T]/2:0,N="start"===b?x[T]:P[T],q="start"===b?-P[T]:-x[T],z=e.elements.arrow,G=d&&z?C(z):{width:0,height:0},U=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},K=U[S],Y=U[$],X=st(0,x[T],G[T]),Q=y?x[T]/2-F-X-K-j:N-X-K-j,J=y?-x[T]/2+F+X+Y+j:q+X+Y+j,Z=e.elements.arrow&&E(e.elements.arrow),tt=Z?"y"===_?Z.clientTop||0:Z.clientLeft||0:0,et=e.modifiersData.offset?e.modifiersData.offset[e.placement][_]:0,nt=k[_]+Q-et-tt,rt=k[_]+J-et,ot=st(d?Math.min(D,nt):D,I,d?Math.max(B,rt):B);k[_]=ot,O[_]=ot-I}if(s){var at="x"===_?A:R,ct="x"===_?M:L,lt=k[w],pt=st(lt+g[at],lt,lt-g[ct]);k[w]=pt,O[w]=pt-lt}e.modifiersData[r]=O}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,o=n.elements.arrow,i=n.modifiersData.popperOffsets,a=H(n.placement),s=V(a),c=[R,L].indexOf(a)>=0?"height":"width";if(o&&i){var l=n.modifiersData[r+"#persistent"].padding,p=C(o),u="y"===s?A:R,f="y"===s?M:L,d=n.rects.reference[c]+n.rects.reference[s]-i[s]-n.rects.popper[c],h=i[s]-n.rects.reference[s],v=E(o),g=v?"y"===s?v.clientHeight||0:v.clientWidth||0:0,m=d/2-h/2,b=l[u],y=g-p[c]-l[f],_=g/2-p[c]/2+m,w=st(b,_,y),k=s;n.modifiersData[r]=((e={})[k]=w,e.centerOffset=w-_,e)}},effect:function(t){var e=t.state,n=t.options,r=t.name,o=n.element,i=void 0===o?"[data-popper-arrow]":o,a=n.padding,s=void 0===a?0:a;null!=i&&("string"!=typeof i||(i=e.elements.popper.querySelector(i)))&&Z(e.elements.popper,i)&&(e.elements.arrow=i,e.modifiersData[r+"#persistent"]={padding:rt("number"!=typeof s?s:ot(s,T))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,a=it(e,{elementContext:"reference"}),s=it(e,{altBoundary:!0}),c=ct(a,r),l=ct(s,o,i),p=lt(c),u=lt(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:p,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":u})}}]});e((function(e,n){e.exports=function(t,e){var n={beforeShow:p,move:p,change:p,show:p,hide:p,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},r=[],o=!!/msie/i.exec(window.navigator.userAgent),i=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div").style;return e.cssText="background-color:rgba(0,0,0,.5)",t(e.backgroundColor,"rgba")||t(e.backgroundColor,"hsla")}(),a=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=function(){var t="";if(o)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function c(e,n,r,o){for(var a=[],s=0;s<e.length;s++){var c=e[s];if(c){var l=tinycolor(c),p=l.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";p+=tinycolor.equals(n,c)?" sp-thumb-active":"";var u=l.toString(o.preferredFormat||"rgb"),f=i?"background-color:"+l.toRgbString():"filter:"+l.toFilter();a.push('<span title="'+u+'" data-color="'+l.toRgbString()+'" class="'+p+'"><span class="sp-thumb-inner" style="'+f+';"></span></span>')}else a.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",o.noColorSelectedText)).html())}return"<div class='sp-cf "+r+"'>"+a.join("")+"</div>"}function l(l,p){var v=function(e,r){var o=t.extend({},n,e);return o.callbacks={move:f(o.move,r),change:f(o.change,r),show:f(o.show,r),hide:f(o.hide,r),beforeShow:f(o.beforeShow,r)},o}(p,l),g=v.flat,m=v.showSelectionPalette,b=v.localStorageKey,y=v.theme,_=v.callbacks,w=function(t,e,n){var r;return function(){var e=this,n=arguments,o=function(){r=null,t.apply(e,n)};r||(r=setTimeout(o,10))}}(Bt),k=!1,x=!1,P=0,C=0,j=0,O=0,S=0,$=0,E=0,A=0,M=0,L=0,R=1,T=[],I=[],D={},B=v.selectionPalette.slice(0),H=v.maxSelectionSize,F=null,N=l.ownerDocument,q=(N.body,t(l)),W=!1,V=t(s,N).addClass(y),z=V.find(".sp-picker-container"),G=V.find(".sp-color"),U=V.find(".sp-dragger"),K=V.find(".sp-hue"),Y=V.find(".sp-slider"),X=V.find(".sp-alpha-inner"),Q=V.find(".sp-alpha"),J=V.find(".sp-alpha-handle"),Z=V.find(".sp-input"),tt=V.find(".sp-palette"),et=V.find(".sp-initial"),nt=V.find(".sp-cancel"),rt=V.find(".sp-clear"),ot=V.find(".sp-choose"),it=V.find(".sp-palette-toggle"),at=q.is("input"),st=at&&"color"===q.attr("type")&&h(),ct=at&&!g,lt=ct?t(a).addClass(y).addClass(v.className).addClass(v.replacerClassName):t([]),pt=ct?lt:q,ut=lt.find(".sp-preview-inner"),ft=v.color||at&&q.val(),dt=!1,ht=v.preferredFormat,vt=!v.showButtons||v.clickoutFiresChange,gt=!ft,mt=v.allowEmpty&&!st;function bt(){if(v.showPaletteOnly&&(v.showPalette=!0),it.text(v.showPaletteOnly?v.togglePaletteMoreText:v.togglePaletteLessText),v.palette){T=v.palette.slice(0),I=t.isArray(T[0])?T:[T],D={};for(var e=0;e<I.length;e++)for(var n=0;n<I[e].length;n++){var r=tinycolor(I[e][n]).toRgbString();D[r]=!0}}V.toggleClass("sp-flat",g),V.toggleClass("sp-input-disabled",!v.showInput),V.toggleClass("sp-alpha-enabled",v.showAlpha),V.toggleClass("sp-clear-enabled",mt),V.toggleClass("sp-buttons-disabled",!v.showButtons),V.toggleClass("sp-palette-buttons-disabled",!v.togglePaletteOnly),V.toggleClass("sp-palette-disabled",!v.showPalette),V.toggleClass("sp-palette-only",v.showPaletteOnly),V.toggleClass("sp-initial-disabled",!v.showInitial),V.addClass(v.className).addClass(v.containerClassName),Bt()}function yt(){if(b&&window.localStorage){try{var e=window.localStorage[b].split(",#");e.length>1&&(delete window.localStorage[b],t.each(e,(function(t,e){_t(e)})))}catch(t){}try{B=window.localStorage[b].split(";")}catch(t){}}}function _t(e){if(m){var n=tinycolor(e).toRgbString();if(!D[n]&&-1===t.inArray(n,B))for(B.push(n);B.length>H;)B.shift();if(b&&window.localStorage)try{window.localStorage[b]=B.join(";")}catch(t){}}}function wt(){var e=Lt(),n=t.map(I,(function(t,n){return c(t,e,"sp-palette-row sp-palette-row-"+n,v)}));yt(),B&&n.push(c(function(){var t=[];if(v.showPalette)for(var e=0;e<B.length;e++){var n=tinycolor(B[e]).toRgbString();D[n]||t.push(B[e])}return t.reverse().slice(0,v.maxSelectionSize)}(),e,"sp-palette-row sp-palette-row-selection",v)),tt.html(n.join(""))}function kt(){if(v.showInitial){var t=dt,e=Lt();et.html(c([t,e],e,"sp-palette-row-initial",v))}}function xt(){(C<=0||P<=0||O<=0)&&Bt(),x=!0,V.addClass("sp-dragging"),F=null,q.trigger("dragstart.spectrum",[Lt()])}function Pt(){x=!1,V.removeClass("sp-dragging"),q.trigger("dragstop.spectrum",[Lt()])}function Ct(){var t=Z.val();if(null!==t&&""!==t||!mt){var e=tinycolor(t);e.isValid()?(Mt(e),Rt(),Dt()):Z.addClass("sp-validation-error")}else Mt(null),Rt(),Dt()}function jt(){k?Et():Ot()}function Ot(){var e=t.Event("beforeShow.spectrum");k?Bt():(q.trigger(e,[Lt()]),!1===_.beforeShow(Lt())||e.isDefaultPrevented()||(function(){for(var t=0;t<r.length;t++)r[t]&&r[t].hide()}(),k=!0,t(N).on("keydown.spectrum",St),t(N).on("click.spectrum",$t),t(window).on("resize.spectrum",w),lt.addClass("sp-active"),V.removeClass("sp-hidden"),Bt(),Tt(),dt=Lt(),kt(),_.show(dt),q.trigger("show.spectrum",[dt])))}function St(t){27===t.keyCode&&Et()}function $t(t){2!=t.button&&(x||(vt?Dt(!0):At(),Et()))}function Et(){k&&!g&&(k=!1,t(N).off("keydown.spectrum",St),t(N).off("click.spectrum",$t),t(window).off("resize.spectrum",w),lt.removeClass("sp-active"),V.addClass("sp-hidden"),_.hide(Lt()),q.trigger("hide.spectrum",[Lt()]))}function At(){Mt(dt,!0),Dt(!0)}function Mt(t,e){var n,r;tinycolor.equals(t,Lt())?Tt():(!t&&mt?gt=!0:(gt=!1,r=(n=tinycolor(t)).toHsv(),A=r.h%360/360,M=r.s,L=r.v,R=r.a),Tt(),n&&n.isValid()&&!e&&(ht=v.preferredFormat||n.getFormat()))}function Lt(t){return t=t||{},mt&&gt?null:tinycolor.fromRatio({h:A,s:M,v:L,a:Math.round(1e3*R)/1e3},{format:t.format||ht})}function Rt(){Tt(),_.move(Lt()),q.trigger("move.spectrum",[Lt()])}function Tt(){Z.removeClass("sp-validation-error"),It();var t=tinycolor.fromRatio({h:A,s:1,v:1});G.css("background-color",t.toHexString());var e=ht;R<1&&(0!==R||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var n=Lt({format:e}),r="";if(ut.removeClass("sp-clear-display"),ut.css("background-color","transparent"),!n&&mt)ut.addClass("sp-clear-display");else{var a=n.toHexString(),s=n.toRgbString();if(i||1===n.alpha?ut.css("background-color",s):(ut.css("background-color","transparent"),ut.css("filter",n.toFilter())),v.showAlpha){var c=n.toRgb();c.a=0;var l=tinycolor(c).toRgbString(),p="linear-gradient(left, "+l+", "+a+")";o?X.css("filter",tinycolor(l).toFilter({gradientType:1},a)):(X.css("background","-webkit-"+p),X.css("background","-moz-"+p),X.css("background","-ms-"+p),X.css("background","linear-gradient(to right, "+l+", "+a+")"))}r=n.toString(e)}v.showInput&&Z.val(r),v.showPalette&&wt(),kt()}function It(){var t=M,e=L;if(mt&&gt)J.hide(),Y.hide(),U.hide();else{J.show(),Y.show(),U.show();var n=t*P,r=C-e*C;n=Math.max(-j,Math.min(P-j,n-j)),r=Math.max(-j,Math.min(C-j,r-j)),U.css({top:r+"px",left:n+"px"});var o=R*S;J.css({left:o-$/2+"px"});var i=A*O;Y.css({top:i-E+"px"})}}function Dt(t){var e=Lt(),n="",r=!tinycolor.equals(e,dt);e&&(n=e.toString(ht),_t(e)),at&&q.val(n),t&&r&&(_.change(e),q.trigger("change",[e]))}function Bt(){k&&(P=G.width(),C=G.height(),j=U.height(),K.width(),O=K.height(),E=Y.height(),S=Q.width(),$=J.width(),g||(V.css("position","absolute"),v.offset?V.offset(v.offset):V.offset(function(e,n){var r=e.outerWidth(),o=e.outerHeight(),i=n.outerHeight(),a=e[0].ownerDocument,s=a.documentElement,c=s.clientWidth+t(a).scrollLeft(),l=s.clientHeight+t(a).scrollTop(),p=n.offset(),u=p.left,f=p.top;return f+=i,u-=Math.min(u,u+r>c&&c>r?Math.abs(u+r-c):0),{top:f-=Math.min(f,f+o>l&&l>o?Math.abs(o+i-0):0),bottom:p.bottom,left:u,right:p.right,width:p.width,height:p.height}}(V,pt))),It(),v.showPalette&&wt(),q.trigger("reflow.spectrum"))}function Ht(){Et(),W=!0,q.attr("disabled",!0),pt.addClass("sp-disabled")}!function(){if(o&&V.find("*:not(input)").attr("unselectable","on"),bt(),ct&&q.after(lt).hide(),mt||rt.hide(),g)q.after(V).hide();else{var e="parent"===v.appendTo?q.parent():t(v.appendTo);1!==e.length&&(e=t("body")),e.append(V)}function n(e){return e.data&&e.data.ignore?(Mt(t(e.target).closest(".sp-thumb-el").data("color")),Rt()):(Mt(t(e.target).closest(".sp-thumb-el").data("color")),Rt(),v.hideAfterPaletteSelect?(Dt(!0),Et()):Dt()),!1}yt(),pt.on("click.spectrum touchstart.spectrum",(function(e){W||jt(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()})),(q.is(":disabled")||!0===v.disabled)&&Ht(),V.click(u),Z.change(Ct),Z.on("paste",(function(){setTimeout(Ct,1)})),Z.keydown((function(t){13==t.keyCode&&Ct()})),nt.text(v.cancelText),nt.on("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),At(),Et()})),rt.attr("title",v.clearText),rt.on("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),gt=!0,Rt(),g&&Dt(!0)})),ot.text(v.chooseText),ot.on("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),o&&Z.is(":focus")&&Z.trigger("change"),Z.hasClass("sp-validation-error")||(Dt(!0),Et())})),it.text(v.showPaletteOnly?v.togglePaletteMoreText:v.togglePaletteLessText),it.on("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),v.showPaletteOnly=!v.showPaletteOnly,v.showPaletteOnly||g||V.css("left","-="+(z.outerWidth(!0)+5)),bt()})),d(Q,(function(t,e,n){R=t/S,gt=!1,n.shiftKey&&(R=Math.round(10*R)/10),Rt()}),xt,Pt),d(K,(function(t,e){A=parseFloat(e/O),gt=!1,v.showAlpha||(R=1),Rt()}),xt,Pt),d(G,(function(t,e,n){if(n.shiftKey){if(!F){var r=M*P,o=C-L*C,i=Math.abs(t-r)>Math.abs(e-o);F=i?"x":"y"}}else F=null;var a=!F||"y"===F;(!F||"x"===F)&&(M=parseFloat(t/P)),a&&(L=parseFloat((C-e)/C)),gt=!1,v.showAlpha||(R=1),Rt()}),xt,Pt),ft?(Mt(ft),Tt(),ht=v.preferredFormat||tinycolor(ft).format,_t(ft)):Tt(),g&&Ot();var r=o?"mousedown.spectrum":"click.spectrum touchstart.spectrum";tt.on(r,".sp-thumb-el",n),et.on(r,".sp-thumb-el:nth-child(1)",{ignore:!0},n)}();var Ft={show:Ot,hide:Et,toggle:jt,reflow:Bt,option:function(n,r){return n===e?t.extend({},v):r===e?v[n]:(v[n]=r,"preferredFormat"===n&&(ht=v.preferredFormat),void bt())},enable:function(){W=!1,q.attr("disabled",!1),pt.removeClass("sp-disabled")},disable:Ht,offset:function(t){v.offset=t,Bt()},set:function(t){Mt(t),Dt()},get:Lt,destroy:function(){q.show(),pt.off("click.spectrum touchstart.spectrum"),V.remove(),lt.remove(),r[Ft.id]=null},container:V};return Ft.id=r.push(Ft)-1,Ft}function p(){}function u(t){t.stopPropagation()}function f(t,e){var n=Array.prototype.slice,r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}function d(e,n,r,i){n=n||function(){},r=r||function(){},i=i||function(){};var a=document,s=!1,c={},l=0,p=0,u="ontouchstart"in window,f={};function d(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function h(t){if(s){if(o&&a.documentMode<9&&!t.button)return v();var r=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],i=r&&r.pageX||t.pageX,f=r&&r.pageY||t.pageY,h=Math.max(0,Math.min(i-c.left,p)),g=Math.max(0,Math.min(f-c.top,l));u&&d(t),n.apply(e,[h,g,t])}}function v(){s&&(t(a).off(f),t(a.body).removeClass("sp-dragging"),setTimeout((function(){i.apply(e,arguments)}),0)),s=!1}f.selectstart=d,f.dragstart=d,f["touchmove mousemove"]=h,f["touchend mouseup"]=v,t(e).on("touchstart mousedown",(function(n){var o=n.which?3==n.which:2==n.button;o||s||!1!==r.apply(e,arguments)&&(s=!0,l=t(e).height(),p=t(e).width(),c=t(e).offset(),t(a).on(f),t(a.body).addClass("sp-dragging"),h(n),d(n))}))}function h(){return t.fn.spectrum.inputTypeColorSupport()}var v="spectrum.id";t.fn.spectrum=function(e,n){if("string"==typeof e){var o=this,i=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=r[t(this).data(v)];if(n){var a=n[e];if(!a)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?o=n.get():"container"==e?o=n.container:"option"==e?o=n.option.apply(n,i):"destroy"==e?(n.destroy(),t(this).removeData(v)):a.apply(n,i)}})),o}return this.spectrum("destroy").each((function(){var n=l(this,t.extend({},t(this).data(),e));t(this).data(v,n.id)}))},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=d,t.fn.spectrum.defaults=n,t.fn.spectrum.inputTypeColorSupport=function e(){if(void 0===e._cachedResult){var n=t("<input type='color'/>")[0];e._cachedResult="color"===n.type&&""!==n.value}return e._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!h()&&e.spectrum({preferredFormat:"hex6"})},function(){var t=/^[\s,#]+/,e=/\s+$/,n=0,r=Math,o=r.round,i=r.min,a=r.max,s=r.random,c=function(s,l){if(l=l||{},(s=s||"")instanceof c)return s;if(!(this instanceof c))return new c(s,l);var p=function(n){var o,s,c,l={r:0,g:0,b:0},p=1,u=!1,f=!1;return"string"==typeof n&&(n=function(n){n=n.replace(t,"").replace(e,"").toLowerCase();var r,o,i=!1;if(j[n])n=j[n],i=!0;else if("transparent"==n)return{r:0,g:0,b:0,a:0,format:"name"};return(r=D.rgb.exec(n))?{r:r[1],g:r[2],b:r[3]}:(r=D.rgba.exec(n))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=D.hsl.exec(n))?{h:r[1],s:r[2],l:r[3]}:(r=D.hsla.exec(n))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=D.hsv.exec(n))?{h:r[1],s:r[2],v:r[3]}:(r=D.hsva.exec(n))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=D.hex8.exec(n))?{a:(o=r[1],A(o)/255),r:A(r[2]),g:A(r[3]),b:A(r[4]),format:i?"name":"hex8"}:(r=D.hex6.exec(n))?{r:A(r[1]),g:A(r[2]),b:A(r[3]),format:i?"name":"hex"}:!!(r=D.hex3.exec(n))&&{r:A(r[1]+""+r[1]),g:A(r[2]+""+r[2]),b:A(r[3]+""+r[3]),format:i?"name":"hex"}}(n)),"object"==typeof n&&(n.hasOwnProperty("r")&&n.hasOwnProperty("g")&&n.hasOwnProperty("b")?(o=n.r,s=n.g,c=n.b,l={r:255*$(o,255),g:255*$(s,255),b:255*$(c,255)},u=!0,f="%"===String(n.r).substr(-1)?"prgb":"rgb"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("v")?(n.s=L(n.s),n.v=L(n.v),l=function(t,e,n){t=6*$(t,360),e=$(e,100),n=$(n,100);var o=r.floor(t),i=t-o,a=n*(1-e),s=n*(1-i*e),c=n*(1-(1-i)*e),l=o%6;return{r:255*[n,s,a,a,c,n][l],g:255*[c,n,n,s,a,a][l],b:255*[a,a,c,n,n,s][l]}}(n.h,n.s,n.v),u=!0,f="hsv"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("l")&&(n.s=L(n.s),n.l=L(n.l),l=function(t,e,n){var r,o,i;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=$(t,360),e=$(e,100),n=$(n,100),0===e)r=o=i=n;else{var s=n<.5?n*(1+e):n+e-n*e,c=2*n-s;r=a(c,s,t+1/3),o=a(c,s,t),i=a(c,s,t-1/3)}return{r:255*r,g:255*o,b:255*i}}(n.h,n.s,n.l),u=!0,f="hsl"),n.hasOwnProperty("a")&&(p=n.a)),p=S(p),{ok:u,format:n.format||f,r:i(255,a(l.r,0)),g:i(255,a(l.g,0)),b:i(255,a(l.b,0)),a:p}}(s);this._originalInput=s,this._r=p.r,this._g=p.g,this._b=p.b,this._a=p.a,this._roundA=o(1e3*this._a)/1e3,this._format=l.format||p.format,this._gradientType=l.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=p.ok,this._tc_id=n++};function l(t,e,n){t=$(t,255),e=$(e,255),n=$(n,255);var r,o,s=a(t,e,n),c=i(t,e,n),l=(s+c)/2;if(s==c)r=o=0;else{var p=s-c;switch(o=l>.5?p/(2-s-c):p/(s+c),s){case t:r=(e-n)/p+(e<n?6:0);break;case e:r=(n-t)/p+2;break;case n:r=(t-e)/p+4}r/=6}return{h:r,s:o,l:l}}function p(t,e,n){t=$(t,255),e=$(e,255),n=$(n,255);var r,o,s=a(t,e,n),c=i(t,e,n),l=s,p=s-c;if(o=0===s?0:p/s,s==c)r=0;else{switch(s){case t:r=(e-n)/p+(e<n?6:0);break;case e:r=(n-t)/p+2;break;case n:r=(t-e)/p+4}r/=6}return{h:r,s:o,v:l}}function u(t,e,n,r){var i=[M(o(t).toString(16)),M(o(e).toString(16)),M(o(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function f(t,e,n,r){var i;return[M((i=r,Math.round(255*parseFloat(i)).toString(16))),M(o(t).toString(16)),M(o(e).toString(16)),M(o(n).toString(16))].join("")}function d(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.s-=e/100,n.s=E(n.s),c(n)}function h(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.s+=e/100,n.s=E(n.s),c(n)}function v(t){return c(t).desaturate(100)}function g(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.l+=e/100,n.l=E(n.l),c(n)}function m(t,e){e=0===e?0:e||10;var n=c(t).toRgb();return n.r=a(0,i(255,n.r-o(-e/100*255))),n.g=a(0,i(255,n.g-o(-e/100*255))),n.b=a(0,i(255,n.b-o(-e/100*255))),c(n)}function b(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.l-=e/100,n.l=E(n.l),c(n)}function y(t,e){var n=c(t).toHsl(),r=(o(n.h)+e)%360;return n.h=r<0?360+r:r,c(n)}function _(t){var e=c(t).toHsl();return e.h=(e.h+180)%360,c(e)}function w(t){var e=c(t).toHsl(),n=e.h;return[c(t),c({h:(n+120)%360,s:e.s,l:e.l}),c({h:(n+240)%360,s:e.s,l:e.l})]}function k(t){var e=c(t).toHsl(),n=e.h;return[c(t),c({h:(n+90)%360,s:e.s,l:e.l}),c({h:(n+180)%360,s:e.s,l:e.l}),c({h:(n+270)%360,s:e.s,l:e.l})]}function x(t){var e=c(t).toHsl(),n=e.h;return[c(t),c({h:(n+72)%360,s:e.s,l:e.l}),c({h:(n+216)%360,s:e.s,l:e.l})]}function P(t,e,n){e=e||6,n=n||30;var r=c(t).toHsl(),o=360/n,i=[c(t)];for(r.h=(r.h-(o*e>>1)+720)%360;--e;)r.h=(r.h+o)%360,i.push(c(r));return i}function C(t,e){e=e||6;for(var n=c(t).toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/e;e--;)a.push(c({h:r,s:o,v:i})),i=(i+s)%1;return a}c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=S(t),this._roundA=o(1e3*this._a)/1e3,this},toHsv:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=p(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),r=o(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=l(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),r=o(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return u(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return f(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*$(this._r,255))+"%",g:o(100*$(this._g,255))+"%",b:o(100*$(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*$(this._r,255))+"%, "+o(100*$(this._g,255))+"%, "+o(100*$(this._b,255))+"%)":"rgba("+o(100*$(this._r,255))+"%, "+o(100*$(this._g,255))+"%, "+o(100*$(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(O[u(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+f(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";return t&&(n=c(t).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(P,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(x,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},c.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:L(t[r]));t=n}return c(t,e)},c.equals=function(t,e){return!(!t||!e)&&c(t).toRgbString()==c(e).toRgbString()},c.random=function(){return c.fromRatio({r:s(),g:s(),b:s()})},c.mix=function(t,e,n){n=0===n?0:n||50;var r,o=c(t).toRgb(),i=c(e).toRgb(),a=n/100,s=2*a-1,l=i.a-o.a,p=1-(r=((r=s*l==-1?s:(s+l)/(1+s*l))+1)/2),u={r:i.r*r+o.r*p,g:i.g*r+o.g*p,b:i.b*r+o.b*p,a:i.a*a+o.a*(1-a)};return c(u)},c.readability=function(t,e){var n=c(t),r=c(e),o=n.toRgb(),i=r.toRgb(),a=n.getBrightness(),s=r.getBrightness(),l=Math.max(o.r,i.r)-Math.min(o.r,i.r)+Math.max(o.g,i.g)-Math.min(o.g,i.g)+Math.max(o.b,i.b)-Math.min(o.b,i.b);return{brightness:Math.abs(a-s),color:l}},c.isReadable=function(t,e){var n=c.readability(t,e);return n.brightness>125&&n.color>500},c.mostReadable=function(t,e){for(var n=null,r=0,o=!1,i=0;i<e.length;i++){var a=c.readability(t,e[i]),s=a.brightness>125&&a.color>500,l=a.brightness/125*3+a.color/500;(s&&!o||s&&o&&l>r||!s&&!o&&l>r)&&(o=s,r=l,n=c(e[i]))}return n};var j=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=c.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(j);function S(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function $(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=i(e,a(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),r.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function E(t){return i(1,a(0,t))}function A(t){return parseInt(t,16)}function M(t){return 1==t.length?"0"+t:""+t}function L(t){return t<=1&&(t=100*t+"%"),t}var R,T,I,D=(T="[\\s|\\(]+("+(R="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?",I="[\\s|\\(]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?",{rgb:new RegExp("rgb"+T),rgba:new RegExp("rgba"+I),hsl:new RegExp("hsl"+T),hsla:new RegExp("hsla"+I),hsv:new RegExp("hsv"+T),hsva:new RegExp("hsva"+I),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=c}(),t((function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()}))}(t)})),function(t){var e={asyncAjax:function(e){var r=arguments;return i(n.mark((function o(){var i,a,s;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r.length>1&&void 0!==r[1]?r[1]:"GET",a=r.length>2?r[2]:void 0,n.prev=2,n.next=5,t.ajax({url:e,type:i,data:a});case 5:s=n.sent,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),console.error(n.t0);case 11:return n.abrupt("return",s);case 12:case"end":return n.stop()}}),o,null,[[2,8]])})))()},getSavedPalettes:function(){var t=this;return i(n.mark((function e(){var r;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.asyncAjax("/members/Color_palette/get");case 2:return r=e.sent,e.abrupt("return",r.palette);case 4:case"end":return e.stop()}}),e)})))()},createNewPalette:function(t){var e=this;return i(n.mark((function r(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={name:t},n.next=3,e.asyncAjax("/members/Color_palette/create","POST",o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),r)})))()},updatePalette:function(t,e){var r=this;return i(n.mark((function o(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={palette_id:t,palette_name:e.palette_name,settings:e.settings},n.next=3,r.asyncAjax("/members/Color_palette/update","POST",i);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),o)})))()},deletePalette:function(t){var e=this;return i(n.mark((function r(){var o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={palette_id:t},n.next=3,e.asyncAjax("/members/Color_palette/delete","POST",o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),r)})))()}},r=t('<div>\n<div class="js_spectrum_palette palette_wrapper v4">\n    <div class="js_palette_inner_wrapper">\n        <div class="palette_title">\n            My palettes\n            <button type="button" data-toggle="popover-options-menu">\n                <i class="lineico-more-horizontal"></i>\n            </button>\n        </div>\n        <div class="js_palette_content" style="">\n            <div class="form-group control-group">\n                <select class="js_selectpicker " data-size="7">\n                </select>\n            </div>\n            <ul class="palette_list js_palette_list">\n            </ul>\n        </div>\n        <div class="js_spinning_wheel palette_spinning_overlay" style="display: none">\n            <img src="https://d2uolguxr56s4e.cloudfront.net/img/shared/359.GIF">\n        </div>\n    </div>\n</div>\n\n<div class="js_palette_options_popover_content" style="display: none">\n    <div class="popover-content-equal_topbottom color_palette_options_popover_inner js_palette_options_popover_inner">\n        <ul class="nav nav-tabs nav-stacked sequence_actions">\n        <li>\n            <a href="javascript:void(0)" class="js_palette_popover_trigger" data-toggle="popover" data-container="body"><i class="lineico-add-1"></i>Create palette</a>\n        </li>\n        <li style="display: none;">\n            <a href="javascript:void(0);" class="js_palette_rename_trigger"><i class="lineico-pencil-2"></i>Rename palette</a>\n        </li>\n        <li style="display: none;">\n        <a href="javascript:void(0);" class="js_palette_edit_trigger"><i class="lineico-cog"></i>Edit colors</a>\n        </li>          \n        <li style="display: none;" class="in_red">\n            <a class="js_delete_palette_popover_trigger" href="javascript:void(0);" data-toggle="popover" data-container="body""><i class="lineico-cross-1 red"></i>Delete palette</a>\n        </li>\n        </ul>\n    </div>\n</div>\n\n<div class="js_palette_new_popover_content">\n    <div class="popover-content-inner-equal_topbottom_double inverse js_palette_new_popover_inner">\n        <div class="form-group control-group mb-0">\n            <label class="control-label">\n                Palette name\n            </label>\n            <div class="controls button_on_right_60">\n                <input type="text" class="form-control js_palette_name_input js_kartra_santitation" placeholder="Enter palette name..." data-santitation-type="normal">\n                <div class="help-block help-block-error js_help_block_error" style="display: none;"></div>\n                <button type="button" class="btn btn-blue absolute_btn width_60 js_palette_save_btn" disabled>\n                    Save\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="js_palette_rename_popover_content">\n    <div class="popover-content-inner-equal_topbottom_double inverse js_palette_rename_popover_inner">\n        <div class="form-group control-group mb-0">\n            <label class="control-label">\n                Palette name\n            </label>\n            <div class="controls button_on_right_60">\n                <input type="text" class="form-control js_palette_name_input" placeholder="Enter palette name...">\n                <div class="help-block help-block-error js_help_block_error" style="display: none;"></div>\n                <button type="button" class="btn btn-blue absolute_btn width_60 js_palette_save_btn" disabled>\n                    Save\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="js_palette_delete_popover_content" style="display: none">\n    <h3 class="popover-title_new">Delete for good?</h3>\n    <ul class="js_palette_delete_popover_inner">\n        <li>\n            <div class="col-auto">\n                <button type="button" class="pull-left btn btn-lgrey js_popover_close">No, keep it</button>\n                <div class="clearfix"></div>\n            </div>\n            <div class="col-auto">\n                <button type="button" class="pull-right btn btn-red do_delete_reply js_popover_action" data-comment_id="8">Yes, delete</button>\n                <div class="clearfix"></div>\n            </div>\n        </li>\n    </ul>\n</div>\n</div>');t.fn.colorpalette=function(){return this.each((function(e,n){var i=t(n),a=i.spectrum("container").parent(),s=t(".js_spectrum_palette",r).clone();t(a).append(s),new o(i,s,r[0])}))};var o=function(){function r(e,n,o){a(this,r),this.wrapper=n,this.mainWrapper=this.wrapper.parents(".kspectrum"),this.popoverContent={paletteOptionsPopoverContent:t(".js_palette_options_popover_content",o),newPalettePopoverContent:t(".js_palette_new_popover_content",o),renamePalettePopoverContent:t(".js_palette_rename_popover_content",o),deletePalettePopoverContent:t(".js_palette_delete_popover_content",o)},this.innerWrapper=t(".js_palette_inner_wrapper",this.wrapper[0]),this.$selectpicker=t(".js_selectpicker",this.wrapper[0]),this.$paletteContent=t(".js_palette_content",this.wrapper[0]),this.$paletteList=t(".js_palette_list",this.wrapper[0]),this.$loader=t(".js_spinning_wheel",this.wrapper[0]),this.input=e,this.spContainer=e.spectrum("container"),this.userPalettes=[],this.selectedPaletteIndex=0,this.inEditMode=!1,this.addBtn=void 0,this.init()}var o;return c(r,[{key:"init",value:function(){this.attachEvents(),this.initPopovers(),this.initSelectPicker()}},{key:"attachAddColorEvents",value:function(){var r=this;this.addBtn=t(".js_palette_color_new",this.wrapper);var o=function(){var o=i(n.mark((function o(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=r.input.kspectrum("get"),r.input.kspectrum("set",i),!(r.getCurrentPalette().colors.indexOf(i)>-1)){n.next=4;break}return n.abrupt("return");case 4:return r.addBtn.removeClass("palette_color_new_btn"),r.addBtn.addClass("w_loader loader_small btn-neutral"),r.addBtn.prop("disabled",!0),r.addBtn.find("i").hide(),t(".flat_icon_box",r.addBtn).show(),n.next=7,e.updatePalette(r.getCurrentPalette().id,{settings:[].concat(f(r.getCurrentPalette().colors),[i])});case 7:return n.next=9,r.refreshUserPalettes();case 9:r.renderColorCircles(),r.addBtn.addClass("palette_color_new_btn"),r.addBtn.removeClass("w_loader loader_small btn-neutral"),r.addBtn.prop("disabled",!1),r.addBtn.find("i").show(),t(".flat_icon_box",r.addBtn).hide();case 11:case"end":return n.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();this.addBtn.on("click",o)}},{key:"attachColorClickEvent",value:function(){var e=this;this.colorCircles=t(".js_color_circle",this.$paletteList),this.colorCircles.on("click",(function(n){var r=t(n.target).css("background-color");e.input.kspectrum("set",r)}))}},{key:"initSelectPicker",value:function(){this.$selectpicker.selectpicker({dropupAuto:!1,noneSelectedText:"Select palette..."})}},{key:"adjustPalette",value:function(){var t=this.spContainer[0].getBoundingClientRect();this.wrapper[0].style.width=t.width+"px"}},{key:"showLoader",value:function(){this.$paletteContent.hide(),this.$loader.show()}},{key:"hideLoader",value:function(){this.$loader.hide(),this.userPalettes.length?this.$paletteContent.show():this.$paletteContent.hide()}},{key:"setUserPalettes",value:function(t){this.userPalettes=t}},{key:"refreshUserPalettes",value:(o=i(n.mark((function t(){var r;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSavedPalettes();case 2:r=t.sent,this.setUserPalettes(r);case 4:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"renderPickerOptions",value:function(){var t=this.userPalettes.map((function(t){return"<option value=".concat(t.id," data-id=").concat(t.id,">").concat(t.palette_name,"</option>")}));t.length?(this.$selectpicker.empty(),this.$selectpicker.append(t),this.$selectpicker.selectpicker("show"),this.$selectpicker.selectpicker("refresh")):this.$selectpicker.selectpicker("hide")}},{key:"renderColorCircles",value:function(){var t=this,e=this.input.data("kSpectrumInstance");if(this.$paletteList.empty(),this.$paletteContent.hide(),this.userPalettes.length){var n=this.userPalettes[this.selectedPaletteIndex].colors.map((function(n,r){return!e.settings.spectrumSettings.showAlpha&&n.match(/rgba/gi)&&(n=t.convertRgbaToRgb(n)),function(t,e){return'\n                <li>\n                    <button type="button" class="js_color_circle" style="background-color: '.concat(t,'"></button>\n                    <button type="button" data-index="').concat(e,'">\n                        <i class="lineico-cross-1"></i>\n                    </button>\n                </li>\n            ')}(n,r)}));this.$paletteList.append(n),this.$paletteList.append('\n                <li class="palette_color_new_item">\n                    <button type="button" class="btn palette_color_new palette_color_new_btn js_palette_color_new">\n                        <i class="lineico-add-1"></i>\n                        <div class="flat_icon_box " style="display: none">\n                            <img src="https://d2uolguxr56s4e.cloudfront.net/img/shared/359.GIF" />\n                        </div>\n                    </button>\n                </li>\n            '),this.attachColorClickEvent(),this.attachAddColorEvents(),this.$paletteContent.show(),this.input.kspectrum("reposition")}}},{key:"initPopovers",value:function(){var r,o,a,s,c=this,l=function(t){var e=c.wrapper[0].getBoundingClientRect(),n=t[0].getBoundingClientRect();t[0].style.left=-(n.width-e.width)/2+"px"},p=function(e,n){c.$optionsPopover.css("pointer-events","none");var r=function r(o){if(!n[0])return t(document).off("click",r),void c.$optionsPopover.css("pointer-events","all");n[0].contains(o.target)||(e.trigger("click"),t(document).off("click",r),c.$optionsPopover.css("pointer-events","all"))};return t(document).on("click",r),r};r=t('[data-toggle="popover-options-menu"]',this.wrapper).popover({placement:function(e,n){var r=t(window).width(),o="right";return t(n).offset().left+180>=r&&(o="left"),o},container:"#"+this.wrapper.parents(".kspectrum").attr("id"),html:"true",template:'<div class="popover v4 v4_black for_palette_actions" role="tooltip"><div class="popover-content"></div></div>',content:function(){return t(c.popoverContent.paletteOptionsPopoverContent).html()}}),this.$optionsPopover=r;var u=!1,f=function(f){switch(f.target.className){case"js_palette_popover_trigger":!function(){(o=t(".js_palette_popover_trigger").popover({container:"#"+c.mainWrapper.attr("id")+" .js_spectrum_palette",placement:"top",html:!0,template:'<div class="popover palette_zindex v4 v4_black" role="tooltip"><div class="popover-content"></div></div>',content:function(){return t(c.popoverContent.newPalettePopoverContent).html()}})).popover("show"),r.popover("hide");var a=t(".js_palette_new_popover_inner").parents(".popover");l(a);var s=p(o,a);!function(r,o,a){var s=t(".js_palette_name_input",o),l=t(".js_palette_save_btn",o);s.on("keyup",(function(){c.checkEmptyPaletteName(s,l)})),s.on("click",(function(){c.hideError(s)})),l.on("click",i(n.mark((function o(){var i,p,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!1===l.prop("disabled")){n.next=2;break}return n.abrupt("return");case 2:if(i=!!c.userPalettes.filter((function(t){return t.palette_name===s.val()})).length,c.$optionsPopover.css("pointer-events","all"),!i){n.next=8;break}c.showError(s,"Already exists"),n.next=20;break;case 8:return l.prop("disabled",!0),p=s.val(),n.next=12,e.createNewPalette(p);case 12:return u=n.sent,n.next=15,c.refreshUserPalettes();case 15:c.renderPickerOptions(),c.selectPalette(u.palette_id),c.renderColorCircles(),r.trigger("click"),t(document).off("click",a);case 20:case"end":return n.stop()}}),o)})))),s.focus()}(o,a,s)}();break;case"js_palette_rename_trigger":!function(){(a=t(".js_palette_rename_trigger").popover({container:"#"+c.mainWrapper.attr("id")+" .js_spectrum_palette",placement:"top",html:!0,template:'<div class="popover palette_zindex v4 v4_black" role="tooltip"><div class="popover-content"></div></div>',content:function(){return t(c.popoverContent.renamePalettePopoverContent).html()}})).popover("show"),r.popover("hide");var o=t(".js_palette_rename_popover_inner").parent().parent();l(o);var s=p(a,o);!function(r,o,a){var s=t(".js_palette_name_input",o),l=t(".js_palette_save_btn",o);s.val(c.userPalettes[c.selectedPaletteIndex].palette_name),s.on("keyup",(function(){c.checkEmptyPaletteName(s,l)})),s.on("click",(function(){c.hideError(s)})),l.on("click",i(n.mark((function o(){var i,p,u;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!1===l.prop("disabled")){n.next=2;break}return n.abrupt("return");case 2:if(i=!!c.userPalettes.filter((function(t){return t.palette_name===s.val()})).length,c.$optionsPopover.css("pointer-events","all"),!i){n.next=8;break}c.showError(s,"Already exists"),n.next=19;break;case 8:return l.prop("disabled",!0),p=s.val(),u=c.getCurrentPalette().id,n.next=13,e.updatePalette(u,{palette_name:p,settings:c.getCurrentPalette().colors});case 13:return n.next=15,c.refreshUserPalettes();case 15:c.renderPickerOptions(),c.selectPalette(c.getCurrentPalette().id),r.trigger("click"),t(document).off("click",a);case 19:case"end":return n.stop()}}),o)}))))}(a,o,s)}();break;case"js_palette_edit_trigger":!function(){c.$paletteList.addClass("palette_edit_mode_on"),r.popover("hide"),c.inEditMode=!0;var o=function(){c.$paletteList.removeClass("palette_edit_mode_on"),c.$paletteList.off("click"),t(document).off("click",a),c.inEditMode=!1},a=function(t){c.$paletteList[0].contains(t.target)||o()},s=function(){var r=i(n.mark((function r(i){var a,s,l,p;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.inEditMode){n.next=2;break}return n.abrupt("return");case 2:a=i.target,s=t(a).parent(),l=+t(a).attr("data-index"),p=function(){c.userPalettes[c.selectedPaletteIndex].colors.splice(l,1),c.getCurrentPalette().colors.length||o(),e.updatePalette(c.getCurrentPalette().id,{settings:c.getCurrentPalette().colors}).then((function(){c.renderColorCircles()}))},s.fadeOut(200,p);case 7:case"end":return n.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}();t(document).on("click",a),c.$paletteList.on("click","li button[data-index]",s)}();break;case"js_delete_palette_popover_trigger":!function(){(s=t(".js_delete_palette_popover_trigger").popover({container:"#"+c.mainWrapper.attr("id")+" .js_spectrum_palette",placement:"top",html:!0,template:'<div class="popover palette_zindex confirm_delete_popover v4 v4_black" role="tooltip"><div class="popover-content"></div></div>',content:function(){return t(c.popoverContent.deletePalettePopoverContent).html()}})).popover("show"),r.popover("hide");var o=t(".js_palette_delete_popover_inner").parent().parent();l(o);var a=p(s,o);!function(r,o,a){var s=t(".js_popover_close",o),l=t(".js_popover_action",o);l.on("click",i(n.mark((function o(){var i;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!1===l.prop("disabled")){n.next=2;break}return n.abrupt("return");case 2:return l.prop("disabled",!0),i=c.getCurrentPalette().id,n.next=6,e.deletePalette(i);case 6:return n.next=8,c.refreshUserPalettes();case 8:c.renderPickerOptions(),c.selectLatestPalette(),c.renderColorCircles(),r.trigger("click"),t(document).off("click",a),c.$optionsPopover.css("pointer-events","all");case 14:case"end":return n.stop()}}),o)})))),s.on("click",(function(){r.trigger("click"),t(document).off("click",a),c.$optionsPopover.css("pointer-events","all")}))}(s,o,a)}()}d("off"),u=!1},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"on";"on"===e?(t(document).on("click",".js_palette_popover_trigger",f),t(document).on("click",".js_palette_rename_trigger",f),t(document).on("click",".js_palette_edit_trigger",f),t(document).on("click",".js_delete_palette_popover_trigger",f)):(t(document).off("click",".js_palette_popover_trigger",f),t(document).off("click",".js_palette_rename_trigger",f),t(document).off("click",".js_palette_edit_trigger",f),t(document).off("click",".js_delete_palette_popover_trigger",f))};r.on("click",(function(){var e=function e(n){var o=t(".js_palette_options_popover_inner").parent().parent();if(!o[0])return t(document).off("click",e),d("off"),void(u=!1);r[0].contains(n.target)||o[0].contains(n.target)||(r.popover("hide"),t(document).off("click",e),d("off"),u=!1)};if(!(u=!u))return d("off"),void t(document).off("click",e);o&&o.popover("hide"),a&&a.popover("hide"),s&&s.popover("hide"),d("on");var n=t(".js_palette_options_popover_inner"),i=[t(".js_palette_rename_trigger",n).parent(),t(".js_palette_edit_trigger",n).parent(),t(".js_delete_palette_popover_trigger",n).parent()];c.userPalettes.length?i.forEach((function(t){return t.css("display","block")})):i.forEach((function(t){return t.css("display","none")})),t(document).on("click",e)}))}},{key:"getCurrentPalette",value:function(){return this.userPalettes[this.selectedPaletteIndex]}},{key:"selectPalette",value:function(t){t=parseInt(t),this.selectedPaletteIndex=this.userPalettes.findIndex((function(e){return parseInt(e.id)===t})),this.$selectpicker.val(t),this.$selectpicker.selectpicker("refresh")}},{key:"selectLatestPalette",value:function(){if(this.userPalettes.length){var t=this.userPalettes[this.userPalettes.length-1].id;this.selectPalette(t)}}},{key:"hideOptionsPopover",value:function(){this.$optionsPopover.popover("hide")}},{key:"attachEvents",value:function(){var t=this,e=function(){var e=i(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.adjustPalette(),t.showLoader(),e.next=4,t.refreshUserPalettes();case 4:t.renderPickerOptions(),t.selectLatestPalette(),t.renderColorCircles(),t.hideLoader();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();this.input.on("show.kspectrum",e),this.input.on("hide.kspectrum",(function(){t.addBtn&&t.addBtn.off("click"),t.colorCircles&&t.colorCircles.off("click")})),this.$selectpicker.on("changed.bs.select",(function(e,n){t.selectedPaletteIndex=n,t.renderColorCircles()}))}},{key:"showError",value:function(t,e){var n=t.siblings(".js_help_block_error");t.addClass("error"),n.css("display","block"),n.text(e)}},{key:"hideError",value:function(t){var e=t.siblings(".js_help_block_error");t.removeClass("error"),e.hide()}},{key:"checkEmptyPaletteName",value:function(t,e){var n=t.val();n&&""!==n.trim()?(e.prop("disabled",!1),this.hideError(t)):e.prop("disabled",!0)}},{key:"convertRgbaToRgb",value:function(t){var e=t.match(/\d+\.*\d*/g),n={},r={};return n.R=e.shift()/255,n.G=e.shift()/255,n.B=e.shift()/255,n.A=e.shift()/1,r.R=parseInt(255*(1-n.A+n.A*n.R)),r.G=parseInt(255*(1-n.A+n.A*n.G)),r.B=parseInt(255*(1-n.A+n.A*n.B)),"rgb(".concat(r.R,", ").concat(r.G,", ").concat(r.B,")")}}]),r}()}(jQuery),(pt=i(n.mark((function t(e){var o,i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=0,e.fn.kspectrum=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"==typeof t?t:void 0,a="object"===r(t)?t:void 0;if(n){var s=[];this.each((function(t,n){var r=e(n).data("kSpectrumInstance");s.push(r)}));var c=[],l=arguments.length>1?Array.prototype.slice.call(arguments,1):void 0;return this.each((function(t){var e=s[t];if(!e)return console.warn("$.kspectrum not instantiated yet"),void c.push(void 0);if("function"==typeof e[n]){var r=e[n].apply(e,l);c.push(r)}else console.warn("Method '"+n+"' not defined in $.kspectrum")})),"set"===n?this:c.length>1?c:c[0]}if(a)return this.each((function(t,n){var r=a.spectrumOptions,s=void 0===r?{}:r,c=a.inputOptions,l=void 0===c?{}:c,p=e.extend({},e.fn.kspectrum.spectrumDefaults,s),u=e.extend({},e.fn.kspectrum.inputDefaults,l),f=e(n),d=new i(f,{spectrumSettings:p,inputSettings:u});f.data("kSpectrumInstance",d),f.data("kSpectrumInstanceId",o),o++}))},e.fn.kspectrum.spectrumDefaults={preferredFormat:"rgb",showInput:!0,showButtons:!0,clickoutFiresChange:!0,showAlpha:!0,flat:!0},e.fn.kspectrum.inputDefaults={renderColorCircleOnly:!1,showColorPalette:!0},i=function(){function t(n,r){a(this,t),this.$input=n,this.$colorCircle=void 0,this.$wrapper=e('<div class="kspectrum"></div>'),this.$spContainer=void 0,this.settings=r,this.shown=!1,this.set=this.setValue,this.get=this.getValue,this.destroy=this.destroyInstance,this.show=this.showSpectrum,this.hide=this.hideSpectrum,this.reposition=this.updatePosition,this.init()}return c(t,[{key:"init",value:function(){var t=this.settings.inputSettings;this.attachSpectrum(),this.renderColorCircle(),this.attachEvents(),t.renderColorCircleOnly?this.$targetElement=this.$colorCircle:this.$targetElement=this.$input}},{key:"setValue",value:function(t){this.$input.spectrum("set",t),this.$input.spectrum("reflow"),this.$input.trigger("change")}},{key:"getValue",value:function(){if(!this.$input.val())return null;var t=this.$input.spectrum("get");return t.toRgbString?t.toRgbString():this.$input.val()}},{key:"destroyInstance",value:function(){this.$wrapper.remove(),this.$input.data("kSpectrumInstance",null),this.$input.spectrum("destroy"),this.$input.off(),this.$input.parent().find(".sp-replacer").remove(),this.$input.removeAttr("data-initialised")}},{key:"toggleSpectrum",value:function(){this.$input.toggleClass("open"),this.$wrapper.toggle(),this.$input.hasClass("open")?(this.shown=!0,this.$input.trigger("show.kspectrum")):(this.shown=!1,this.$input.trigger("hide.kspectrum"))}},{key:"showSpectrum",value:function(){this.$input.addClass("open"),this.$wrapper.show(),this.$input.trigger("show.kspectrum"),this.shown=!0}},{key:"hideSpectrum",value:function(){var t=this.$input[0].ownerDocument;e(t).off("click.spectrum"),this.$input.removeClass("open"),this.$wrapper.hide(),this.shown=!1,this.$input.trigger("hide.kspectrum")}},{key:"attachSpectrum",value:function(){var t=this,n=this.settings,r=n.spectrumSettings,i=n.inputSettings,a=r.move,s=void 0===a?function(){}:a,c=(r.show,r.change,r.hide,this);this.$input=this.$input.spectrum(u(u({},r),{},{move:function(t){null!==t&&(t=t.toRgbString()),c.setValue(t),s(t)}}));var l=this.$input.spectrum("container").detach(),p=this.$input[0].ownerDocument;e(p).off("click.spectrum"),e(".sp-button-container",l).remove(),this.$wrapper.prop("id","kspectrum-wrapper-"+o),this.$wrapper.prop("instanceId",o),l.prop("id","kspectrum-for-input-"+o),this.$wrapper.append(l),this.$wrapper.hide(),e("body").append(this.$wrapper),i.showColorPalette&&this.$input.colorpalette(),i.renderColorCircleOnly||this.$input.show().off("click").on("click",(function(){t.toggleSpectrum()})),this.$spContainer=e(this.$input.spectrum("container"))}},{key:"renderColorCircle",value:function(){var t=this,n=this.settings.inputSettings,r=this.getValue();this.$colorCircle=e('<div class="sp-replacer sp-light"><div class="sp-preview"><div class="sp-preview-inner" style="background-color: '+r+';"></div></div><div class="sp-dd"></div></div>'),this.$input.parent().find(".sp-replacer").remove(),this.$input.after(this.$colorCircle),n.renderColorCircleOnly&&(this.$input.off("click"),this.$colorCircle.off("click").on("click",(function(){t.toggleSpectrum()})))}},{key:"updateColorCircle",value:function(){var t=this.getValue();t?this.$colorCircle.find(".sp-preview-inner").css("background-color",t):this.$colorCircle.find(".sp-preview-inner").css("background-color","")}},{key:"attachEvents",value:function(){var t=this,n=this.settings.spectrumSettings,r=n.onShow,o=void 0===r?function(){}:r,i=n.onHide,a=void 0===i?function(){}:i,s=n.onChange,c=void 0===s?function(){}:s,l=function n(r){if(t.shown&&!t.$input[0].contains(r.target)&&!t.$colorCircle[0].contains(r.target)){var o=t.settings.inputSettings,i=!1;o.showColorPalette&&[e(".js_palette_options_popover_inner"),e(".js_palette_new_popover_inner"),e(".js_palette_rename_popover_inner"),e(".js_palette_delete_popover_inner")].some((function(e){if(e[0]){if(t.$spContainer.parent()[0].contains(r.target)||e[0].contains(r.target))return i=!0,!0}else if(t.$spContainer.parent()[0].contains(r.target))return i=!0,!0})),i||(t.hideSpectrum(),e(document).off("click",n))}};this.$input.on("show.kspectrum",(function(){t.showPopper(),t.getValue()?t.$input.spectrum("set",t.$input.val()):t.$input.val(null),t.$input.spectrum("reflow"),e(document).on("click",l),o()})),this.$input.on("change.spectrum",(function(e){var n=t.getValue();n||t.$input.val(null),c(n),t.updateColorCircle()})),this.$input.on("hide.kspectrum",(function(){a(),t.hidePopper()})),this.$input.attr("data-initialised",!0)}},{key:"createPopper",value:function(){this.popperInstance=ut(this.$targetElement[0],this.$wrapper[0],{placement:"auto",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,8]}}]})}},{key:"destroyPopper",value:function(){this.popperInstance&&(this.popperInstance.destroy(),this.popperInstance=null)}},{key:"updatePosition",value:function(){this.popperInstance&&this.popperInstance.update()}},{key:"showPopper",value:function(){this.$wrapper.attr("data-show",""),this.createPopper()}},{key:"hidePopper",value:function(){this.$wrapper.removeAttr("data-show"),this.destroyPopper()}}]),t}();case 5:case"end":return t.stop()}}),t)}))),function(t){return pt.apply(this,arguments)})(jQuery)}(jQuery),(new function(){return new CKEDITOR.dom.window(window).$.parent.jsVars,{init:function(){CKEDITOR.plugins.add("BgColorKspectrum",{init:function(t){!function(t){t.config,t.addCommand("kspectrum_bg_color",{exec:function(t){t.insertHtml("bgcolor")}}),t.ui.addButton("BgColor",{label:"Background Color",command:"kspectrum_bg_color",toolbar:"basicstyles",icon:"bgcolor"})}(t)}})}}}).init()}();
//# sourceMappingURL=plugin.js.map
