{"version":3,"file":"plugin.js","sources":["../../../node_modules/kspectrum/node_modules/regenerator-runtime/runtime.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/getWindow.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/enums.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/utils/getBasePlacement.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/index.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/modifiers/eventListeners.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/utils/getVariation.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/utils/computeOffsets.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/modifiers/computeStyles.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/getBorders.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/contains.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/utils/rectToClientRect.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/dom-utils/getDecorations.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/utils/expandToHashMap.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/utils/detectOverflow.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/utils/within.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/modifiers/hide.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/popper.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/utils/debounce.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/utils/mergeByName.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/utils/orderModifiers.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/modifiers/applyStyles.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/modifiers/offset.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/modifiers/flip.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/utils/getAltAxis.js","../../../node_modules/kspectrum/node_modules/@popperjs/core/lib/modifiers/arrow.js","../../../node_modules/kspectrum/node_modules/spectrum-colorpicker/spectrum.js","../../../node_modules/kspectrum/src/colorpalette.jquery.js","../../../node_modules/kspectrum/src/kspectrum.jquery.js","plugin.es.js"],"sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","export default function getBoundingClientRect(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    width: rect.width,\n    height: rect.height,\n    top: rect.top,\n    right: rect.right,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    y: rect.top\n  };\n}","/*:: import type { Window } from '../types'; */\n\n/*:: declare function getWindow(node: Node | Window): Window; */\nexport default function getWindow(node) {\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView : window;\n  }\n\n  return node;\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","import getWindow from \"./getWindow.js\";\n/*:: declare function isElement(node: mixed): boolean %checks(node instanceof\n  Element); */\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n/*:: declare function isHTMLElement(node: mixed): boolean %checks(node instanceof\n  HTMLElement); */\n\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nexport { isElement, isHTMLElement };","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe: assume body is always available\n  return (isElement(element) ? element.ownerDocument : element.document).documentElement;\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\"; // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (!isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","// Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\nexport default function getLayoutRect(element) {\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  };\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// $FlowFixMe: this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || // DOM Element detected\n    // $FlowFixMe: need a better way to handle this...\n    element.host || // ShadowRoot detected\n    // $FlowFixMe: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nexport default function listScrollParents(element, list) {\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = getNodeName(scrollParent) === 'body';\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n}\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element); // Find the nearest non-table offsetParent\n\n  while (offsetParent && isTableElement(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static') {\n    return window;\n  }\n\n  return offsetParent || window;\n}","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport getComputedStyle from \"./dom-utils/getComputedStyle.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport validateModifiers from \"./utils/validateModifiers.js\";\nimport uniqueBy from \"./utils/uniqueBy.js\";\nimport getBasePlacement from \"./utils/getBasePlacement.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nimport { auto } from \"./enums.js\";\nexport * from \"./enums.js\";\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, {}, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(options) {\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, {}, state.options, {}, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator();","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = Math.floor(offsets[mainAxis]) - Math.floor(reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = Math.floor(offsets[mainAxis]) + Math.ceil(reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","import { top, left, right, bottom } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsets(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: Math.round(x * dpr) / dpr || 0,\n    y: Math.round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive;\n\n  var _roundOffsets = roundOffsets(offsets),\n      x = _roundOffsets.x,\n      y = _roundOffsets.y;\n\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n    } // $FlowFixMe: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n    /*:: offsetParent = (offsetParent: Element); */\n\n\n    if (placement === top) {\n      sideY = bottom;\n      y -= offsetParent.clientHeight - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left) {\n      sideX = right;\n      x -= offsetParent.clientWidth - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) < 2 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref3) {\n  var state = _ref3.state,\n      options = _ref3.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, {}, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, {}, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","import getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\n\nfunction toNumber(cssValue) {\n  return parseFloat(cssValue) || 0;\n}\n\nexport default function getBorders(element) {\n  var computedStyle = isHTMLElement(element) ? getComputedStyle(element) : {};\n  return {\n    top: toNumber(computedStyle.borderTopWidth),\n    right: toNumber(computedStyle.borderRightWidth),\n    bottom: toNumber(computedStyle.borderBottomWidth),\n    left: toNumber(computedStyle.borderLeftWidth)\n  };\n}","export default function contains(parent, child) {\n  // $FlowFixMe: hasOwnProperty doesn't seem to work in tests\n  var isShadow = Boolean(child.getRootNode && child.getRootNode().host); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (isShadow) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDecorations from \"./getDecorations.js\";\nimport contains from \"./contains.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\n\nfunction getClientRectFromMixedType(element, clippingParent) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element)) : isHTMLElement(clippingParent) ? getBoundingClientRect(clippingParent) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(element);\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement);\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent);\n    var decorations = getDecorations(isHTMLElement(clippingParent) ? clippingParent : getDocumentElement(element));\n    accRect.top = Math.max(rect.top + decorations.top, accRect.top);\n    accRect.right = Math.min(rect.right - decorations.right, accRect.right);\n    accRect.bottom = Math.min(rect.bottom - decorations.bottom, accRect.bottom);\n    accRect.left = Math.max(rect.left + decorations.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getWindow from \"./getWindow.js\";\nexport default function getViewportRect(element) {\n  var win = getWindow(element);\n  var visualViewport = win.visualViewport;\n  var width = win.innerWidth;\n  var height = win.innerHeight; // We don't know which browsers have buggy or odd implementations of this, so\n  // for now we're only applying it to iOS to fix the keyboard issue.\n  // Investigation required\n\n  if (visualViewport && /iPhone|iPod|iPad/.test(navigator.platform)) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: 0,\n    y: 0\n  };\n}","import getCompositeRect from \"./getCompositeRect.js\";\nimport getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getDocumentRect(element) {\n  var win = getWindow(element);\n  var winScroll = getWindowScroll(element);\n  var documentRect = getCompositeRect(getDocumentElement(element), win);\n  documentRect.height = Math.max(documentRect.height, win.innerHeight);\n  documentRect.width = Math.max(documentRect.width, win.innerWidth);\n  documentRect.x = -winScroll.scrollLeft;\n  documentRect.y = -winScroll.scrollTop;\n  return documentRect;\n}","import getBorders from \"./getBorders.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getWindow from \"./getWindow.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\"; // Borders + scrollbars\n\nexport default function getDecorations(element) {\n  var win = getWindow(element);\n  var borders = getBorders(element);\n  var isHTML = getNodeName(element) === 'html';\n  var winScrollBarX = getWindowScrollBarX(element);\n  var x = element.clientWidth + borders.right;\n  var y = element.clientHeight + borders.bottom; // HACK:\n  // document.documentElement.clientHeight on iOS reports the height of the\n  // viewport including the bottom bar, even if the bottom bar isn't visible.\n  // If the difference between window innerHeight and html clientHeight is more\n  // than 50, we assume it's a mobile bottom bar and ignore scrollbars.\n  // * A 50px thick scrollbar is likely non-existent (macOS is 15px and Windows\n  //   is about 17px)\n  // * The mobile bar is 114px tall\n\n  if (isHTML && win.innerHeight - element.clientHeight > 50) {\n    y = win.innerHeight - borders.bottom;\n  }\n\n  return {\n    top: isHTML ? 0 : element.clientTop,\n    right: // RTL scrollbar (scrolling containers only)\n    element.clientLeft > borders.left ? borders.right : // LTR scrollbar\n    isHTML ? win.innerWidth - x - winScrollBarX : element.offsetWidth - x,\n    bottom: isHTML ? win.innerHeight - y : element.offsetHeight - y,\n    left: isHTML ? winScrollBarX : element.clientLeft\n  };\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), {}, paddingObject);\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","import getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var referenceElement = state.elements.reference;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary);\n  var referenceClientRect = getBoundingClientRect(referenceElement);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, {}, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\n\n/*:: type OverflowsMap = { [ComputedPlacement]: number }; */\n\n/*;; type OverflowsMap = { [key in ComputedPlacement]: number }; */\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = (variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements).filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  }); // $FlowFixMe: Flow seems to have problems with two array unions...\n\n  var overflows = placements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","export default function within(min, value, max) {\n  return Math.max(min, Math.min(value, max));\n}","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","import { popperGenerator } from \"./index.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, {}, current, {\n      options: Object.assign({}, existing.options, {}, current.options),\n      data: Object.assign({}, existing.data, {}, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      } // Flow doesn't support to extend this property, but it's the most\n      // effective way to apply styles to an HTMLElement\n      // $FlowFixMe\n\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\";\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases – research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport within from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = popperOffsets[mainAxis] + overflow[mainSide];\n    var max = popperOffsets[mainAxis] - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - tetherOffsetValue : minLen - arrowLen - arrowPaddingMin - tetherOffsetValue;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + tetherOffsetValue : maxLen + arrowLen + arrowPaddingMax + tetherOffsetValue;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = state.modifiersData.offset ? state.modifiersData.offset[state.placement][mainAxis] : 0;\n    var tetherMin = popperOffsets[mainAxis] + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = popperOffsets[mainAxis] + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? Math.min(min, tetherMin) : min, offset, tether ? Math.max(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var _preventedOffset = within(_min, _offset, _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport within from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = state.modifiersData[name + \"#persistent\"].padding;\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element,\n      _options$padding = options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n  state.modifiersData[name + \"#persistent\"] = {\n    padding: mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements))\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","// Spectrum Colorpicker v1.8.1\n// https://github.com/bgrins/spectrum\n// Author: Brian Grinstead\n// License: MIT\n\n(function (factory) {\n    \"use strict\";\n\n    if (typeof define === 'function' && define.amd) { // AMD\n        define(['jquery'], factory);\n    }\n    else if (typeof exports == \"object\" && typeof module == \"object\") { // CommonJS\n        module.exports = factory(require('jquery'));\n    }\n    else { // Browser\n        factory(jQuery);\n    }\n})(function($, undefined) {\n    \"use strict\";\n\n    var defaultOpts = {\n\n        // Callbacks\n        beforeShow: noop,\n        move: noop,\n        change: noop,\n        show: noop,\n        hide: noop,\n\n        // Options\n        color: false,\n        flat: false,\n        showInput: false,\n        allowEmpty: false,\n        showButtons: true,\n        clickoutFiresChange: true,\n        showInitial: false,\n        showPalette: false,\n        showPaletteOnly: false,\n        hideAfterPaletteSelect: false,\n        togglePaletteOnly: false,\n        showSelectionPalette: true,\n        localStorageKey: false,\n        appendTo: \"body\",\n        maxSelectionSize: 7,\n        cancelText: \"cancel\",\n        chooseText: \"choose\",\n        togglePaletteMoreText: \"more\",\n        togglePaletteLessText: \"less\",\n        clearText: \"Clear Color Selection\",\n        noColorSelectedText: \"No Color Selected\",\n        preferredFormat: false,\n        className: \"\", // Deprecated - use containerClassName and replacerClassName instead.\n        containerClassName: \"\",\n        replacerClassName: \"\",\n        showAlpha: false,\n        theme: \"sp-light\",\n        palette: [[\"#ffffff\", \"#000000\", \"#ff0000\", \"#ff8000\", \"#ffff00\", \"#008000\", \"#0000ff\", \"#4b0082\", \"#9400d3\"]],\n        selectionPalette: [],\n        disabled: false,\n        offset: null\n    },\n    spectrums = [],\n    IE = !!/msie/i.exec( window.navigator.userAgent ),\n    rgbaSupport = (function() {\n        function contains( str, substr ) {\n            return !!~('' + str).indexOf(substr);\n        }\n\n        var elem = document.createElement('div');\n        var style = elem.style;\n        style.cssText = 'background-color:rgba(0,0,0,.5)';\n        return contains(style.backgroundColor, 'rgba') || contains(style.backgroundColor, 'hsla');\n    })(),\n    replaceInput = [\n        \"<div class='sp-replacer'>\",\n            \"<div class='sp-preview'><div class='sp-preview-inner'></div></div>\",\n            \"<div class='sp-dd'>&#9660;</div>\",\n        \"</div>\"\n    ].join(''),\n    markup = (function () {\n\n        // IE does not support gradients with multiple stops, so we need to simulate\n        //  that for the rainbow slider with 8 divs that each have a single gradient\n        var gradientFix = \"\";\n        if (IE) {\n            for (var i = 1; i <= 6; i++) {\n                gradientFix += \"<div class='sp-\" + i + \"'></div>\";\n            }\n        }\n\n        return [\n            \"<div class='sp-container sp-hidden'>\",\n                \"<div class='sp-palette-container'>\",\n                    \"<div class='sp-palette sp-thumb sp-cf'></div>\",\n                    \"<div class='sp-palette-button-container sp-cf'>\",\n                        \"<button type='button' class='sp-palette-toggle'></button>\",\n                    \"</div>\",\n                \"</div>\",\n                \"<div class='sp-picker-container'>\",\n                    \"<div class='sp-top sp-cf'>\",\n                        \"<div class='sp-fill'></div>\",\n                        \"<div class='sp-top-inner'>\",\n                            \"<div class='sp-color'>\",\n                                \"<div class='sp-sat'>\",\n                                    \"<div class='sp-val'>\",\n                                        \"<div class='sp-dragger'></div>\",\n                                    \"</div>\",\n                                \"</div>\",\n                            \"</div>\",\n                            \"<div class='sp-clear sp-clear-display'>\",\n                            \"</div>\",\n                            \"<div class='sp-hue'>\",\n                                \"<div class='sp-slider'></div>\",\n                                gradientFix,\n                            \"</div>\",\n                        \"</div>\",\n                        \"<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>\",\n                    \"</div>\",\n                    \"<div class='sp-input-container sp-cf'>\",\n                        \"<input class='sp-input' type='text' spellcheck='false'  />\",\n                    \"</div>\",\n                    \"<div class='sp-initial sp-thumb sp-cf'></div>\",\n                    \"<div class='sp-button-container sp-cf'>\",\n                        \"<a class='sp-cancel' href='#'></a>\",\n                        \"<button type='button' class='sp-choose'></button>\",\n                    \"</div>\",\n                \"</div>\",\n            \"</div>\"\n        ].join(\"\");\n    })();\n\n    function paletteTemplate (p, color, className, opts) {\n        var html = [];\n        for (var i = 0; i < p.length; i++) {\n            var current = p[i];\n            if(current) {\n                var tiny = tinycolor(current);\n                var c = tiny.toHsl().l < 0.5 ? \"sp-thumb-el sp-thumb-dark\" : \"sp-thumb-el sp-thumb-light\";\n                c += (tinycolor.equals(color, current)) ? \" sp-thumb-active\" : \"\";\n                var formattedString = tiny.toString(opts.preferredFormat || \"rgb\");\n                var swatchStyle = rgbaSupport ? (\"background-color:\" + tiny.toRgbString()) : \"filter:\" + tiny.toFilter();\n                html.push('<span title=\"' + formattedString + '\" data-color=\"' + tiny.toRgbString() + '\" class=\"' + c + '\"><span class=\"sp-thumb-inner\" style=\"' + swatchStyle + ';\"></span></span>');\n            } else {\n                var cls = 'sp-clear-display';\n                html.push($('<div />')\n                    .append($('<span data-color=\"\" style=\"background-color:transparent;\" class=\"' + cls + '\"></span>')\n                        .attr('title', opts.noColorSelectedText)\n                    )\n                    .html()\n                );\n            }\n        }\n        return \"<div class='sp-cf \" + className + \"'>\" + html.join('') + \"</div>\";\n    }\n\n    function hideAll() {\n        for (var i = 0; i < spectrums.length; i++) {\n            if (spectrums[i]) {\n                spectrums[i].hide();\n            }\n        }\n    }\n\n    function instanceOptions(o, callbackContext) {\n        var opts = $.extend({}, defaultOpts, o);\n        opts.callbacks = {\n            'move': bind(opts.move, callbackContext),\n            'change': bind(opts.change, callbackContext),\n            'show': bind(opts.show, callbackContext),\n            'hide': bind(opts.hide, callbackContext),\n            'beforeShow': bind(opts.beforeShow, callbackContext)\n        };\n\n        return opts;\n    }\n\n    function spectrum(element, o) {\n\n        var opts = instanceOptions(o, element),\n            flat = opts.flat,\n            showSelectionPalette = opts.showSelectionPalette,\n            localStorageKey = opts.localStorageKey,\n            theme = opts.theme,\n            callbacks = opts.callbacks,\n            resize = throttle(reflow, 10),\n            visible = false,\n            isDragging = false,\n            dragWidth = 0,\n            dragHeight = 0,\n            dragHelperHeight = 0,\n            slideHeight = 0,\n            slideWidth = 0,\n            alphaWidth = 0,\n            alphaSlideHelperWidth = 0,\n            slideHelperHeight = 0,\n            currentHue = 0,\n            currentSaturation = 0,\n            currentValue = 0,\n            currentAlpha = 1,\n            palette = [],\n            paletteArray = [],\n            paletteLookup = {},\n            selectionPalette = opts.selectionPalette.slice(0),\n            maxSelectionSize = opts.maxSelectionSize,\n            draggingClass = \"sp-dragging\",\n            shiftMovementDirection = null;\n\n        var doc = element.ownerDocument,\n            body = doc.body,\n            boundElement = $(element),\n            disabled = false,\n            container = $(markup, doc).addClass(theme),\n            pickerContainer = container.find(\".sp-picker-container\"),\n            dragger = container.find(\".sp-color\"),\n            dragHelper = container.find(\".sp-dragger\"),\n            slider = container.find(\".sp-hue\"),\n            slideHelper = container.find(\".sp-slider\"),\n            alphaSliderInner = container.find(\".sp-alpha-inner\"),\n            alphaSlider = container.find(\".sp-alpha\"),\n            alphaSlideHelper = container.find(\".sp-alpha-handle\"),\n            textInput = container.find(\".sp-input\"),\n            paletteContainer = container.find(\".sp-palette\"),\n            initialColorContainer = container.find(\".sp-initial\"),\n            cancelButton = container.find(\".sp-cancel\"),\n            clearButton = container.find(\".sp-clear\"),\n            chooseButton = container.find(\".sp-choose\"),\n            toggleButton = container.find(\".sp-palette-toggle\"),\n            isInput = boundElement.is(\"input\"),\n            isInputTypeColor = isInput && boundElement.attr(\"type\") === \"color\" && inputTypeColorSupport(),\n            shouldReplace = isInput && !flat,\n            replacer = (shouldReplace) ? $(replaceInput).addClass(theme).addClass(opts.className).addClass(opts.replacerClassName) : $([]),\n            offsetElement = (shouldReplace) ? replacer : boundElement,\n            previewElement = replacer.find(\".sp-preview-inner\"),\n            initialColor = opts.color || (isInput && boundElement.val()),\n            colorOnShow = false,\n            currentPreferredFormat = opts.preferredFormat,\n            clickoutFiresChange = !opts.showButtons || opts.clickoutFiresChange,\n            isEmpty = !initialColor,\n            allowEmpty = opts.allowEmpty && !isInputTypeColor;\n\n        function applyOptions() {\n\n            if (opts.showPaletteOnly) {\n                opts.showPalette = true;\n            }\n\n            toggleButton.text(opts.showPaletteOnly ? opts.togglePaletteMoreText : opts.togglePaletteLessText);\n\n            if (opts.palette) {\n                palette = opts.palette.slice(0);\n                paletteArray = $.isArray(palette[0]) ? palette : [palette];\n                paletteLookup = {};\n                for (var i = 0; i < paletteArray.length; i++) {\n                    for (var j = 0; j < paletteArray[i].length; j++) {\n                        var rgb = tinycolor(paletteArray[i][j]).toRgbString();\n                        paletteLookup[rgb] = true;\n                    }\n                }\n            }\n\n            container.toggleClass(\"sp-flat\", flat);\n            container.toggleClass(\"sp-input-disabled\", !opts.showInput);\n            container.toggleClass(\"sp-alpha-enabled\", opts.showAlpha);\n            container.toggleClass(\"sp-clear-enabled\", allowEmpty);\n            container.toggleClass(\"sp-buttons-disabled\", !opts.showButtons);\n            container.toggleClass(\"sp-palette-buttons-disabled\", !opts.togglePaletteOnly);\n            container.toggleClass(\"sp-palette-disabled\", !opts.showPalette);\n            container.toggleClass(\"sp-palette-only\", opts.showPaletteOnly);\n            container.toggleClass(\"sp-initial-disabled\", !opts.showInitial);\n            container.addClass(opts.className).addClass(opts.containerClassName);\n\n            reflow();\n        }\n\n        function initialize() {\n\n            if (IE) {\n                container.find(\"*:not(input)\").attr(\"unselectable\", \"on\");\n            }\n\n            applyOptions();\n\n            if (shouldReplace) {\n                boundElement.after(replacer).hide();\n            }\n\n            if (!allowEmpty) {\n                clearButton.hide();\n            }\n\n            if (flat) {\n                boundElement.after(container).hide();\n            }\n            else {\n\n                var appendTo = opts.appendTo === \"parent\" ? boundElement.parent() : $(opts.appendTo);\n                if (appendTo.length !== 1) {\n                    appendTo = $(\"body\");\n                }\n\n                appendTo.append(container);\n            }\n\n            updateSelectionPaletteFromStorage();\n\n            offsetElement.on(\"click.spectrum touchstart.spectrum\", function (e) {\n                if (!disabled) {\n                    toggle();\n                }\n\n                e.stopPropagation();\n\n                if (!$(e.target).is(\"input\")) {\n                    e.preventDefault();\n                }\n            });\n\n            if(boundElement.is(\":disabled\") || (opts.disabled === true)) {\n                disable();\n            }\n\n            // Prevent clicks from bubbling up to document.  This would cause it to be hidden.\n            container.click(stopPropagation);\n\n            // Handle user typed input\n            textInput.change(setFromTextInput);\n            textInput.on(\"paste\", function () {\n                setTimeout(setFromTextInput, 1);\n            });\n            textInput.keydown(function (e) { if (e.keyCode == 13) { setFromTextInput(); } });\n\n            cancelButton.text(opts.cancelText);\n            cancelButton.on(\"click.spectrum\", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n                revert();\n                hide();\n            });\n\n            clearButton.attr(\"title\", opts.clearText);\n            clearButton.on(\"click.spectrum\", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n                isEmpty = true;\n                move();\n\n                if(flat) {\n                    //for the flat style, this is a change event\n                    updateOriginalInput(true);\n                }\n            });\n\n            chooseButton.text(opts.chooseText);\n            chooseButton.on(\"click.spectrum\", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                if (IE && textInput.is(\":focus\")) {\n                    textInput.trigger('change');\n                }\n\n                if (isValid()) {\n                    updateOriginalInput(true);\n                    hide();\n                }\n            });\n\n            toggleButton.text(opts.showPaletteOnly ? opts.togglePaletteMoreText : opts.togglePaletteLessText);\n            toggleButton.on(\"click.spectrum\", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                opts.showPaletteOnly = !opts.showPaletteOnly;\n\n                // To make sure the Picker area is drawn on the right, next to the\n                // Palette area (and not below the palette), first move the Palette\n                // to the left to make space for the picker, plus 5px extra.\n                // The 'applyOptions' function puts the whole container back into place\n                // and takes care of the button-text and the sp-palette-only CSS class.\n                if (!opts.showPaletteOnly && !flat) {\n                    container.css('left', '-=' + (pickerContainer.outerWidth(true) + 5));\n                }\n                applyOptions();\n            });\n\n            draggable(alphaSlider, function (dragX, dragY, e) {\n                currentAlpha = (dragX / alphaWidth);\n                isEmpty = false;\n                if (e.shiftKey) {\n                    currentAlpha = Math.round(currentAlpha * 10) / 10;\n                }\n\n                move();\n            }, dragStart, dragStop);\n\n            draggable(slider, function (dragX, dragY) {\n                currentHue = parseFloat(dragY / slideHeight);\n                isEmpty = false;\n                if (!opts.showAlpha) {\n                    currentAlpha = 1;\n                }\n                move();\n            }, dragStart, dragStop);\n\n            draggable(dragger, function (dragX, dragY, e) {\n\n                // shift+drag should snap the movement to either the x or y axis.\n                if (!e.shiftKey) {\n                    shiftMovementDirection = null;\n                }\n                else if (!shiftMovementDirection) {\n                    var oldDragX = currentSaturation * dragWidth;\n                    var oldDragY = dragHeight - (currentValue * dragHeight);\n                    var furtherFromX = Math.abs(dragX - oldDragX) > Math.abs(dragY - oldDragY);\n\n                    shiftMovementDirection = furtherFromX ? \"x\" : \"y\";\n                }\n\n                var setSaturation = !shiftMovementDirection || shiftMovementDirection === \"x\";\n                var setValue = !shiftMovementDirection || shiftMovementDirection === \"y\";\n\n                if (setSaturation) {\n                    currentSaturation = parseFloat(dragX / dragWidth);\n                }\n                if (setValue) {\n                    currentValue = parseFloat((dragHeight - dragY) / dragHeight);\n                }\n\n                isEmpty = false;\n                if (!opts.showAlpha) {\n                    currentAlpha = 1;\n                }\n\n                move();\n\n            }, dragStart, dragStop);\n\n            if (!!initialColor) {\n                set(initialColor);\n\n                // In case color was black - update the preview UI and set the format\n                // since the set function will not run (default color is black).\n                updateUI();\n                currentPreferredFormat = opts.preferredFormat || tinycolor(initialColor).format;\n\n                addColorToSelectionPalette(initialColor);\n            }\n            else {\n                updateUI();\n            }\n\n            if (flat) {\n                show();\n            }\n\n            function paletteElementClick(e) {\n                if (e.data && e.data.ignore) {\n                    set($(e.target).closest(\".sp-thumb-el\").data(\"color\"));\n                    move();\n                }\n                else {\n                    set($(e.target).closest(\".sp-thumb-el\").data(\"color\"));\n                    move();\n\n                    // If the picker is going to close immediately, a palette selection\n                    // is a change.  Otherwise, it's a move only.\n                    if (opts.hideAfterPaletteSelect) {\n                        updateOriginalInput(true);\n                        hide();\n                    } else {\n                        updateOriginalInput();\n                    }\n                }\n\n                return false;\n            }\n\n            var paletteEvent = IE ? \"mousedown.spectrum\" : \"click.spectrum touchstart.spectrum\";\n            paletteContainer.on(paletteEvent, \".sp-thumb-el\", paletteElementClick);\n            initialColorContainer.on(paletteEvent, \".sp-thumb-el:nth-child(1)\", { ignore: true }, paletteElementClick);\n        }\n\n        function updateSelectionPaletteFromStorage() {\n\n            if (localStorageKey && window.localStorage) {\n\n                // Migrate old palettes over to new format.  May want to remove this eventually.\n                try {\n                    var oldPalette = window.localStorage[localStorageKey].split(\",#\");\n                    if (oldPalette.length > 1) {\n                        delete window.localStorage[localStorageKey];\n                        $.each(oldPalette, function(i, c) {\n                             addColorToSelectionPalette(c);\n                        });\n                    }\n                }\n                catch(e) { }\n\n                try {\n                    selectionPalette = window.localStorage[localStorageKey].split(\";\");\n                }\n                catch (e) { }\n            }\n        }\n\n        function addColorToSelectionPalette(color) {\n            if (showSelectionPalette) {\n                var rgb = tinycolor(color).toRgbString();\n                if (!paletteLookup[rgb] && $.inArray(rgb, selectionPalette) === -1) {\n                    selectionPalette.push(rgb);\n                    while(selectionPalette.length > maxSelectionSize) {\n                        selectionPalette.shift();\n                    }\n                }\n\n                if (localStorageKey && window.localStorage) {\n                    try {\n                        window.localStorage[localStorageKey] = selectionPalette.join(\";\");\n                    }\n                    catch(e) { }\n                }\n            }\n        }\n\n        function getUniqueSelectionPalette() {\n            var unique = [];\n            if (opts.showPalette) {\n                for (var i = 0; i < selectionPalette.length; i++) {\n                    var rgb = tinycolor(selectionPalette[i]).toRgbString();\n\n                    if (!paletteLookup[rgb]) {\n                        unique.push(selectionPalette[i]);\n                    }\n                }\n            }\n\n            return unique.reverse().slice(0, opts.maxSelectionSize);\n        }\n\n        function drawPalette() {\n\n            var currentColor = get();\n\n            var html = $.map(paletteArray, function (palette, i) {\n                return paletteTemplate(palette, currentColor, \"sp-palette-row sp-palette-row-\" + i, opts);\n            });\n\n            updateSelectionPaletteFromStorage();\n\n            if (selectionPalette) {\n                html.push(paletteTemplate(getUniqueSelectionPalette(), currentColor, \"sp-palette-row sp-palette-row-selection\", opts));\n            }\n\n            paletteContainer.html(html.join(\"\"));\n        }\n\n        function drawInitial() {\n            if (opts.showInitial) {\n                var initial = colorOnShow;\n                var current = get();\n                initialColorContainer.html(paletteTemplate([initial, current], current, \"sp-palette-row-initial\", opts));\n            }\n        }\n\n        function dragStart() {\n            if (dragHeight <= 0 || dragWidth <= 0 || slideHeight <= 0) {\n                reflow();\n            }\n            isDragging = true;\n            container.addClass(draggingClass);\n            shiftMovementDirection = null;\n            boundElement.trigger('dragstart.spectrum', [ get() ]);\n        }\n\n        function dragStop() {\n            isDragging = false;\n            container.removeClass(draggingClass);\n            boundElement.trigger('dragstop.spectrum', [ get() ]);\n        }\n\n        function setFromTextInput() {\n\n            var value = textInput.val();\n\n            if ((value === null || value === \"\") && allowEmpty) {\n                set(null);\n                move();\n                updateOriginalInput();\n            }\n            else {\n                var tiny = tinycolor(value);\n                if (tiny.isValid()) {\n                    set(tiny);\n                    move();\n                    updateOriginalInput();\n                }\n                else {\n                    textInput.addClass(\"sp-validation-error\");\n                }\n            }\n        }\n\n        function toggle() {\n            if (visible) {\n                hide();\n            }\n            else {\n                show();\n            }\n        }\n\n        function show() {\n            var event = $.Event('beforeShow.spectrum');\n\n            if (visible) {\n                reflow();\n                return;\n            }\n\n            boundElement.trigger(event, [ get() ]);\n\n            if (callbacks.beforeShow(get()) === false || event.isDefaultPrevented()) {\n                return;\n            }\n\n            hideAll();\n            visible = true;\n\n            $(doc).on(\"keydown.spectrum\", onkeydown);\n            $(doc).on(\"click.spectrum\", clickout);\n            $(window).on(\"resize.spectrum\", resize);\n            replacer.addClass(\"sp-active\");\n            container.removeClass(\"sp-hidden\");\n\n            reflow();\n            updateUI();\n\n            colorOnShow = get();\n\n            drawInitial();\n            callbacks.show(colorOnShow);\n            boundElement.trigger('show.spectrum', [ colorOnShow ]);\n        }\n\n        function onkeydown(e) {\n            // Close on ESC\n            if (e.keyCode === 27) {\n                hide();\n            }\n        }\n\n        function clickout(e) {\n            // Return on right click.\n            if (e.button == 2) { return; }\n\n            // If a drag event was happening during the mouseup, don't hide\n            // on click.\n            if (isDragging) { return; }\n\n            if (clickoutFiresChange) {\n                updateOriginalInput(true);\n            }\n            else {\n                revert();\n            }\n            hide();\n        }\n\n        function hide() {\n            // Return if hiding is unnecessary\n            if (!visible || flat) { return; }\n            visible = false;\n\n            $(doc).off(\"keydown.spectrum\", onkeydown);\n            $(doc).off(\"click.spectrum\", clickout);\n            $(window).off(\"resize.spectrum\", resize);\n\n            replacer.removeClass(\"sp-active\");\n            container.addClass(\"sp-hidden\");\n\n            callbacks.hide(get());\n            boundElement.trigger('hide.spectrum', [ get() ]);\n        }\n\n        function revert() {\n            set(colorOnShow, true);\n            updateOriginalInput(true);\n        }\n\n        function set(color, ignoreFormatChange) {\n            if (tinycolor.equals(color, get())) {\n                // Update UI just in case a validation error needs\n                // to be cleared.\n                updateUI();\n                return;\n            }\n\n            var newColor, newHsv;\n            if (!color && allowEmpty) {\n                isEmpty = true;\n            } else {\n                isEmpty = false;\n                newColor = tinycolor(color);\n                newHsv = newColor.toHsv();\n\n                currentHue = (newHsv.h % 360) / 360;\n                currentSaturation = newHsv.s;\n                currentValue = newHsv.v;\n                currentAlpha = newHsv.a;\n            }\n            updateUI();\n\n            if (newColor && newColor.isValid() && !ignoreFormatChange) {\n                currentPreferredFormat = opts.preferredFormat || newColor.getFormat();\n            }\n        }\n\n        function get(opts) {\n            opts = opts || { };\n\n            if (allowEmpty && isEmpty) {\n                return null;\n            }\n\n            return tinycolor.fromRatio({\n                h: currentHue,\n                s: currentSaturation,\n                v: currentValue,\n                a: Math.round(currentAlpha * 1000) / 1000\n            }, { format: opts.format || currentPreferredFormat });\n        }\n\n        function isValid() {\n            return !textInput.hasClass(\"sp-validation-error\");\n        }\n\n        function move() {\n            updateUI();\n\n            callbacks.move(get());\n            boundElement.trigger('move.spectrum', [ get() ]);\n        }\n\n        function updateUI() {\n\n            textInput.removeClass(\"sp-validation-error\");\n\n            updateHelperLocations();\n\n            // Update dragger background color (gradients take care of saturation and value).\n            var flatColor = tinycolor.fromRatio({ h: currentHue, s: 1, v: 1 });\n            dragger.css(\"background-color\", flatColor.toHexString());\n\n            // Get a format that alpha will be included in (hex and names ignore alpha)\n            var format = currentPreferredFormat;\n            if (currentAlpha < 1 && !(currentAlpha === 0 && format === \"name\")) {\n                if (format === \"hex\" || format === \"hex3\" || format === \"hex6\" || format === \"name\") {\n                    format = \"rgb\";\n                }\n            }\n\n            var realColor = get({ format: format }),\n                displayColor = '';\n\n             //reset background info for preview element\n            previewElement.removeClass(\"sp-clear-display\");\n            previewElement.css('background-color', 'transparent');\n\n            if (!realColor && allowEmpty) {\n                // Update the replaced elements background with icon indicating no color selection\n                previewElement.addClass(\"sp-clear-display\");\n            }\n            else {\n                var realHex = realColor.toHexString(),\n                    realRgb = realColor.toRgbString();\n\n                // Update the replaced elements background color (with actual selected color)\n                if (rgbaSupport || realColor.alpha === 1) {\n                    previewElement.css(\"background-color\", realRgb);\n                }\n                else {\n                    previewElement.css(\"background-color\", \"transparent\");\n                    previewElement.css(\"filter\", realColor.toFilter());\n                }\n\n                if (opts.showAlpha) {\n                    var rgb = realColor.toRgb();\n                    rgb.a = 0;\n                    var realAlpha = tinycolor(rgb).toRgbString();\n                    var gradient = \"linear-gradient(left, \" + realAlpha + \", \" + realHex + \")\";\n\n                    if (IE) {\n                        alphaSliderInner.css(\"filter\", tinycolor(realAlpha).toFilter({ gradientType: 1 }, realHex));\n                    }\n                    else {\n                        alphaSliderInner.css(\"background\", \"-webkit-\" + gradient);\n                        alphaSliderInner.css(\"background\", \"-moz-\" + gradient);\n                        alphaSliderInner.css(\"background\", \"-ms-\" + gradient);\n                        // Use current syntax gradient on unprefixed property.\n                        alphaSliderInner.css(\"background\",\n                            \"linear-gradient(to right, \" + realAlpha + \", \" + realHex + \")\");\n                    }\n                }\n\n                displayColor = realColor.toString(format);\n            }\n\n            // Update the text entry input as it changes happen\n            if (opts.showInput) {\n                textInput.val(displayColor);\n            }\n\n            if (opts.showPalette) {\n                drawPalette();\n            }\n\n            drawInitial();\n        }\n\n        function updateHelperLocations() {\n            var s = currentSaturation;\n            var v = currentValue;\n\n            if(allowEmpty && isEmpty) {\n                //if selected color is empty, hide the helpers\n                alphaSlideHelper.hide();\n                slideHelper.hide();\n                dragHelper.hide();\n            }\n            else {\n                //make sure helpers are visible\n                alphaSlideHelper.show();\n                slideHelper.show();\n                dragHelper.show();\n\n                // Where to show the little circle in that displays your current selected color\n                var dragX = s * dragWidth;\n                var dragY = dragHeight - (v * dragHeight);\n                dragX = Math.max(\n                    -dragHelperHeight,\n                    Math.min(dragWidth - dragHelperHeight, dragX - dragHelperHeight)\n                );\n                dragY = Math.max(\n                    -dragHelperHeight,\n                    Math.min(dragHeight - dragHelperHeight, dragY - dragHelperHeight)\n                );\n                dragHelper.css({\n                    \"top\": dragY + \"px\",\n                    \"left\": dragX + \"px\"\n                });\n\n                var alphaX = currentAlpha * alphaWidth;\n                alphaSlideHelper.css({\n                    \"left\": (alphaX - (alphaSlideHelperWidth / 2)) + \"px\"\n                });\n\n                // Where to show the bar that displays your current selected hue\n                var slideY = (currentHue) * slideHeight;\n                slideHelper.css({\n                    \"top\": (slideY - slideHelperHeight) + \"px\"\n                });\n            }\n        }\n\n        function updateOriginalInput(fireCallback) {\n            var color = get(),\n                displayColor = '',\n                hasChanged = !tinycolor.equals(color, colorOnShow);\n\n            if (color) {\n                displayColor = color.toString(currentPreferredFormat);\n                // Update the selection palette with the current color\n                addColorToSelectionPalette(color);\n            }\n\n            if (isInput) {\n                boundElement.val(displayColor);\n            }\n\n            if (fireCallback && hasChanged) {\n                callbacks.change(color);\n                boundElement.trigger('change', [ color ]);\n            }\n        }\n\n        function reflow() {\n            if (!visible) {\n                return; // Calculations would be useless and wouldn't be reliable anyways\n            }\n            dragWidth = dragger.width();\n            dragHeight = dragger.height();\n            dragHelperHeight = dragHelper.height();\n            slideWidth = slider.width();\n            slideHeight = slider.height();\n            slideHelperHeight = slideHelper.height();\n            alphaWidth = alphaSlider.width();\n            alphaSlideHelperWidth = alphaSlideHelper.width();\n\n            if (!flat) {\n                container.css(\"position\", \"absolute\");\n                if (opts.offset) {\n                    container.offset(opts.offset);\n                } else {\n                    container.offset(getOffset(container, offsetElement));\n                }\n            }\n\n            updateHelperLocations();\n\n            if (opts.showPalette) {\n                drawPalette();\n            }\n\n            boundElement.trigger('reflow.spectrum');\n        }\n\n        function destroy() {\n            boundElement.show();\n            offsetElement.off(\"click.spectrum touchstart.spectrum\");\n            container.remove();\n            replacer.remove();\n            spectrums[spect.id] = null;\n        }\n\n        function option(optionName, optionValue) {\n            if (optionName === undefined) {\n                return $.extend({}, opts);\n            }\n            if (optionValue === undefined) {\n                return opts[optionName];\n            }\n\n            opts[optionName] = optionValue;\n\n            if (optionName === \"preferredFormat\") {\n                currentPreferredFormat = opts.preferredFormat;\n            }\n            applyOptions();\n        }\n\n        function enable() {\n            disabled = false;\n            boundElement.attr(\"disabled\", false);\n            offsetElement.removeClass(\"sp-disabled\");\n        }\n\n        function disable() {\n            hide();\n            disabled = true;\n            boundElement.attr(\"disabled\", true);\n            offsetElement.addClass(\"sp-disabled\");\n        }\n\n        function setOffset(coord) {\n            opts.offset = coord;\n            reflow();\n        }\n\n        initialize();\n\n        var spect = {\n            show: show,\n            hide: hide,\n            toggle: toggle,\n            reflow: reflow,\n            option: option,\n            enable: enable,\n            disable: disable,\n            offset: setOffset,\n            set: function (c) {\n                set(c);\n                updateOriginalInput();\n            },\n            get: get,\n            destroy: destroy,\n            container: container\n        };\n\n        spect.id = spectrums.push(spect) - 1;\n\n        return spect;\n    }\n\n    /**\n    * checkOffset - get the offset below/above and left/right element depending on screen position\n    * Thanks https://github.com/jquery/jquery-ui/blob/master/ui/jquery.ui.datepicker.js\n    */\n    function getOffset(picker, input) {\n        var extraY = 0;\n        var dpWidth = picker.outerWidth();\n        var dpHeight = picker.outerHeight();\n        var inputHeight = input.outerHeight();\n        var doc = picker[0].ownerDocument;\n        var docElem = doc.documentElement;\n        var viewWidth = docElem.clientWidth + $(doc).scrollLeft();\n        var viewHeight = docElem.clientHeight + $(doc).scrollTop();\n        var offset = input.offset();\n        var offsetLeft = offset.left;\n        var offsetTop = offset.top;\n\n        offsetTop += inputHeight;\n\n        offsetLeft -=\n            Math.min(offsetLeft, (offsetLeft + dpWidth > viewWidth && viewWidth > dpWidth) ?\n            Math.abs(offsetLeft + dpWidth - viewWidth) : 0);\n\n        offsetTop -=\n            Math.min(offsetTop, ((offsetTop + dpHeight > viewHeight && viewHeight > dpHeight) ?\n            Math.abs(dpHeight + inputHeight - extraY) : extraY));\n\n        return {\n            top: offsetTop,\n            bottom: offset.bottom,\n            left: offsetLeft,\n            right: offset.right,\n            width: offset.width,\n            height: offset.height\n        };\n    }\n\n    /**\n    * noop - do nothing\n    */\n    function noop() {\n\n    }\n\n    /**\n    * stopPropagation - makes the code only doing this a little easier to read in line\n    */\n    function stopPropagation(e) {\n        e.stopPropagation();\n    }\n\n    /**\n    * Create a function bound to a given object\n    * Thanks to underscore.js\n    */\n    function bind(func, obj) {\n        var slice = Array.prototype.slice;\n        var args = slice.call(arguments, 2);\n        return function () {\n            return func.apply(obj, args.concat(slice.call(arguments)));\n        };\n    }\n\n    /**\n    * Lightweight drag helper.  Handles containment within the element, so that\n    * when dragging, the x is within [0,element.width] and y is within [0,element.height]\n    */\n    function draggable(element, onmove, onstart, onstop) {\n        onmove = onmove || function () { };\n        onstart = onstart || function () { };\n        onstop = onstop || function () { };\n        var doc = document;\n        var dragging = false;\n        var offset = {};\n        var maxHeight = 0;\n        var maxWidth = 0;\n        var hasTouch = ('ontouchstart' in window);\n\n        var duringDragEvents = {};\n        duringDragEvents[\"selectstart\"] = prevent;\n        duringDragEvents[\"dragstart\"] = prevent;\n        duringDragEvents[\"touchmove mousemove\"] = move;\n        duringDragEvents[\"touchend mouseup\"] = stop;\n\n        function prevent(e) {\n            if (e.stopPropagation) {\n                e.stopPropagation();\n            }\n            if (e.preventDefault) {\n                e.preventDefault();\n            }\n            e.returnValue = false;\n        }\n\n        function move(e) {\n            if (dragging) {\n                // Mouseup happened outside of window\n                if (IE && doc.documentMode < 9 && !e.button) {\n                    return stop();\n                }\n\n                var t0 = e.originalEvent && e.originalEvent.touches && e.originalEvent.touches[0];\n                var pageX = t0 && t0.pageX || e.pageX;\n                var pageY = t0 && t0.pageY || e.pageY;\n\n                var dragX = Math.max(0, Math.min(pageX - offset.left, maxWidth));\n                var dragY = Math.max(0, Math.min(pageY - offset.top, maxHeight));\n\n                if (hasTouch) {\n                    // Stop scrolling in iOS\n                    prevent(e);\n                }\n\n                onmove.apply(element, [dragX, dragY, e]);\n            }\n        }\n\n        function start(e) {\n            var rightclick = (e.which) ? (e.which == 3) : (e.button == 2);\n\n            if (!rightclick && !dragging) {\n                if (onstart.apply(element, arguments) !== false) {\n                    dragging = true;\n                    maxHeight = $(element).height();\n                    maxWidth = $(element).width();\n                    offset = $(element).offset();\n\n                    $(doc).on(duringDragEvents);\n                    $(doc.body).addClass(\"sp-dragging\");\n\n                    move(e);\n\n                    prevent(e);\n                }\n            }\n        }\n\n        function stop() {\n            if (dragging) {\n                $(doc).off(duringDragEvents);\n                $(doc.body).removeClass(\"sp-dragging\");\n\n                // Wait a tick before notifying observers to allow the click event\n                // to fire in Chrome.\n                setTimeout(function() {\n                    onstop.apply(element, arguments);\n                }, 0);\n            }\n            dragging = false;\n        }\n\n        $(element).on(\"touchstart mousedown\", start);\n    }\n\n    function throttle(func, wait, debounce) {\n        var timeout;\n        return function () {\n            var context = this, args = arguments;\n            var throttler = function () {\n                timeout = null;\n                func.apply(context, args);\n            };\n            if (debounce) clearTimeout(timeout);\n            if (debounce || !timeout) timeout = setTimeout(throttler, wait);\n        };\n    }\n\n    function inputTypeColorSupport() {\n        return $.fn.spectrum.inputTypeColorSupport();\n    }\n\n    /**\n    * Define a jQuery plugin\n    */\n    var dataID = \"spectrum.id\";\n    $.fn.spectrum = function (opts, extra) {\n\n        if (typeof opts == \"string\") {\n\n            var returnValue = this;\n            var args = Array.prototype.slice.call( arguments, 1 );\n\n            this.each(function () {\n                var spect = spectrums[$(this).data(dataID)];\n                if (spect) {\n                    var method = spect[opts];\n                    if (!method) {\n                        throw new Error( \"Spectrum: no such method: '\" + opts + \"'\" );\n                    }\n\n                    if (opts == \"get\") {\n                        returnValue = spect.get();\n                    }\n                    else if (opts == \"container\") {\n                        returnValue = spect.container;\n                    }\n                    else if (opts == \"option\") {\n                        returnValue = spect.option.apply(spect, args);\n                    }\n                    else if (opts == \"destroy\") {\n                        spect.destroy();\n                        $(this).removeData(dataID);\n                    }\n                    else {\n                        method.apply(spect, args);\n                    }\n                }\n            });\n\n            return returnValue;\n        }\n\n        // Initializing a new instance of spectrum\n        return this.spectrum(\"destroy\").each(function () {\n            var options = $.extend({}, $(this).data(), opts);\n            var spect = spectrum(this, options);\n            $(this).data(dataID, spect.id);\n        });\n    };\n\n    $.fn.spectrum.load = true;\n    $.fn.spectrum.loadOpts = {};\n    $.fn.spectrum.draggable = draggable;\n    $.fn.spectrum.defaults = defaultOpts;\n    $.fn.spectrum.inputTypeColorSupport = function inputTypeColorSupport() {\n        if (typeof inputTypeColorSupport._cachedResult === \"undefined\") {\n            var colorInput = $(\"<input type='color'/>\")[0]; // if color element is supported, value will default to not null\n            inputTypeColorSupport._cachedResult = colorInput.type === \"color\" && colorInput.value !== \"\";\n        }\n        return inputTypeColorSupport._cachedResult;\n    };\n\n    $.spectrum = { };\n    $.spectrum.localization = { };\n    $.spectrum.palettes = { };\n\n    $.fn.spectrum.processNativeColorInputs = function () {\n        var colorInputs = $(\"input[type=color]\");\n        if (colorInputs.length && !inputTypeColorSupport()) {\n            colorInputs.spectrum({\n                preferredFormat: \"hex6\"\n            });\n        }\n    };\n\n    // TinyColor v1.1.2\n    // https://github.com/bgrins/TinyColor\n    // Brian Grinstead, MIT License\n\n    (function() {\n\n    var trimLeft = /^[\\s,#]+/,\n        trimRight = /\\s+$/,\n        tinyCounter = 0,\n        math = Math,\n        mathRound = math.round,\n        mathMin = math.min,\n        mathMax = math.max,\n        mathRandom = math.random;\n\n    var tinycolor = function(color, opts) {\n\n        color = (color) ? color : '';\n        opts = opts || { };\n\n        // If input is already a tinycolor, return itself\n        if (color instanceof tinycolor) {\n           return color;\n        }\n        // If we are called as a function, call using new instead\n        if (!(this instanceof tinycolor)) {\n            return new tinycolor(color, opts);\n        }\n\n        var rgb = inputToRGB(color);\n        this._originalInput = color;\n        this._r = rgb.r;\n        this._g = rgb.g;\n        this._b = rgb.b;\n        this._a = rgb.a;\n        this._roundA = mathRound(1000 * this._a) / 1000;\n        this._format = opts.format || rgb.format;\n        this._gradientType = opts.gradientType;\n\n        // Don't let the range of [0,255] come back in [0,1].\n        // Potentially lose a little bit of precision here, but will fix issues where\n        // .5 gets interpreted as half of the total, instead of half of 1\n        // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n        if (this._r < 1) { this._r = mathRound(this._r); }\n        if (this._g < 1) { this._g = mathRound(this._g); }\n        if (this._b < 1) { this._b = mathRound(this._b); }\n\n        this._ok = rgb.ok;\n        this._tc_id = tinyCounter++;\n    };\n\n    tinycolor.prototype = {\n        isDark: function() {\n            return this.getBrightness() < 128;\n        },\n        isLight: function() {\n            return !this.isDark();\n        },\n        isValid: function() {\n            return this._ok;\n        },\n        getOriginalInput: function() {\n          return this._originalInput;\n        },\n        getFormat: function() {\n            return this._format;\n        },\n        getAlpha: function() {\n            return this._a;\n        },\n        getBrightness: function() {\n            var rgb = this.toRgb();\n            return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n        },\n        setAlpha: function(value) {\n            this._a = boundAlpha(value);\n            this._roundA = mathRound(1000 * this._a) / 1000;\n            return this;\n        },\n        toHsv: function() {\n            var hsv = rgbToHsv(this._r, this._g, this._b);\n            return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n        },\n        toHsvString: function() {\n            var hsv = rgbToHsv(this._r, this._g, this._b);\n            var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n            return (this._a == 1) ?\n              \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n              \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n        },\n        toHsl: function() {\n            var hsl = rgbToHsl(this._r, this._g, this._b);\n            return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n        },\n        toHslString: function() {\n            var hsl = rgbToHsl(this._r, this._g, this._b);\n            var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n            return (this._a == 1) ?\n              \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n              \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n        },\n        toHex: function(allow3Char) {\n            return rgbToHex(this._r, this._g, this._b, allow3Char);\n        },\n        toHexString: function(allow3Char) {\n            return '#' + this.toHex(allow3Char);\n        },\n        toHex8: function() {\n            return rgbaToHex(this._r, this._g, this._b, this._a);\n        },\n        toHex8String: function() {\n            return '#' + this.toHex8();\n        },\n        toRgb: function() {\n            return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n        },\n        toRgbString: function() {\n            return (this._a == 1) ?\n              \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n              \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n        },\n        toPercentageRgb: function() {\n            return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n        },\n        toPercentageRgbString: function() {\n            return (this._a == 1) ?\n              \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n              \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n        },\n        toName: function() {\n            if (this._a === 0) {\n                return \"transparent\";\n            }\n\n            if (this._a < 1) {\n                return false;\n            }\n\n            return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n        },\n        toFilter: function(secondColor) {\n            var hex8String = '#' + rgbaToHex(this._r, this._g, this._b, this._a);\n            var secondHex8String = hex8String;\n            var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n            if (secondColor) {\n                var s = tinycolor(secondColor);\n                secondHex8String = s.toHex8String();\n            }\n\n            return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n        },\n        toString: function(format) {\n            var formatSet = !!format;\n            format = format || this._format;\n\n            var formattedString = false;\n            var hasAlpha = this._a < 1 && this._a >= 0;\n            var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"name\");\n\n            if (needsAlphaFormat) {\n                // Special case for \"transparent\", all other non-alpha formats\n                // will return rgba when there is transparency.\n                if (format === \"name\" && this._a === 0) {\n                    return this.toName();\n                }\n                return this.toRgbString();\n            }\n            if (format === \"rgb\") {\n                formattedString = this.toRgbString();\n            }\n            if (format === \"prgb\") {\n                formattedString = this.toPercentageRgbString();\n            }\n            if (format === \"hex\" || format === \"hex6\") {\n                formattedString = this.toHexString();\n            }\n            if (format === \"hex3\") {\n                formattedString = this.toHexString(true);\n            }\n            if (format === \"hex8\") {\n                formattedString = this.toHex8String();\n            }\n            if (format === \"name\") {\n                formattedString = this.toName();\n            }\n            if (format === \"hsl\") {\n                formattedString = this.toHslString();\n            }\n            if (format === \"hsv\") {\n                formattedString = this.toHsvString();\n            }\n\n            return formattedString || this.toHexString();\n        },\n\n        _applyModification: function(fn, args) {\n            var color = fn.apply(null, [this].concat([].slice.call(args)));\n            this._r = color._r;\n            this._g = color._g;\n            this._b = color._b;\n            this.setAlpha(color._a);\n            return this;\n        },\n        lighten: function() {\n            return this._applyModification(lighten, arguments);\n        },\n        brighten: function() {\n            return this._applyModification(brighten, arguments);\n        },\n        darken: function() {\n            return this._applyModification(darken, arguments);\n        },\n        desaturate: function() {\n            return this._applyModification(desaturate, arguments);\n        },\n        saturate: function() {\n            return this._applyModification(saturate, arguments);\n        },\n        greyscale: function() {\n            return this._applyModification(greyscale, arguments);\n        },\n        spin: function() {\n            return this._applyModification(spin, arguments);\n        },\n\n        _applyCombination: function(fn, args) {\n            return fn.apply(null, [this].concat([].slice.call(args)));\n        },\n        analogous: function() {\n            return this._applyCombination(analogous, arguments);\n        },\n        complement: function() {\n            return this._applyCombination(complement, arguments);\n        },\n        monochromatic: function() {\n            return this._applyCombination(monochromatic, arguments);\n        },\n        splitcomplement: function() {\n            return this._applyCombination(splitcomplement, arguments);\n        },\n        triad: function() {\n            return this._applyCombination(triad, arguments);\n        },\n        tetrad: function() {\n            return this._applyCombination(tetrad, arguments);\n        }\n    };\n\n    // If input is an object, force 1 into \"1.0\" to handle ratios properly\n    // String input requires \"1.0\" as input, so 1 will be treated as 1\n    tinycolor.fromRatio = function(color, opts) {\n        if (typeof color == \"object\") {\n            var newColor = {};\n            for (var i in color) {\n                if (color.hasOwnProperty(i)) {\n                    if (i === \"a\") {\n                        newColor[i] = color[i];\n                    }\n                    else {\n                        newColor[i] = convertToPercentage(color[i]);\n                    }\n                }\n            }\n            color = newColor;\n        }\n\n        return tinycolor(color, opts);\n    };\n\n    // Given a string or object, convert that input to RGB\n    // Possible string inputs:\n    //\n    //     \"red\"\n    //     \"#f00\" or \"f00\"\n    //     \"#ff0000\" or \"ff0000\"\n    //     \"#ff000000\" or \"ff000000\"\n    //     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n    //     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n    //     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n    //     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n    //     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n    //     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n    //     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n    //\n    function inputToRGB(color) {\n\n        var rgb = { r: 0, g: 0, b: 0 };\n        var a = 1;\n        var ok = false;\n        var format = false;\n\n        if (typeof color == \"string\") {\n            color = stringInputToObject(color);\n        }\n\n        if (typeof color == \"object\") {\n            if (color.hasOwnProperty(\"r\") && color.hasOwnProperty(\"g\") && color.hasOwnProperty(\"b\")) {\n                rgb = rgbToRgb(color.r, color.g, color.b);\n                ok = true;\n                format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n            }\n            else if (color.hasOwnProperty(\"h\") && color.hasOwnProperty(\"s\") && color.hasOwnProperty(\"v\")) {\n                color.s = convertToPercentage(color.s);\n                color.v = convertToPercentage(color.v);\n                rgb = hsvToRgb(color.h, color.s, color.v);\n                ok = true;\n                format = \"hsv\";\n            }\n            else if (color.hasOwnProperty(\"h\") && color.hasOwnProperty(\"s\") && color.hasOwnProperty(\"l\")) {\n                color.s = convertToPercentage(color.s);\n                color.l = convertToPercentage(color.l);\n                rgb = hslToRgb(color.h, color.s, color.l);\n                ok = true;\n                format = \"hsl\";\n            }\n\n            if (color.hasOwnProperty(\"a\")) {\n                a = color.a;\n            }\n        }\n\n        a = boundAlpha(a);\n\n        return {\n            ok: ok,\n            format: color.format || format,\n            r: mathMin(255, mathMax(rgb.r, 0)),\n            g: mathMin(255, mathMax(rgb.g, 0)),\n            b: mathMin(255, mathMax(rgb.b, 0)),\n            a: a\n        };\n    }\n\n\n    // Conversion Functions\n    // --------------------\n\n    // `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n    // <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n    // `rgbToRgb`\n    // Handle bounds / percentage checking to conform to CSS color spec\n    // <http://www.w3.org/TR/css3-color/>\n    // *Assumes:* r, g, b in [0, 255] or [0, 1]\n    // *Returns:* { r, g, b } in [0, 255]\n    function rgbToRgb(r, g, b){\n        return {\n            r: bound01(r, 255) * 255,\n            g: bound01(g, 255) * 255,\n            b: bound01(b, 255) * 255\n        };\n    }\n\n    // `rgbToHsl`\n    // Converts an RGB color value to HSL.\n    // *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n    // *Returns:* { h, s, l } in [0,1]\n    function rgbToHsl(r, g, b) {\n\n        r = bound01(r, 255);\n        g = bound01(g, 255);\n        b = bound01(b, 255);\n\n        var max = mathMax(r, g, b), min = mathMin(r, g, b);\n        var h, s, l = (max + min) / 2;\n\n        if(max == min) {\n            h = s = 0; // achromatic\n        }\n        else {\n            var d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n            switch(max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n            }\n\n            h /= 6;\n        }\n\n        return { h: h, s: s, l: l };\n    }\n\n    // `hslToRgb`\n    // Converts an HSL color value to RGB.\n    // *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n    // *Returns:* { r, g, b } in the set [0, 255]\n    function hslToRgb(h, s, l) {\n        var r, g, b;\n\n        h = bound01(h, 360);\n        s = bound01(s, 100);\n        l = bound01(l, 100);\n\n        function hue2rgb(p, q, t) {\n            if(t < 0) t += 1;\n            if(t > 1) t -= 1;\n            if(t < 1/6) return p + (q - p) * 6 * t;\n            if(t < 1/2) return q;\n            if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n            return p;\n        }\n\n        if(s === 0) {\n            r = g = b = l; // achromatic\n        }\n        else {\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            var p = 2 * l - q;\n            r = hue2rgb(p, q, h + 1/3);\n            g = hue2rgb(p, q, h);\n            b = hue2rgb(p, q, h - 1/3);\n        }\n\n        return { r: r * 255, g: g * 255, b: b * 255 };\n    }\n\n    // `rgbToHsv`\n    // Converts an RGB color value to HSV\n    // *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n    // *Returns:* { h, s, v } in [0,1]\n    function rgbToHsv(r, g, b) {\n\n        r = bound01(r, 255);\n        g = bound01(g, 255);\n        b = bound01(b, 255);\n\n        var max = mathMax(r, g, b), min = mathMin(r, g, b);\n        var h, s, v = max;\n\n        var d = max - min;\n        s = max === 0 ? 0 : d / max;\n\n        if(max == min) {\n            h = 0; // achromatic\n        }\n        else {\n            switch(max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n            }\n            h /= 6;\n        }\n        return { h: h, s: s, v: v };\n    }\n\n    // `hsvToRgb`\n    // Converts an HSV color value to RGB.\n    // *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n    // *Returns:* { r, g, b } in the set [0, 255]\n     function hsvToRgb(h, s, v) {\n\n        h = bound01(h, 360) * 6;\n        s = bound01(s, 100);\n        v = bound01(v, 100);\n\n        var i = math.floor(h),\n            f = h - i,\n            p = v * (1 - s),\n            q = v * (1 - f * s),\n            t = v * (1 - (1 - f) * s),\n            mod = i % 6,\n            r = [v, q, p, p, t, v][mod],\n            g = [t, v, v, q, p, p][mod],\n            b = [p, p, t, v, v, q][mod];\n\n        return { r: r * 255, g: g * 255, b: b * 255 };\n    }\n\n    // `rgbToHex`\n    // Converts an RGB color to hex\n    // Assumes r, g, and b are contained in the set [0, 255]\n    // Returns a 3 or 6 character hex\n    function rgbToHex(r, g, b, allow3Char) {\n\n        var hex = [\n            pad2(mathRound(r).toString(16)),\n            pad2(mathRound(g).toString(16)),\n            pad2(mathRound(b).toString(16))\n        ];\n\n        // Return a 3 character hex if possible\n        if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n            return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n        }\n\n        return hex.join(\"\");\n    }\n        // `rgbaToHex`\n        // Converts an RGBA color plus alpha transparency to hex\n        // Assumes r, g, b and a are contained in the set [0, 255]\n        // Returns an 8 character hex\n        function rgbaToHex(r, g, b, a) {\n\n            var hex = [\n                pad2(convertDecimalToHex(a)),\n                pad2(mathRound(r).toString(16)),\n                pad2(mathRound(g).toString(16)),\n                pad2(mathRound(b).toString(16))\n            ];\n\n            return hex.join(\"\");\n        }\n\n    // `equals`\n    // Can be called with any tinycolor input\n    tinycolor.equals = function (color1, color2) {\n        if (!color1 || !color2) { return false; }\n        return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n    };\n    tinycolor.random = function() {\n        return tinycolor.fromRatio({\n            r: mathRandom(),\n            g: mathRandom(),\n            b: mathRandom()\n        });\n    };\n\n\n    // Modification Functions\n    // ----------------------\n    // Thanks to less.js for some of the basics here\n    // <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\n    function desaturate(color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.s -= amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return tinycolor(hsl);\n    }\n\n    function saturate(color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.s += amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return tinycolor(hsl);\n    }\n\n    function greyscale(color) {\n        return tinycolor(color).desaturate(100);\n    }\n\n    function lighten (color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.l += amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return tinycolor(hsl);\n    }\n\n    function brighten(color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var rgb = tinycolor(color).toRgb();\n        rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n        rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n        rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n        return tinycolor(rgb);\n    }\n\n    function darken (color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.l -= amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return tinycolor(hsl);\n    }\n\n    // Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n    // Values outside of this range will be wrapped into this range.\n    function spin(color, amount) {\n        var hsl = tinycolor(color).toHsl();\n        var hue = (mathRound(hsl.h) + amount) % 360;\n        hsl.h = hue < 0 ? 360 + hue : hue;\n        return tinycolor(hsl);\n    }\n\n    // Combination Functions\n    // ---------------------\n    // Thanks to jQuery xColor for some of the ideas behind these\n    // <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\n    function complement(color) {\n        var hsl = tinycolor(color).toHsl();\n        hsl.h = (hsl.h + 180) % 360;\n        return tinycolor(hsl);\n    }\n\n    function triad(color) {\n        var hsl = tinycolor(color).toHsl();\n        var h = hsl.h;\n        return [\n            tinycolor(color),\n            tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n            tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n        ];\n    }\n\n    function tetrad(color) {\n        var hsl = tinycolor(color).toHsl();\n        var h = hsl.h;\n        return [\n            tinycolor(color),\n            tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n            tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n            tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n        ];\n    }\n\n    function splitcomplement(color) {\n        var hsl = tinycolor(color).toHsl();\n        var h = hsl.h;\n        return [\n            tinycolor(color),\n            tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n            tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n        ];\n    }\n\n    function analogous(color, results, slices) {\n        results = results || 6;\n        slices = slices || 30;\n\n        var hsl = tinycolor(color).toHsl();\n        var part = 360 / slices;\n        var ret = [tinycolor(color)];\n\n        for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n            hsl.h = (hsl.h + part) % 360;\n            ret.push(tinycolor(hsl));\n        }\n        return ret;\n    }\n\n    function monochromatic(color, results) {\n        results = results || 6;\n        var hsv = tinycolor(color).toHsv();\n        var h = hsv.h, s = hsv.s, v = hsv.v;\n        var ret = [];\n        var modification = 1 / results;\n\n        while (results--) {\n            ret.push(tinycolor({ h: h, s: s, v: v}));\n            v = (v + modification) % 1;\n        }\n\n        return ret;\n    }\n\n    // Utility Functions\n    // ---------------------\n\n    tinycolor.mix = function(color1, color2, amount) {\n        amount = (amount === 0) ? 0 : (amount || 50);\n\n        var rgb1 = tinycolor(color1).toRgb();\n        var rgb2 = tinycolor(color2).toRgb();\n\n        var p = amount / 100;\n        var w = p * 2 - 1;\n        var a = rgb2.a - rgb1.a;\n\n        var w1;\n\n        if (w * a == -1) {\n            w1 = w;\n        } else {\n            w1 = (w + a) / (1 + w * a);\n        }\n\n        w1 = (w1 + 1) / 2;\n\n        var w2 = 1 - w1;\n\n        var rgba = {\n            r: rgb2.r * w1 + rgb1.r * w2,\n            g: rgb2.g * w1 + rgb1.g * w2,\n            b: rgb2.b * w1 + rgb1.b * w2,\n            a: rgb2.a * p  + rgb1.a * (1 - p)\n        };\n\n        return tinycolor(rgba);\n    };\n\n\n    // Readability Functions\n    // ---------------------\n    // <http://www.w3.org/TR/AERT#color-contrast>\n\n    // `readability`\n    // Analyze the 2 colors and returns an object with the following properties:\n    //    `brightness`: difference in brightness between the two colors\n    //    `color`: difference in color/hue between the two colors\n    tinycolor.readability = function(color1, color2) {\n        var c1 = tinycolor(color1);\n        var c2 = tinycolor(color2);\n        var rgb1 = c1.toRgb();\n        var rgb2 = c2.toRgb();\n        var brightnessA = c1.getBrightness();\n        var brightnessB = c2.getBrightness();\n        var colorDiff = (\n            Math.max(rgb1.r, rgb2.r) - Math.min(rgb1.r, rgb2.r) +\n            Math.max(rgb1.g, rgb2.g) - Math.min(rgb1.g, rgb2.g) +\n            Math.max(rgb1.b, rgb2.b) - Math.min(rgb1.b, rgb2.b)\n        );\n\n        return {\n            brightness: Math.abs(brightnessA - brightnessB),\n            color: colorDiff\n        };\n    };\n\n    // `readable`\n    // http://www.w3.org/TR/AERT#color-contrast\n    // Ensure that foreground and background color combinations provide sufficient contrast.\n    // *Example*\n    //    tinycolor.isReadable(\"#000\", \"#111\") => false\n    tinycolor.isReadable = function(color1, color2) {\n        var readability = tinycolor.readability(color1, color2);\n        return readability.brightness > 125 && readability.color > 500;\n    };\n\n    // `mostReadable`\n    // Given a base color and a list of possible foreground or background\n    // colors for that base, returns the most readable color.\n    // *Example*\n    //    tinycolor.mostReadable(\"#123\", [\"#fff\", \"#000\"]) => \"#000\"\n    tinycolor.mostReadable = function(baseColor, colorList) {\n        var bestColor = null;\n        var bestScore = 0;\n        var bestIsReadable = false;\n        for (var i=0; i < colorList.length; i++) {\n\n            // We normalize both around the \"acceptable\" breaking point,\n            // but rank brightness constrast higher than hue.\n\n            var readability = tinycolor.readability(baseColor, colorList[i]);\n            var readable = readability.brightness > 125 && readability.color > 500;\n            var score = 3 * (readability.brightness / 125) + (readability.color / 500);\n\n            if ((readable && ! bestIsReadable) ||\n                (readable && bestIsReadable && score > bestScore) ||\n                ((! readable) && (! bestIsReadable) && score > bestScore)) {\n                bestIsReadable = readable;\n                bestScore = score;\n                bestColor = tinycolor(colorList[i]);\n            }\n        }\n        return bestColor;\n    };\n\n\n    // Big List of Colors\n    // ------------------\n    // <http://www.w3.org/TR/css3-color/#svg-color>\n    var names = tinycolor.names = {\n        aliceblue: \"f0f8ff\",\n        antiquewhite: \"faebd7\",\n        aqua: \"0ff\",\n        aquamarine: \"7fffd4\",\n        azure: \"f0ffff\",\n        beige: \"f5f5dc\",\n        bisque: \"ffe4c4\",\n        black: \"000\",\n        blanchedalmond: \"ffebcd\",\n        blue: \"00f\",\n        blueviolet: \"8a2be2\",\n        brown: \"a52a2a\",\n        burlywood: \"deb887\",\n        burntsienna: \"ea7e5d\",\n        cadetblue: \"5f9ea0\",\n        chartreuse: \"7fff00\",\n        chocolate: \"d2691e\",\n        coral: \"ff7f50\",\n        cornflowerblue: \"6495ed\",\n        cornsilk: \"fff8dc\",\n        crimson: \"dc143c\",\n        cyan: \"0ff\",\n        darkblue: \"00008b\",\n        darkcyan: \"008b8b\",\n        darkgoldenrod: \"b8860b\",\n        darkgray: \"a9a9a9\",\n        darkgreen: \"006400\",\n        darkgrey: \"a9a9a9\",\n        darkkhaki: \"bdb76b\",\n        darkmagenta: \"8b008b\",\n        darkolivegreen: \"556b2f\",\n        darkorange: \"ff8c00\",\n        darkorchid: \"9932cc\",\n        darkred: \"8b0000\",\n        darksalmon: \"e9967a\",\n        darkseagreen: \"8fbc8f\",\n        darkslateblue: \"483d8b\",\n        darkslategray: \"2f4f4f\",\n        darkslategrey: \"2f4f4f\",\n        darkturquoise: \"00ced1\",\n        darkviolet: \"9400d3\",\n        deeppink: \"ff1493\",\n        deepskyblue: \"00bfff\",\n        dimgray: \"696969\",\n        dimgrey: \"696969\",\n        dodgerblue: \"1e90ff\",\n        firebrick: \"b22222\",\n        floralwhite: \"fffaf0\",\n        forestgreen: \"228b22\",\n        fuchsia: \"f0f\",\n        gainsboro: \"dcdcdc\",\n        ghostwhite: \"f8f8ff\",\n        gold: \"ffd700\",\n        goldenrod: \"daa520\",\n        gray: \"808080\",\n        green: \"008000\",\n        greenyellow: \"adff2f\",\n        grey: \"808080\",\n        honeydew: \"f0fff0\",\n        hotpink: \"ff69b4\",\n        indianred: \"cd5c5c\",\n        indigo: \"4b0082\",\n        ivory: \"fffff0\",\n        khaki: \"f0e68c\",\n        lavender: \"e6e6fa\",\n        lavenderblush: \"fff0f5\",\n        lawngreen: \"7cfc00\",\n        lemonchiffon: \"fffacd\",\n        lightblue: \"add8e6\",\n        lightcoral: \"f08080\",\n        lightcyan: \"e0ffff\",\n        lightgoldenrodyellow: \"fafad2\",\n        lightgray: \"d3d3d3\",\n        lightgreen: \"90ee90\",\n        lightgrey: \"d3d3d3\",\n        lightpink: \"ffb6c1\",\n        lightsalmon: \"ffa07a\",\n        lightseagreen: \"20b2aa\",\n        lightskyblue: \"87cefa\",\n        lightslategray: \"789\",\n        lightslategrey: \"789\",\n        lightsteelblue: \"b0c4de\",\n        lightyellow: \"ffffe0\",\n        lime: \"0f0\",\n        limegreen: \"32cd32\",\n        linen: \"faf0e6\",\n        magenta: \"f0f\",\n        maroon: \"800000\",\n        mediumaquamarine: \"66cdaa\",\n        mediumblue: \"0000cd\",\n        mediumorchid: \"ba55d3\",\n        mediumpurple: \"9370db\",\n        mediumseagreen: \"3cb371\",\n        mediumslateblue: \"7b68ee\",\n        mediumspringgreen: \"00fa9a\",\n        mediumturquoise: \"48d1cc\",\n        mediumvioletred: \"c71585\",\n        midnightblue: \"191970\",\n        mintcream: \"f5fffa\",\n        mistyrose: \"ffe4e1\",\n        moccasin: \"ffe4b5\",\n        navajowhite: \"ffdead\",\n        navy: \"000080\",\n        oldlace: \"fdf5e6\",\n        olive: \"808000\",\n        olivedrab: \"6b8e23\",\n        orange: \"ffa500\",\n        orangered: \"ff4500\",\n        orchid: \"da70d6\",\n        palegoldenrod: \"eee8aa\",\n        palegreen: \"98fb98\",\n        paleturquoise: \"afeeee\",\n        palevioletred: \"db7093\",\n        papayawhip: \"ffefd5\",\n        peachpuff: \"ffdab9\",\n        peru: \"cd853f\",\n        pink: \"ffc0cb\",\n        plum: \"dda0dd\",\n        powderblue: \"b0e0e6\",\n        purple: \"800080\",\n        rebeccapurple: \"663399\",\n        red: \"f00\",\n        rosybrown: \"bc8f8f\",\n        royalblue: \"4169e1\",\n        saddlebrown: \"8b4513\",\n        salmon: \"fa8072\",\n        sandybrown: \"f4a460\",\n        seagreen: \"2e8b57\",\n        seashell: \"fff5ee\",\n        sienna: \"a0522d\",\n        silver: \"c0c0c0\",\n        skyblue: \"87ceeb\",\n        slateblue: \"6a5acd\",\n        slategray: \"708090\",\n        slategrey: \"708090\",\n        snow: \"fffafa\",\n        springgreen: \"00ff7f\",\n        steelblue: \"4682b4\",\n        tan: \"d2b48c\",\n        teal: \"008080\",\n        thistle: \"d8bfd8\",\n        tomato: \"ff6347\",\n        turquoise: \"40e0d0\",\n        violet: \"ee82ee\",\n        wheat: \"f5deb3\",\n        white: \"fff\",\n        whitesmoke: \"f5f5f5\",\n        yellow: \"ff0\",\n        yellowgreen: \"9acd32\"\n    };\n\n    // Make it easy to access colors via `hexNames[hex]`\n    var hexNames = tinycolor.hexNames = flip(names);\n\n\n    // Utilities\n    // ---------\n\n    // `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\n    function flip(o) {\n        var flipped = { };\n        for (var i in o) {\n            if (o.hasOwnProperty(i)) {\n                flipped[o[i]] = i;\n            }\n        }\n        return flipped;\n    }\n\n    // Return a valid alpha value [0,1] with all invalid values being set to 1\n    function boundAlpha(a) {\n        a = parseFloat(a);\n\n        if (isNaN(a) || a < 0 || a > 1) {\n            a = 1;\n        }\n\n        return a;\n    }\n\n    // Take input from [0, n] and return it as [0, 1]\n    function bound01(n, max) {\n        if (isOnePointZero(n)) { n = \"100%\"; }\n\n        var processPercent = isPercentage(n);\n        n = mathMin(max, mathMax(0, parseFloat(n)));\n\n        // Automatically convert percentage into number\n        if (processPercent) {\n            n = parseInt(n * max, 10) / 100;\n        }\n\n        // Handle floating point rounding errors\n        if ((math.abs(n - max) < 0.000001)) {\n            return 1;\n        }\n\n        // Convert into [0, 1] range if it isn't already\n        return (n % max) / parseFloat(max);\n    }\n\n    // Force a number between 0 and 1\n    function clamp01(val) {\n        return mathMin(1, mathMax(0, val));\n    }\n\n    // Parse a base-16 hex value into a base-10 integer\n    function parseIntFromHex(val) {\n        return parseInt(val, 16);\n    }\n\n    // Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n    // <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\n    function isOnePointZero(n) {\n        return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n    }\n\n    // Check to see if string passed in is a percentage\n    function isPercentage(n) {\n        return typeof n === \"string\" && n.indexOf('%') != -1;\n    }\n\n    // Force a hex value to have 2 characters\n    function pad2(c) {\n        return c.length == 1 ? '0' + c : '' + c;\n    }\n\n    // Replace a decimal with it's percentage value\n    function convertToPercentage(n) {\n        if (n <= 1) {\n            n = (n * 100) + \"%\";\n        }\n\n        return n;\n    }\n\n    // Converts a decimal to a hex value\n    function convertDecimalToHex(d) {\n        return Math.round(parseFloat(d) * 255).toString(16);\n    }\n    // Converts a hex value to a decimal\n    function convertHexToDecimal(h) {\n        return (parseIntFromHex(h) / 255);\n    }\n\n    var matchers = (function() {\n\n        // <http://www.w3.org/TR/css3-values/#integers>\n        var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n        // <http://www.w3.org/TR/css3-values/#number-value>\n        var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n        // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n        var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n        // Actual matching.\n        // Parentheses and commas are optional, but not required.\n        // Whitespace can take the place of commas or opening paren\n        var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n        var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n        return {\n            rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n            rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n            hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n            hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n            hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n            hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n            hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n            hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n            hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n        };\n    })();\n\n    // `stringInputToObject`\n    // Permissive string parsing.  Take in a number of formats, and output an object\n    // based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\n    function stringInputToObject(color) {\n\n        color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n        var named = false;\n        if (names[color]) {\n            color = names[color];\n            named = true;\n        }\n        else if (color == 'transparent') {\n            return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n        }\n\n        // Try to match string input using regular expressions.\n        // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n        // Just return an object and let the conversion functions handle that.\n        // This way the result will be the same whether the tinycolor is initialized with string or object.\n        var match;\n        if ((match = matchers.rgb.exec(color))) {\n            return { r: match[1], g: match[2], b: match[3] };\n        }\n        if ((match = matchers.rgba.exec(color))) {\n            return { r: match[1], g: match[2], b: match[3], a: match[4] };\n        }\n        if ((match = matchers.hsl.exec(color))) {\n            return { h: match[1], s: match[2], l: match[3] };\n        }\n        if ((match = matchers.hsla.exec(color))) {\n            return { h: match[1], s: match[2], l: match[3], a: match[4] };\n        }\n        if ((match = matchers.hsv.exec(color))) {\n            return { h: match[1], s: match[2], v: match[3] };\n        }\n        if ((match = matchers.hsva.exec(color))) {\n            return { h: match[1], s: match[2], v: match[3], a: match[4] };\n        }\n        if ((match = matchers.hex8.exec(color))) {\n            return {\n                a: convertHexToDecimal(match[1]),\n                r: parseIntFromHex(match[2]),\n                g: parseIntFromHex(match[3]),\n                b: parseIntFromHex(match[4]),\n                format: named ? \"name\" : \"hex8\"\n            };\n        }\n        if ((match = matchers.hex6.exec(color))) {\n            return {\n                r: parseIntFromHex(match[1]),\n                g: parseIntFromHex(match[2]),\n                b: parseIntFromHex(match[3]),\n                format: named ? \"name\" : \"hex\"\n            };\n        }\n        if ((match = matchers.hex3.exec(color))) {\n            return {\n                r: parseIntFromHex(match[1] + '' + match[1]),\n                g: parseIntFromHex(match[2] + '' + match[2]),\n                b: parseIntFromHex(match[3] + '' + match[3]),\n                format: named ? \"name\" : \"hex\"\n            };\n        }\n\n        return false;\n    }\n\n    window.tinycolor = tinycolor;\n    })();\n\n    $(function () {\n        if ($.fn.spectrum.load) {\n            $.fn.spectrum.processNativeColorInputs();\n        }\n    });\n\n});\n","import template from './template';\r\n\r\n(function($) {\r\n    const restApi = {\r\n        async asyncAjax(url, type = 'GET', data) {\r\n            let result;\r\n\r\n            try {\r\n                result = await $.ajax({\r\n                    url,\r\n                    type,\r\n                    data\r\n                });\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        async getSavedPalettes() {\r\n            const res = await this.asyncAjax('/members/Color_palette/get');\r\n\r\n            return res.palette;\r\n        },\r\n\r\n        async createNewPalette(name) {\r\n            const data = {\r\n                name,\r\n            };\r\n\r\n            return await this.asyncAjax('/members/Color_palette/create', 'POST', data);\r\n        },\r\n\r\n        async updatePalette(id, payload) {\r\n            const data = {\r\n                palette_id: id,\r\n                palette_name: payload['palette_name'],\r\n                settings: payload['settings']\r\n            };\r\n\r\n            return await this.asyncAjax('/members/Color_palette/update', 'POST', data);\r\n        },\r\n\r\n        async deletePalette(id) {\r\n            const data = {\r\n                palette_id: id,\r\n            };\r\n\r\n            return await this.asyncAjax('/members/Color_palette/delete', 'POST', data);\r\n        }\r\n    };\r\n\r\n    const $template = $(template);\r\n\r\n    $.fn.colorpalette = function() {\r\n        return this.each((i, el) => {\r\n            const $input = $(el),\r\n                  spectrumContainer = $input.spectrum('container').parent(),\r\n                  colorPaletteWrapper = $('.js_spectrum_palette', $template).clone();\r\n\r\n            $(spectrumContainer).append(colorPaletteWrapper);\r\n\r\n            new ColorPalette(\r\n                $input,\r\n                colorPaletteWrapper,\r\n                $template[0]\r\n            );\r\n        });\r\n    };\r\n\r\n    class ColorPalette {\r\n        constructor(input, wrapper, template) {\r\n            this.wrapper = wrapper;\r\n            this.mainWrapper = this.wrapper.parents('.kspectrum');\r\n            // be careful when editing the template, not to remove these classes\r\n            this.popoverContent = {\r\n                paletteOptionsPopoverContent: $('.js_palette_options_popover_content', template),\r\n                newPalettePopoverContent: $('.js_palette_new_popover_content', template),\r\n                renamePalettePopoverContent: $('.js_palette_rename_popover_content', template),\r\n                deletePalettePopoverContent: $('.js_palette_delete_popover_content', template),\r\n            };\r\n            this.innerWrapper = $('.js_palette_inner_wrapper', this.wrapper[0]);\r\n            this.$selectpicker = $('.js_selectpicker', this.wrapper[0]);\r\n            this.$paletteContent = $('.js_palette_content', this.wrapper[0]);\r\n            this.$paletteList = $('.js_palette_list', this.wrapper[0]);\r\n            this.$loader = $('.js_spinning_wheel', this.wrapper[0]);\r\n            this.input = input;\r\n            this.spContainer = input.spectrum('container');\r\n            this.userPalettes = [];\r\n            this.selectedPaletteIndex = 0;\r\n            this.inEditMode = false;\r\n            this.addBtn = undefined;\r\n\r\n            this.init();\r\n        }\r\n\r\n        init() {\r\n            this.attachEvents();\r\n            this.initPopovers();\r\n            this.initSelectPicker();\r\n        }\r\n\r\n        attachAddColorEvents() {\r\n            this.addBtn = $('.js_palette_color_new', this.wrapper);\r\n\r\n            const showLoading = () => {\r\n                this.addBtn.removeClass('palette_color_new_btn');\r\n                this.addBtn.addClass('w_loader loader_small btn-neutral');\r\n                this.addBtn.prop('disabled', true);\r\n                this.addBtn.find('i').hide();\r\n                $('.flat_icon_box', this.addBtn).show();\r\n            };\r\n\r\n            const hideLoading = () => {\r\n                this.addBtn.addClass('palette_color_new_btn');\r\n                this.addBtn.removeClass('w_loader loader_small btn-neutral');\r\n                this.addBtn.prop('disabled', false);\r\n                this.addBtn.find('i').show();\r\n                $('.flat_icon_box', this.addBtn).hide();\r\n            };\r\n\r\n            const onAddBtnClick = async () => {\r\n                const selectedColor = this.input.kspectrum('get');\r\n\r\n                this.input.kspectrum('set', selectedColor);\r\n\r\n                if (this.getCurrentPalette().colors.indexOf(selectedColor) > -1) return; // if we already have this color saved\r\n\r\n                showLoading();\r\n\r\n                await restApi.updatePalette(this.getCurrentPalette().id, { settings: [...this.getCurrentPalette().colors, selectedColor]});\r\n                await this.refreshUserPalettes();\r\n                this.renderColorCircles();\r\n                hideLoading();\r\n            };\r\n\r\n            this.addBtn.on('click', onAddBtnClick);\r\n        }\r\n\r\n        attachColorClickEvent() {\r\n            this.colorCircles = $('.js_color_circle', this.$paletteList);\r\n\r\n            const onColorCircleClick = e => {\r\n                const bgColor = $(e.target).css('background-color');\r\n                this.input.kspectrum('set', bgColor);\r\n            };\r\n\r\n            this.colorCircles.on('click', onColorCircleClick);\r\n        }\r\n\r\n        initSelectPicker() {\r\n            this.$selectpicker.selectpicker({\r\n                dropupAuto: false,\r\n                noneSelectedText: 'Select palette...'\r\n            });\r\n        }\r\n\r\n        adjustPalette() {\r\n            const spContainerRect = this.spContainer[0].getBoundingClientRect();\r\n\r\n            this.wrapper[0].style.width = spContainerRect.width + 'px';\r\n        }\r\n\r\n        showLoader() {\r\n            this.$paletteContent.hide();\r\n            this.$loader.show();\r\n        }\r\n\r\n        hideLoader() {\r\n            this.$loader.hide();\r\n\r\n            if (this.userPalettes.length) {\r\n                this.$paletteContent.show();\r\n            } else {\r\n                this.$paletteContent.hide();\r\n            }\r\n        }\r\n\r\n        setUserPalettes(data) {\r\n            this.userPalettes = data;\r\n        }\r\n\r\n        async refreshUserPalettes() {\r\n            const data = await restApi.getSavedPalettes();\r\n\r\n            this.setUserPalettes(data);\r\n        }\r\n\r\n        renderPickerOptions() {\r\n            const options = this.userPalettes.map(o => `<option value=${o['id']} data-id=${o['id']}>${o['palette_name']}</option>`);\r\n\r\n            if (options.length) {\r\n                this.$selectpicker.empty();\r\n                this.$selectpicker.append(options);\r\n                this.$selectpicker.selectpicker('show');\r\n                this.$selectpicker.selectpicker('refresh');\r\n            } else {\r\n                this.$selectpicker.selectpicker('hide');\r\n            }\r\n        }\r\n\r\n        renderColorCircles() {\r\n            const spectrumInstance = this.input.data('kSpectrumInstance');\r\n\r\n            const renderCircle = (color, index) => `\r\n                <li>\r\n                    <button type=\"button\" class=\"js_color_circle\" style=\"background-color: ${color}\"></button>\r\n                    <button type=\"button\" data-index=\"${index}\">\r\n                        <i class=\"lineico-cross-1\"></i>\r\n                    </button>\r\n                </li>\r\n            `;\r\n\r\n            const renderAddCircle = () => `\r\n                <li class=\"palette_color_new_item\">\r\n                    <button type=\"button\" class=\"btn palette_color_new palette_color_new_btn js_palette_color_new\">\r\n                        <i class=\"lineico-add-1\"></i>\r\n                        <div class=\"flat_icon_box \" style=\"display: none\">\r\n                            <img src=\"https://d2uolguxr56s4e.cloudfront.net/img/shared/359.GIF\" />\r\n                        </div>\r\n                    </button>\r\n                </li>\r\n            `;\r\n\r\n            const isRGBA = colorCssString => {\r\n                return colorCssString.match(/rgba/gi);\r\n            }\r\n\r\n            this.$paletteList.empty();\r\n            this.$paletteContent.hide();\r\n\r\n            if (this.userPalettes.length) {\r\n                const colorCircles = this.userPalettes[this.selectedPaletteIndex].colors.map((color, index) => {\r\n                    if (!spectrumInstance.settings.spectrumSettings.showAlpha && isRGBA(color)) {\r\n                        color = this.convertRgbaToRgb(color);\r\n                    }\r\n\r\n                    return renderCircle(color, index);\r\n                });\r\n\r\n                this.$paletteList.append(colorCircles)\r\n                this.$paletteList.append(renderAddCircle());\r\n                this.attachColorClickEvent();\r\n                this.attachAddColorEvents();\r\n                this.$paletteContent.show();\r\n                this.input.kspectrum('reposition');\r\n            }\r\n        }\r\n\r\n        initPopovers() {\r\n            let $optionsPopover;\r\n            let $createPalettePopover;\r\n            let $renamePalettePopover;\r\n            let $deletePalettePopover;\r\n\r\n            const reposition = ($popoverWrapper) => {\r\n                const wrapperRect = this.wrapper[0].getBoundingClientRect(),\r\n                      popoverWrapperRect = $popoverWrapper[0].getBoundingClientRect();\r\n\r\n                $popoverWrapper[0].style.left = -(popoverWrapperRect.width - wrapperRect.width) / 2 + 'px';\r\n            };\r\n\r\n            const attachEvents = ($popoverTrigger, $popoverWrapper) => {\r\n                this.$optionsPopover.css('pointer-events', 'none');\r\n\r\n                const hideIfClickOutside = e => {\r\n                    if (!$popoverWrapper[0]) {\r\n                        $(document).off('click', hideIfClickOutside);\r\n                        this.$optionsPopover.css('pointer-events', 'all');\r\n\r\n                        return;\r\n                    }\r\n\r\n                    if (!$popoverWrapper[0].contains(e.target)) {\r\n                        $popoverTrigger.trigger('click'); // if .popover('hide') is used, $popoverWrapper will be undefined \r\n                        $(document).off('click', hideIfClickOutside);\r\n                        this.$optionsPopover.css('pointer-events', 'all');\r\n                    }\r\n                };\r\n\r\n                $(document).on('click', hideIfClickOutside);\r\n\r\n                return hideIfClickOutside;\r\n            };\r\n\r\n            const onCreatePaletteClick = () => {\r\n                const newPalettePopoverHandler = ($popoverTrigger, $popoverWrapper, eventHandler) => {\r\n                    const $input = $('.js_palette_name_input', $popoverWrapper);\r\n                    const $saveBtn = $('.js_palette_save_btn', $popoverWrapper);\r\n\r\n                    $input.on('keyup', () => {\r\n                        this.checkEmptyPaletteName($input, $saveBtn);\r\n                    });\r\n\r\n                    $input.on('click', () => {\r\n                        this.hideError($input);\r\n                    });\r\n\r\n                    $saveBtn.on('click', async () => {\r\n                        if ($saveBtn.prop('disabled') !== false) return;\r\n\r\n                        const found = !!this.userPalettes.filter(p => p['palette_name'] === $input.val()).length;\r\n\r\n                        this.$optionsPopover.css('pointer-events', 'all');\r\n\r\n                        if (found) {\r\n                            this.showError($input,'Already exists');\r\n                        } else {\r\n                            $saveBtn.prop('disabled', true);\r\n\r\n                            const paletteName = $input.val(),\r\n                                  newPalette = await restApi.createNewPalette(paletteName);\r\n\r\n                            await this.refreshUserPalettes();\r\n\r\n                            this.renderPickerOptions();\r\n                            this.selectPalette(newPalette['palette_id']);\r\n                            this.renderColorCircles();\r\n                            $popoverTrigger.trigger('click');\r\n                            $(document).off('click', eventHandler);\r\n                        }\r\n                    });\r\n\r\n                    $input.focus();\r\n                };\r\n\r\n                $createPalettePopover = $('.js_palette_popover_trigger').popover({\r\n                    container:  '#' + this.mainWrapper.attr('id') + ' .js_spectrum_palette',\r\n                    placement:  'top',\r\n                    html:       true,\r\n                    template:   '<div class=\"popover palette_zindex v4 v4_black\" role=\"tooltip\"><div class=\"popover-content\"></div></div>',\r\n                    content: () => {\r\n                        return $(this.popoverContent.newPalettePopoverContent).html();\r\n                    }\r\n                });\r\n\r\n                $createPalettePopover.popover('show');\r\n                $optionsPopover.popover('hide');\r\n\r\n                const $popoverWrapper = $('.js_palette_new_popover_inner').parents('.popover');\r\n\r\n                reposition($popoverWrapper);\r\n\r\n                const eventHandler = attachEvents($createPalettePopover, $popoverWrapper);\r\n\r\n                newPalettePopoverHandler($createPalettePopover, $popoverWrapper, eventHandler);\r\n            };\r\n\r\n            const onRenamePaletteClick = () => {\r\n                const renamePalettePopoverHandler = ($popoverTrigger, $popoverWrapper, eventHandler) => {\r\n                    const $input = $('.js_palette_name_input', $popoverWrapper);\r\n                    const $saveBtn = $('.js_palette_save_btn', $popoverWrapper);\r\n\r\n                    $input.val(this.userPalettes[this.selectedPaletteIndex]['palette_name']);\r\n\r\n                    $input.on('keyup', () => {\r\n                        this.checkEmptyPaletteName($input, $saveBtn);\r\n                    });\r\n\r\n                    $input.on('click', () => {\r\n                        this.hideError($input);\r\n                    });\r\n\r\n                    $saveBtn.on('click', async () => {\r\n                        if ($saveBtn.prop('disabled') !== false) return;\r\n\r\n                        const found = !!this.userPalettes.filter(p => p['palette_name'] === $input.val()).length;\r\n\r\n                        this.$optionsPopover.css('pointer-events', 'all');\r\n\r\n                        if (found) {\r\n                            this.showError($input, 'Already exists');\r\n                        } else {\r\n                            $saveBtn.prop('disabled', true);\r\n\r\n                            const paletteName = $input.val();\r\n                            const paletteId = this.getCurrentPalette().id;\r\n\r\n                            await restApi.updatePalette(paletteId, { palette_name: paletteName, settings: this.getCurrentPalette().colors })\r\n                            await this.refreshUserPalettes();\r\n                            this.renderPickerOptions();\r\n                            this.selectPalette(this.getCurrentPalette().id);\r\n                            $popoverTrigger.trigger('click');\r\n                            $(document).off('click', eventHandler);\r\n                        }\r\n                    });\r\n                }\r\n\r\n                $renamePalettePopover = $('.js_palette_rename_trigger').popover({\r\n                    container:  '#' + this.mainWrapper.attr('id') + ' .js_spectrum_palette',\r\n                    placement:  'top',\r\n                    html:       true,\r\n                    template:   '<div class=\"popover palette_zindex v4 v4_black\" role=\"tooltip\"><div class=\"popover-content\"></div></div>',\r\n                    content: () => {\r\n                        return $(this.popoverContent.renamePalettePopoverContent).html();\r\n                    }\r\n                });\r\n\r\n                $renamePalettePopover.popover('show');\r\n                $optionsPopover.popover('hide');\r\n\r\n                const $popoverWrapper = $('.js_palette_rename_popover_inner').parent().parent();\r\n\r\n                reposition($popoverWrapper);\r\n\r\n                const eventHandler = attachEvents($renamePalettePopover, $popoverWrapper);\r\n\r\n                renamePalettePopoverHandler($renamePalettePopover, $popoverWrapper, eventHandler);\r\n            };\r\n\r\n            const onEditPaletteClick = () => {\r\n                this.$paletteList.addClass('palette_edit_mode_on');\r\n                $optionsPopover.popover('hide');\r\n                this.inEditMode = true;\r\n\r\n                const removeEditMode = () => {\r\n                    this.$paletteList.removeClass('palette_edit_mode_on');\r\n                    this.$paletteList.off('click');\r\n                    $(document).off('click', hideIfClickOutside);\r\n                    this.inEditMode = false;\r\n                };\r\n\r\n                const hideIfClickOutside = e => {\r\n                    if (!this.$paletteList[0].contains(e.target)) {\r\n                        removeEditMode();\r\n                    }\r\n                };\r\n\r\n                const onDeleteColorClick = async e => {\r\n                    if (!this.inEditMode) return;\r\n                    const { target } = e;\r\n                    const circle = $(target).parent();\r\n                    const colorIndex = +$(target).attr('data-index');\r\n                    const afterFade = () => {\r\n                        this.userPalettes[this.selectedPaletteIndex].colors.splice(colorIndex, 1);\r\n\r\n                        if (!this.getCurrentPalette().colors.length) {\r\n                            removeEditMode();\r\n                        }\r\n\r\n                        restApi.updatePalette(this.getCurrentPalette().id, { settings: this.getCurrentPalette().colors }).then(() => {\r\n                            this.renderColorCircles();\r\n                        })\r\n                    };\r\n\r\n                    circle.fadeOut(200, afterFade);\r\n                };\r\n\r\n                $(document).on('click', hideIfClickOutside);\r\n                this.$paletteList.on('click', 'li button[data-index]', onDeleteColorClick);\r\n            };\r\n\r\n            const onDeletePaletteClick = () => {\r\n                const deletePalettePopoverHandler = ($popoverTrigger, $popoverWrapper, eventHandler) => {\r\n                    const $noBtn = $('.js_popover_close', $popoverWrapper);\r\n                    const $yesBtn = $('.js_popover_action', $popoverWrapper);\r\n\r\n                    $yesBtn.on('click', async () => {\r\n                        if ($yesBtn.prop('disabled') !== false) return;\r\n\r\n                        $yesBtn.prop('disabled', true);\r\n\r\n                        const paletteId = this.getCurrentPalette().id;\r\n\r\n                        await restApi.deletePalette(paletteId);\r\n                        await this.refreshUserPalettes();\r\n\r\n                        this.renderPickerOptions();\r\n                        this.selectLatestPalette();\r\n                        this.renderColorCircles();\r\n                        $popoverTrigger.trigger('click');\r\n                        $(document).off('click', eventHandler);\r\n                        this.$optionsPopover.css('pointer-events', 'all');\r\n                    });\r\n\r\n                    $noBtn.on('click', () => {\r\n                        $popoverTrigger.trigger('click');\r\n                        $(document).off('click', eventHandler);\r\n                        this.$optionsPopover.css('pointer-events', 'all');\r\n                    });\r\n                }\r\n\r\n                $deletePalettePopover = $('.js_delete_palette_popover_trigger').popover({\r\n                    container:  '#' + this.mainWrapper.attr('id') + ' .js_spectrum_palette',\r\n                    placement:  'top',\r\n                    html:       true,\r\n                    template:   '<div class=\"popover palette_zindex confirm_delete_popover v4 v4_black\" role=\"tooltip\"><div class=\"popover-content\"></div></div>',\r\n                    content: () => {\r\n                        return $(this.popoverContent.deletePalettePopoverContent).html();\r\n                    }\r\n                });\r\n\r\n                $deletePalettePopover.popover('show');\r\n                $optionsPopover.popover('hide');\r\n\r\n                const $popoverWrapper = $('.js_palette_delete_popover_inner').parent().parent();\r\n\r\n                reposition($popoverWrapper);\r\n\r\n                const eventHandler = attachEvents($deletePalettePopover, $popoverWrapper);\r\n\r\n                deletePalettePopoverHandler($deletePalettePopover, $popoverWrapper, eventHandler);\r\n            };\r\n\r\n            $optionsPopover = $('[data-toggle=\"popover-options-menu\"]', this.wrapper).popover({\r\n                placement(context, source) {\r\n                    const winWidth = $(window).width(),\r\n                          offset = $(source).offset(),\r\n                          popoverWidth = 180;\r\n\r\n                    let position = 'right';\r\n\r\n                    if (offset.left + popoverWidth >= winWidth) {\r\n                        position = 'left';\r\n                    }\r\n\r\n                    return position;\r\n                },\r\n                container: '#' + this.wrapper.parents('.kspectrum').attr('id'),\r\n                html: 'true',\r\n                template: '<div class=\"popover v4 v4_black for_palette_actions\" role=\"tooltip\"><div class=\"popover-content\"></div></div>',\r\n                content: () => {\r\n                    return $(this.popoverContent.paletteOptionsPopoverContent).html();\r\n                }\r\n            });\r\n\r\n            this.$optionsPopover = $optionsPopover;\r\n\r\n            let optionsPopoverOpen = false;\r\n\r\n            const popoverButtonHandler = e => {\r\n                const { className } = e.target;\r\n\r\n                switch(className) {\r\n                    case 'js_palette_popover_trigger':\r\n                        onCreatePaletteClick();\r\n                        break;\r\n                    case 'js_palette_rename_trigger':\r\n                        onRenamePaletteClick();\r\n                        break;\r\n                    case 'js_palette_edit_trigger':\r\n                        onEditPaletteClick();\r\n                        break;\r\n                    case 'js_delete_palette_popover_trigger':\r\n                        onDeletePaletteClick();\r\n                        break;\r\n                }\r\n\r\n                togglePopoverOptionButtonsEvents('off');\r\n                optionsPopoverOpen = false;\r\n            };\r\n\r\n            const togglePopoverOptionButtonsEvents = (type ='on') => {\r\n                if (type === 'on') {\r\n                    $(document).on('click', '.js_palette_popover_trigger', popoverButtonHandler);\r\n                    $(document).on('click', '.js_palette_rename_trigger', popoverButtonHandler);\r\n                    $(document).on('click', '.js_palette_edit_trigger', popoverButtonHandler);\r\n                    $(document).on('click', '.js_delete_palette_popover_trigger', popoverButtonHandler);\r\n                } else {\r\n                    $(document).off('click', '.js_palette_popover_trigger', popoverButtonHandler);\r\n                    $(document).off('click', '.js_palette_rename_trigger', popoverButtonHandler);\r\n                    $(document).off('click', '.js_palette_edit_trigger', popoverButtonHandler);\r\n                    $(document).off('click', '.js_delete_palette_popover_trigger', popoverButtonHandler);\r\n                }\r\n            }\r\n\r\n            const closeOpenPopovers = () => {\r\n                if ($createPalettePopover) $createPalettePopover.popover('hide');\r\n                if ($renamePalettePopover) $renamePalettePopover.popover('hide');\r\n                if ($deletePalettePopover) $deletePalettePopover.popover('hide');\r\n            };\r\n\r\n            const onOptionsPopoverClick = () => {\r\n                const onClickOutsideOptionsPanel = e => {\r\n                    const $popoverWrapper = $('.js_palette_options_popover_inner').parent().parent();\r\n\r\n                    if (!$popoverWrapper[0]) {\r\n                        $(document).off('click', onClickOutsideOptionsPanel);\r\n                        togglePopoverOptionButtonsEvents('off');\r\n                        optionsPopoverOpen = false;\r\n                        return;\r\n                    }\r\n\r\n                    if (!$optionsPopover[0].contains(e.target) && !$popoverWrapper[0].contains(e.target)) {\r\n                        $optionsPopover.popover('hide');\r\n                        $(document).off('click', onClickOutsideOptionsPanel);\r\n\r\n                        togglePopoverOptionButtonsEvents('off');\r\n                        optionsPopoverOpen = false;\r\n                    }\r\n                };\r\n\r\n                optionsPopoverOpen = !optionsPopoverOpen;\r\n\r\n                if (optionsPopoverOpen) {\r\n                    closeOpenPopovers();\r\n                    togglePopoverOptionButtonsEvents('on');\r\n                } else {\r\n                    togglePopoverOptionButtonsEvents('off');\r\n                    $(document).off('click', onClickOutsideOptionsPanel);\r\n\r\n                    return;\r\n                }\r\n\r\n                const $popoverWrapper = $('.js_palette_options_popover_inner');\r\n                const renameBtn = $('.js_palette_rename_trigger', $popoverWrapper).parent();\r\n                const editBtn = $('.js_palette_edit_trigger', $popoverWrapper).parent();\r\n                const deleteBtn = $('.js_delete_palette_popover_trigger', $popoverWrapper).parent();\r\n                const btns = [renameBtn, editBtn, deleteBtn];\r\n\r\n                if (!this.userPalettes.length) {\r\n                    btns.forEach(btn => btn.css('display', 'none'));\r\n                } else {\r\n                    btns.forEach(btn => btn.css('display', 'block'));\r\n                }\r\n\r\n                $(document).on('click', onClickOutsideOptionsPanel);\r\n            };\r\n\r\n            $optionsPopover.on('click', onOptionsPopoverClick);\r\n        }\r\n\r\n        getCurrentPalette() {\r\n            return this.userPalettes[this.selectedPaletteIndex];\r\n        }\r\n\r\n        selectPalette(id) {\r\n            id = parseInt(id);\r\n\r\n            this.selectedPaletteIndex = this.userPalettes.findIndex(p => parseInt(p.id) === id);\r\n            this.$selectpicker.val(id);\r\n            this.$selectpicker.selectpicker('refresh');\r\n        }\r\n\r\n        selectLatestPalette() {\r\n            if (!this.userPalettes.length) return;\r\n\r\n            const latest = this.userPalettes[this.userPalettes.length - 1]['id'];\r\n            this.selectPalette(latest);\r\n        }\r\n\r\n        hideOptionsPopover() {\r\n            this.$optionsPopover.popover('hide');\r\n        }\r\n\r\n        attachEvents() {\r\n            const onShowSpectrum = async () => {\r\n                this.adjustPalette();\r\n                this.showLoader();\r\n                await this.refreshUserPalettes();\r\n                this.renderPickerOptions();\r\n                this.selectLatestPalette();\r\n                this.renderColorCircles();\r\n                this.hideLoader();\r\n            };\r\n\r\n            const onHideSpectrum = () => {\r\n                if (this.addBtn) this.addBtn.off('click');\r\n                if (this.colorCircles) this.colorCircles.off('click');\r\n            };\r\n\r\n            const onSelectChange = (e, clickedIndex) => {\r\n                this.selectedPaletteIndex = clickedIndex;\r\n                this.renderColorCircles();\r\n            };\r\n\r\n            this.input.on('show.kspectrum', onShowSpectrum);\r\n            this.input.on('hide.kspectrum', onHideSpectrum);\r\n            this.$selectpicker.on('changed.bs.select', onSelectChange);\r\n        }\r\n\r\n        showError($input, errorText) {\r\n            const $errorBlock = $input.siblings('.js_help_block_error');\r\n\r\n            $input.addClass('error');\r\n            $errorBlock.css('display', 'block');\r\n            $errorBlock.text(errorText);\r\n        }\r\n\r\n        hideError($input) {\r\n            const $errorBlock = $input.siblings('.js_help_block_error');\r\n\r\n            $input.removeClass('error');\r\n            $errorBlock.hide();\r\n        }\r\n\r\n        checkEmptyPaletteName($input, $button) {\r\n            const inputValue = $input.val(),\r\n                  disabled = !inputValue || '' === inputValue.trim();\r\n\r\n            if (disabled) {\r\n                $button.prop('disabled', true);\r\n            } else {\r\n                $button.prop('disabled', false);\r\n                this.hideError($input);\r\n            }\r\n        }\r\n\r\n        convertRgbaToRgb(color) {\r\n            const colorsArray = color.match(/\\d+\\.*\\d*/g);\r\n\r\n            let source = {},\r\n                target = {};\r\n\r\n            source.R = colorsArray.shift() / 255;\r\n            source.G = colorsArray.shift() / 255;\r\n            source.B = colorsArray.shift() / 255;\r\n            source.A = colorsArray.shift() / 1;\r\n\r\n            target.R = parseInt(255 * ((1 - source.A) + (source.A * source.R)));\r\n            target.G = parseInt(255 * ((1 - source.A) + (source.A * source.G)));\r\n            target.B = parseInt(255 * ((1 - source.A) + (source.A * source.B)));\r\n\r\n            return `rgb(${target.R}, ${target.G}, ${target.B})`;\r\n        }\r\n    }\r\n})(jQuery);","import { createPopper } from '@popperjs/core';\r\nimport 'spectrum-colorpicker/spectrum';\r\nimport './colorpalette.jquery';\r\nimport 'spectrum-colorpicker/spectrum.css';\r\n\r\n(async function($) {\r\n    let instanceId = 0;\r\n\r\n    $.fn.kspectrum = function (methodOrOptions = {}, value) {\r\n        const method = typeof methodOrOptions === 'string' ? methodOrOptions : undefined;\r\n        const options = typeof methodOrOptions === 'object' ? methodOrOptions : undefined;\r\n\r\n        if (method) {\r\n            const instances = [];\r\n\r\n            this.each((i, el) => {\r\n                const instance = $(el).data('kSpectrumInstance');\r\n\r\n                instances.push(instance);\r\n            });\r\n\r\n            const results = [];\r\n            const args = (arguments.length > 1) ? Array.prototype.slice.call(arguments, 1) : undefined;\r\n\r\n            this.each((index) => {\r\n                const instance = instances[index];\r\n\r\n                if (!instance) {\r\n                    console.warn('$.kspectrum not instantiated yet');\r\n                    results.push(undefined);\r\n\r\n                    return;\r\n                }\r\n\r\n                if (typeof instance[method] === 'function') {\r\n                    const result = instance[method].apply(instance, args);\r\n\r\n                    results.push(result);\r\n                } else {\r\n                    console.warn('Method \\'' + method + '\\' not defined in $.kspectrum');\r\n                }\r\n            });\r\n\r\n            if (method === 'set') return this;\r\n\r\n            return (results.length > 1) ? results : results[0];\r\n        }\r\n        \r\n        if (options) {\r\n            return this.each((i, el) => {\r\n                const { spectrumOptions = {}, inputOptions = {} } = options;\r\n                const spectrumSettings = $.extend({}, $.fn.kspectrum.spectrumDefaults, spectrumOptions),\r\n                      inputSettings = $.extend({}, $.fn.kspectrum.inputDefaults, inputOptions),\r\n                      $input = $(el);\r\n\r\n                const instance = new KSpectrum($input, { spectrumSettings, inputSettings });\r\n\r\n                $input.data('kSpectrumInstance', instance);\r\n                $input.data('kSpectrumInstanceId', instanceId);\r\n                instanceId++;\r\n            });\r\n        }\r\n    };\r\n\r\n    $.fn.kspectrum.spectrumDefaults = {\r\n        preferredFormat: 'rgb',\r\n        showInput: true,\r\n        showButtons: true,\r\n        clickoutFiresChange: true,\r\n        showAlpha: true,\r\n        flat: true,\r\n    };\r\n\r\n    $.fn.kspectrum.inputDefaults = {\r\n        renderColorCircleOnly: false, // hides the input, shows the color circle and binds click events to it\r\n        showColorPalette: true,\r\n    };\r\n\r\n    class KSpectrum {\r\n        constructor($input, settings) {\r\n            this.$input = $input;\r\n            this.$colorCircle = undefined;\r\n            this.$wrapper = $('<div class=\"kspectrum\"></div>');\r\n            this.$spContainer = undefined;\r\n            this.settings = settings;\r\n            this.shown = false;\r\n\r\n            this.set = this.setValue;\r\n            this.get = this.getValue;\r\n            this.destroy = this.destroyInstance;\r\n            this.show = this.showSpectrum;\r\n            this.hide = this.hideSpectrum;\r\n            this.reposition = this.updatePosition;\r\n\r\n            this.init();\r\n        }\r\n        init() {\r\n            const { inputSettings } = this.settings;\r\n\r\n            this.attachSpectrum();\r\n            this.renderColorCircle();\r\n            this.attachEvents();\r\n\r\n            if (inputSettings.renderColorCircleOnly) {\r\n                this.$targetElement = this.$colorCircle;\r\n            } else {\r\n                this.$targetElement = this.$input;\r\n            }\r\n        }\r\n\r\n        setValue(v) {\r\n            this.$input.spectrum('set', v);\r\n            this.$input.spectrum('reflow');\r\n            this.$input.trigger('change');\r\n        }\r\n\r\n        getValue() {\r\n            if (!this.$input.val()) {\r\n                return null;\r\n            }\r\n\r\n            let color = this.$input.spectrum('get');\r\n\r\n            if (color.toRgbString) {\r\n                color = color.toRgbString();\r\n            } else {\r\n                color = this.$input.val();\r\n            }\r\n\r\n            return color;\r\n        }\r\n\r\n        destroyInstance() {\r\n            this.$wrapper.remove();\r\n            this.$input.data('kSpectrumInstance', null);\r\n            this.$input.spectrum('destroy');\r\n            this.$input.off();\r\n            this.$input.parent().find('.sp-replacer').remove();\r\n            this.$input.removeAttr('data-initialised');\r\n        }\r\n\r\n        toggleSpectrum() {\r\n            this.$input.toggleClass('open');\r\n            this.$wrapper.toggle();\r\n\r\n            if (this.$input.hasClass('open')) {\r\n                this.shown = true;\r\n                this.$input.trigger('show.kspectrum');\r\n            } else {\r\n                this.shown = false;\r\n                this.$input.trigger('hide.kspectrum');\r\n            }\r\n        }\r\n\r\n        showSpectrum() {\r\n            this.$input.addClass('open');\r\n            this.$wrapper.show();\r\n            this.$input.trigger('show.kspectrum');\r\n            this.shown = true;\r\n        }\r\n\r\n        hideSpectrum() {\r\n            const ownerDocument = this.$input[0].ownerDocument;\r\n\r\n            $(ownerDocument).off('click.spectrum');\r\n\r\n            this.$input.removeClass('open'); // used only as a flag to indicate if open or not\r\n            this.$wrapper.hide();\r\n            this.shown = false;\r\n            this.$input.trigger('hide.kspectrum');\r\n        }\r\n\r\n        attachSpectrum() {\r\n            const { spectrumSettings, inputSettings } = this.settings;\r\n            const {\r\n                move: onMoveCallback = () => {},\r\n                show = () => {}, // not used in flat mode.\r\n                change = () => {}, // not used in flat mode.\r\n                hide = () => {}, // not used in flat mode.\r\n            } = spectrumSettings;\r\n\r\n            const that = this;\r\n\r\n            this.$input = this.$input\r\n                .spectrum({\r\n                    ...spectrumSettings,\r\n                    move(color) {\r\n                        if (color !== null) {\r\n                            color = color.toRgbString();\r\n                        }\r\n\r\n                        that.setValue(color);\r\n                        onMoveCallback(color);\r\n                    },\r\n                });\r\n\r\n            // detach and add Spectrum to body\r\n            const spectrumContainer = this.$input.spectrum('container').detach();\r\n            const ownerDocument = this.$input[0].ownerDocument;\r\n\r\n            $(ownerDocument).off('click.spectrum');\r\n\r\n            $('.sp-button-container', spectrumContainer).remove();\r\n            this.$wrapper.prop('id', 'kspectrum-wrapper-' + instanceId);\r\n            this.$wrapper.prop('instanceId', instanceId);\r\n            spectrumContainer.prop('id', 'kspectrum-for-input-' + instanceId);\r\n            this.$wrapper.append(spectrumContainer);\r\n            this.$wrapper.hide();\r\n            $('body').append(this.$wrapper);\r\n\r\n            if (inputSettings.showColorPalette) {\r\n                this.$input.colorpalette();\r\n            }\r\n\r\n            if (!inputSettings.renderColorCircleOnly) {\r\n                this.$input\r\n                    .show()\r\n                    .off('click')\r\n                    .on('click', () => {\r\n                        this.toggleSpectrum();\r\n                    });\r\n            }\r\n\r\n            this.$spContainer = $(this.$input.spectrum('container'));\r\n        }\r\n\r\n        renderColorCircle() {\r\n            const { inputSettings } = this.settings;\r\n            const color = this.getValue();\r\n\r\n            this.$colorCircle = $('<div class=\"sp-replacer sp-light\"><div class=\"sp-preview\"><div class=\"sp-preview-inner\" style=\"background-color: ' + color + ';\"></div></div><div class=\"sp-dd\">▼</div></div>');\r\n            this.$input.parent().find('.sp-replacer').remove();\r\n            this.$input.after(this.$colorCircle);\r\n\r\n            if (inputSettings.renderColorCircleOnly) {\r\n                this.$input.off('click');\r\n                this.$colorCircle\r\n                    .off('click')\r\n                    .on('click', () => {\r\n                        this.toggleSpectrum();\r\n                    });\r\n            }\r\n        }\r\n\r\n        updateColorCircle() {\r\n            let color = this.getValue();\r\n\r\n            if (color) {\r\n                this.$colorCircle.find('.sp-preview-inner').css('background-color', color);\r\n            } else {\r\n                this.$colorCircle.find('.sp-preview-inner').css('background-color', '');\r\n            }\r\n        }\r\n\r\n        attachEvents() {\r\n            const { spectrumSettings } = this.settings;\r\n            // show and hide callbacks have to be used here, not where .spectrum() is initialised, because they are disabled in flat mode\r\n            const {\r\n                onShow: onShowCallback = () => {},\r\n                onHide: onHideCallback = () => {},\r\n                onChange: onChangeCallback = () => {},\r\n            } = spectrumSettings;\r\n\r\n            const handleClickOutside = e => {\r\n                if (!this.shown) return;\r\n\r\n                if (this.$input[0].contains(e.target) || this.$colorCircle[0].contains(e.target)) return;\r\n\r\n                const { inputSettings } = this.settings;\r\n\r\n                let clickInside = false;\r\n\r\n                if (inputSettings.showColorPalette) {\r\n                    const optionsPopover = $('.js_palette_options_popover_inner');\r\n                    const newPopover = $('.js_palette_new_popover_inner');\r\n                    const renamePopover = $('.js_palette_rename_popover_inner');\r\n                    const deletePopover = $('.js_palette_delete_popover_inner');\r\n                    const popovers = [optionsPopover, newPopover, renamePopover, deletePopover];\r\n\r\n                    popovers.some(popover => {\r\n                        if (popover[0]) {\r\n                            if (this.$spContainer.parent()[0].contains(e.target) || popover[0].contains(e.target)) {\r\n                                clickInside = true\r\n                                return true;\r\n                            } \r\n                        } else {\r\n                            if (this.$spContainer.parent()[0].contains(e.target)) {\r\n                                clickInside = true;\r\n                                return true;\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (!clickInside) {\r\n                    this.hideSpectrum();\r\n\r\n                    $(document).off('click', handleClickOutside);\r\n                }\r\n            };\r\n\r\n            this.$input.on('show.kspectrum', () => {\r\n                this.showPopper();\r\n\r\n                const color = this.getValue();\r\n\r\n                if (!color) {\r\n                    this.$input.val(null);\r\n                } else {\r\n                    this.$input.spectrum('set', this.$input.val());\r\n                }\r\n\r\n                this.$input.spectrum('reflow');\r\n\r\n                $(document).on('click', handleClickOutside);\r\n\r\n                onShowCallback()\r\n            });\r\n\r\n            // triggered by this.setValue()\r\n            this.$input.on('change.spectrum', e => {\r\n                const color = this.getValue();\r\n\r\n                if (!color) {\r\n                    this.$input.val(null);\r\n                }\r\n\r\n                onChangeCallback(color);\r\n                this.updateColorCircle();\r\n            });\r\n\r\n            this.$input.on('hide.kspectrum', () => {\r\n                onHideCallback();\r\n                this.hidePopper();\r\n            });\r\n\r\n            this.$input.attr('data-initialised', true);\r\n        }\r\n\r\n        createPopper() {\r\n            this.popperInstance = createPopper(this.$targetElement[0], this.$wrapper[0], {\r\n                placement: 'auto',\r\n                strategy: 'fixed',\r\n                modifiers: [\r\n                    {\r\n                        name: 'offset',\r\n                        options: {\r\n                            offset: [0, 8],\r\n                        },\r\n                    },\r\n                ],\r\n            });\r\n        }\r\n\r\n        destroyPopper() {\r\n            if (this.popperInstance) {\r\n                this.popperInstance.destroy();\r\n                this.popperInstance = null;\r\n            }\r\n        }\r\n\r\n        updatePosition() {\r\n            if (this.popperInstance) {\r\n                this.popperInstance.update();\r\n            }\r\n        }\r\n\r\n        showPopper() {\r\n            this.$wrapper.attr('data-show', '');\r\n            this.createPopper();\r\n        }\r\n\r\n        hidePopper() {\r\n            this.$wrapper.removeAttr('data-show');\r\n            this.destroyPopper();\r\n        }\r\n    }\r\n\r\n})(jQuery);","import 'kspectrum/dist/kspectrum.jquery';\n\n(function() {\n    function TextColorBtn() {\n      var doc = new CKEDITOR.dom.window(window);\n      var jsVars = doc.$.parent.jsVars;\n  \n      function addButton(editor) {\n        var config = editor.config;\n\n        editor.addCommand(\"kspectrum_text_color\", {\n          exec: function(e) {\n            e.insertHtml('textcolor');\n          }\n        });\n\n        editor.ui.addButton('TextColor', {\n            label: \"Text Color\",\n            command: 'kspectrum_text_color',\n            toolbar: 'basicstyles',\n            icon: 'textcolor'\n        });\n      }\n\n      function addPlugin() {\n        CKEDITOR.plugins.add('TextColorKspectrum', {\n          init(editor) {\n            addButton(editor);\n          },\n        });\n      }\n      return {\n        init() {\n          addPlugin();\n        }\n      };\n    }\n    var plugin = new TextColorBtn();\n    plugin.init();\n  })();\n  "],"names":["runtime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","method","arg","Error","value","done","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","fn","obj","call","err","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","result","__await","then","unwrapped","error","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","doneResult","constructor","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","toString","keys","object","key","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","Function","getBoundingClientRect","element","rect","width","height","top","right","bottom","left","x","y","getWindow","node","ownerDocument","defaultView","window","getWindowScroll","win","scrollLeft","pageXOffset","scrollTop","pageYOffset","isElement","Element","isHTMLElement","HTMLElement","getNodeName","nodeName","toLowerCase","getDocumentElement","document","documentElement","getWindowScrollBarX","getComputedStyle","isScrollParent","_getComputedStyle","overflow","overflowX","overflowY","test","getCompositeRect","elementOrVirtualElement","offsetParent","isFixed","scroll","offsets","clientLeft","clientTop","getLayoutRect","offsetLeft","offsetTop","offsetWidth","offsetHeight","getParentNode","assignedSlot","parentNode","host","listScrollParents","list","scrollParent","getScrollParent","indexOf","body","isBody","target","concat","visualViewport","updatedList","isTableElement","getTrueOffsetParent","position","getOffsetParent","basePlacements","variationPlacements","reduce","acc","placement","placements","modifierPhases","getBasePlacement","split","DEFAULT_OPTIONS","modifiers","strategy","areValidElements","_len","arguments","args","Array","_key","some","passive","getVariation","getMainAxisFromPlacement","computeOffsets","_ref","reference","basePlacement","variation","commonX","commonY","mainAxis","len","Math","floor","ceil","unsetSides","mapToStyles","_ref2","_Object$assign2","popper","popperRect","gpuAcceleration","adaptive","_roundOffsets","dpr","devicePixelRatio","round","hasX","hasY","sideX","sideY","clientHeight","clientWidth","_Object$assign","commonStyles","assign","transform","hash","getOppositePlacement","replace","matched","start","end","getOppositeVariationPlacement","toNumber","cssValue","parseFloat","contains","parent","child","isShadow","Boolean","getRootNode","isSameNode","rectToClientRect","getClientRectFromMixedType","clippingParent","innerWidth","innerHeight","navigator","platform","winScroll","documentRect","max","getClippingRect","boundary","rootBoundary","mainClippingParents","clippingParents","clipperElement","filter","firstClippingParent","clippingRect","accRect","decorations","borders","computedStyle","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","isHTML","winScrollBarX","getDecorations","min","mergePaddingObject","paddingObject","expandToHashMap","hashMap","detectOverflow","options","_options","_options$placement","_options$boundary","_options$rootBoundary","_options$elementConte","elementContext","_options$altBoundary","altBoundary","_options$padding","padding","altContext","referenceElement","elements","rects","clippingClientRect","contextElement","referenceClientRect","popperOffsets","popperClientRect","elementClientRect","overflowOffsets","offsetData","modifiersData","offset","multiply","axis","computeAutoPlacement","flipVariations","_options$allowedAutoP","allowedAutoPlacements","allPlacements","overflows","sort","a","b","within","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","createPopper","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","pending","orderedModifiers","attributes","styles","effectCleanupFns","isDestroyed","instance","setOptions","cleanupModifierEffects","scrollParents","merged","map","Map","visited","Set","modifier","set","has","add","requires","requiresIfExists","dep","depModifier","get","order","phase","current","existing","data","m","enabled","_ref3","_ref3$options","effect","cleanupFn","update","forceUpdate","_state$elements","index","_state$orderedModifie","_state$orderedModifie2","destroy","onFirstUpdate","popperGenerator","_options$scroll","_options$resize","resize","addEventListener","removeEventListener","_options$gpuAccelerat","_options$adaptive","arrow","data-popper-placement","style","removeAttribute","setAttribute","initialStyles","margin","property","attribute","_options$offset","invertDistance","skidding","distance","_data$state$placement","_skip","_options$mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","_options$flipVariatio","preferredPlacement","oppositePlacement","referenceRect","checksMap","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","isVertical","mainVariationSide","altVariationSide","checks","every","check","_loop","_i","fittingPlacement","find","_options$tether","tether","_options$tetherOffset","tetherOffset","isBasePlacement","tetherOffsetValue","mainSide","altSide","additive","minLen","maxLen","arrowElement","arrowRect","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","arrowOffsetParent","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_mainSide","_altSide","_offset","_preventedOffset","_state$modifiersData$","minProp","maxProp","endDiff","startDiff","clientSize","centerToReference","center","axisProp","centerOffset","_options$element","querySelector","preventOverflow","referenceOverflow","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","data-popper-reference-hidden","data-popper-escaped","$","undefined","defaultOpts","beforeShow","noop","move","change","show","hide","color","flat","showInput","allowEmpty","showButtons","clickoutFiresChange","showInitial","showPalette","showPaletteOnly","hideAfterPaletteSelect","togglePaletteOnly","showSelectionPalette","localStorageKey","appendTo","maxSelectionSize","cancelText","chooseText","togglePaletteMoreText","togglePaletteLessText","clearText","noColorSelectedText","preferredFormat","className","containerClassName","replacerClassName","showAlpha","theme","palette","selectionPalette","disabled","spectrums","IE","exec","userAgent","rgbaSupport","str","substr","createElement","cssText","backgroundColor","replaceInput","join","markup","gradientFix","paletteTemplate","p","opts","html","tiny","tinycolor","c","toHsl","l","equals","formattedString","swatchStyle","toRgbString","toFilter","append","attr","spectrum","o","callbackContext","extend","callbacks","bind","func","wait","debounce","timeout","throttler","apply","setTimeout","reflow","visible","isDragging","dragWidth","dragHeight","dragHelperHeight","slideHeight","alphaWidth","alphaSlideHelperWidth","slideHelperHeight","currentHue","currentSaturation","currentValue","currentAlpha","paletteArray","paletteLookup","shiftMovementDirection","doc","boundElement","container","addClass","pickerContainer","dragger","dragHelper","slider","slideHelper","alphaSliderInner","alphaSlider","alphaSlideHelper","textInput","paletteContainer","initialColorContainer","cancelButton","clearButton","chooseButton","toggleButton","isInput","is","isInputTypeColor","inputTypeColorSupport","shouldReplace","replacer","ct","offsetElement","previewElement","initialColor","val","colorOnShow","currentPreferredFormat","isEmpty","applyOptions","text","isArray","j","rgb","toggleClass","updateSelectionPaletteFromStorage","localStorage","oldPalette","each","addColorToSelectionPalette","e","inArray","shift","drawPalette","currentColor","unique","drawInitial","initial","dragStart","trigger","dragStop","removeClass","setFromTextInput","isValid","updateOriginalInput","toggle","event","Event","isDefaultPrevented","on","onkeydown","clickout","updateUI","keyCode","button","revert","off","ignoreFormatChange","newColor","newHsv","toHsv","h","s","v","getFormat","fromRatio","format","updateHelperLocations","flatColor","css","toHexString","realColor","displayColor","realHex","realRgb","alpha","toRgb","realAlpha","gradient","gradientType","dragX","dragY","alphaX","slideY","A","fireCallback","hasChanged","picker","input","dpWidth","outerWidth","dpHeight","outerHeight","inputHeight","docElem","viewWidth","viewHeight","abs","disable","after","paletteElementClick","ignore","closest","stopPropagation","preventDefault","click","keydown","hasClass","draggable","shiftKey","oldDragX","oldDragY","furtherFromX","setValue","paletteEvent","spect","option","optionName","optionValue","enable","coord","remove","id","onmove","onstart","onstop","dragging","maxHeight","maxWidth","hasTouch","duringDragEvents","prevent","returnValue","documentMode","t0","originalEvent","touches","pageX","pageY","selectstart","dragstart","rightclick","which","dataID","extra","removeData","load","loadOpts","defaults","_cachedResult","colorInput","localization","palettes","processNativeColorInputs","colorInputs","trimLeft","trimRight","tinyCounter","math","mathRound","mathMin","mathMax","mathRandom","random","r","g","ok","match","named","names","matchers","rgba","hsl","hsla","hsv","hsva","hex8","parseIntFromHex","hex6","hex3","bound01","String","convertToPercentage","f","q","t","mod","hue2rgb","boundAlpha","_originalInput","_r","_g","_b","_a","_roundA","_format","_gradientType","_ok","_tc_id","rgbToHsl","d","rgbToHsv","rgbToHex","allow3Char","hex","pad2","rgbaToHex","desaturate","amount","clamp01","saturate","greyscale","lighten","brighten","darken","spin","hue","complement","triad","tetrad","splitcomplement","analogous","results","slices","part","ret","monochromatic","modification","isDark","getBrightness","isLight","getOriginalInput","getAlpha","setAlpha","toHsvString","toHslString","toHex","toHex8","toHex8String","toPercentageRgb","toPercentageRgbString","toName","hexNames","secondColor","hex8String","secondHex8String","formatSet","hasAlpha","_applyModification","_applyCombination","color1","color2","mix","w1","rgb1","rgb2","w","w2","readability","c1","c2","brightnessA","brightnessB","colorDiff","brightness","isReadable","mostReadable","baseColor","colorList","bestColor","bestScore","bestIsReadable","readable","score","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","flipped","n","processPercent","parseInt","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","RegExp","require$$0","restApi","asyncAjax","url","ajax","console","getSavedPalettes","_this","res","createNewPalette","_this2","updatePalette","payload","palette_id","palette_name","settings","_this3","deletePalette","_this4","$template","colorpalette","el","$input","spectrumContainer","colorPaletteWrapper","clone","ColorPalette","wrapper","template","mainWrapper","parents","popoverContent","paletteOptionsPopoverContent","newPalettePopoverContent","renamePalettePopoverContent","deletePalettePopoverContent","innerWrapper","$selectpicker","$paletteContent","$paletteList","$loader","spContainer","userPalettes","selectedPaletteIndex","inEditMode","addBtn","init","attachEvents","initPopovers","initSelectPicker","onAddBtnClick","selectedColor","_this5","kspectrum","getCurrentPalette","colors","prop","refreshUserPalettes","renderColorCircles","colorCircles","bgColor","_this6","selectpicker","dropupAuto","noneSelectedText","spContainerRect","setUserPalettes","empty","spectrumInstance","spectrumSettings","_this7","convertRgbaToRgb","attachColorClickEvent","attachAddColorEvents","$optionsPopover","$createPalettePopover","$renamePalettePopover","$deletePalettePopover","reposition","$popoverWrapper","wrapperRect","_this8","popoverWrapperRect","$popoverTrigger","hideIfClickOutside","popover","source","winWidth","content","optionsPopoverOpen","popoverButtonHandler","eventHandler","$saveBtn","checkEmptyPaletteName","hideError","found","showError","paletteName","newPalette","renderPickerOptions","selectPalette","focus","paletteId","removeEditMode","onDeleteColorClick","circle","colorIndex","afterFade","splice","fadeOut","$noBtn","$yesBtn","selectLatestPalette","togglePopoverOptionButtonsEvents","onClickOutsideOptionsPanel","btns","btn","findIndex","latest","onShowSpectrum","_this9","adjustPalette","showLoader","hideLoader","clickedIndex","errorText","$errorBlock","siblings","$button","inputValue","trim","colorsArray","R","G","B","jQuery","instanceId","methodOrOptions","_typeof","instances","warn","spectrumOptions","inputOptions","spectrumDefaults","inputSettings","inputDefaults","KSpectrum","renderColorCircleOnly","showColorPalette","$colorCircle","$wrapper","$spContainer","shown","getValue","destroyInstance","showSpectrum","hideSpectrum","updatePosition","attachSpectrum","renderColorCircle","$targetElement","removeAttr","onMoveCallback","that","detach","toggleSpectrum","onShow","onShowCallback","onHide","onHideCallback","onChange","onChangeCallback","handleClickOutside","clickInside","showPopper","updateColorCircle","hidePopper","popperInstance","destroyPopper","CKEDITOR","dom","jsVars","plugins","editor","config","addCommand","insertHtml","ui","addButton","label","command","toolbar","icon"],"mappings":"2LAOA,IAAIA,EAAW,SAAUC,GAGvB,IAAIC,EAAKC,OAAOC,UACZC,EAASH,EAAGI,eAEZC,EAA4B,mBAAXC,OAAwBA,OAAS,GAClDC,EAAiBF,EAAQG,UAAY,aACrCC,EAAsBJ,EAAQK,eAAiB,kBAC/CC,EAAoBN,EAAQO,aAAe,gBAE/C,SAASC,EAAKC,EAASC,EAASC,EAAMC,GAEpC,IAAIC,EAAiBH,GAAWA,EAAQb,qBAAqBiB,EAAYJ,EAAUI,EAC/EC,EAAYnB,OAAOoB,OAAOH,EAAehB,WACzCoB,EAAU,IAAIC,EAAQN,GAAe,IAMzC,OAFAG,EAAUI,QAqMZ,SAA0BV,EAASE,EAAMM,GACvC,IAAIG,EA9KuB,iBAgL3B,OAAO,SAAgBC,EAAQC,GAC7B,GA/KoB,cA+KhBF,EACF,MAAM,IAAIG,MAAM,gCAGlB,GAlLoB,cAkLhBH,EAA6B,CAC/B,GAAe,UAAXC,EACF,MAAMC,EAKR,MAoQG,CAAEE,aAAkBC,SA9PzB,IAHAR,EAAQI,OAASA,EACjBJ,EAAQK,IAAMA,IAED,CACX,IAAII,EAAWT,EAAQS,SACvB,GAAIA,EAAU,CACZ,IAAIC,EAAiBC,EAAoBF,EAAUT,GACnD,GAAIU,EAAgB,CAClB,GAAIA,IAAmBE,EAAkB,SACzC,OAAOF,GAIX,GAAuB,SAAnBV,EAAQI,OAGVJ,EAAQa,KAAOb,EAAQc,MAAQd,EAAQK,SAElC,GAAuB,UAAnBL,EAAQI,OAAoB,CACrC,GAlNqB,mBAkNjBD,EAEF,MADAA,EAhNc,YAiNRH,EAAQK,IAGhBL,EAAQe,kBAAkBf,EAAQK,SAEN,WAAnBL,EAAQI,QACjBJ,EAAQgB,OAAO,SAAUhB,EAAQK,KAGnCF,EA3NkB,YA6NlB,IAAIc,EAASC,EAAS1B,EAASE,EAAMM,GACrC,GAAoB,WAAhBiB,EAAOE,KAAmB,CAO5B,GAJAhB,EAAQH,EAAQQ,KAhOA,YAFK,iBAsOjBS,EAAOZ,MAAQO,EACjB,SAGF,MAAO,CACLL,MAAOU,EAAOZ,IACdG,KAAMR,EAAQQ,MAGS,UAAhBS,EAAOE,OAChBhB,EA9OgB,YAiPhBH,EAAQI,OAAS,QACjBJ,EAAQK,IAAMY,EAAOZ,OAxE7B,CArMuCb,EAASE,EAAMM,GAE7CF,EAcT,SAASoB,EAASE,EAAIC,EAAKhB,GACzB,IACE,MAAO,CAAEc,KAAM,SAAUd,IAAKe,EAAGE,KAAKD,EAAKhB,IAC3C,MAAOkB,GACP,MAAO,CAAEJ,KAAM,QAASd,IAAKkB,IAhBjC9C,EAAQc,KAAOA,EAoBf,IAOIqB,EAAmB,GAMvB,SAASf,KACT,SAAS2B,KACT,SAASC,KAIT,IAAIC,EAAoB,GACxBA,EAAkBzC,GAAkB,WAClC,OAAO0C,MAGT,IAAIC,EAAWjD,OAAOkD,eAClBC,EAA0BF,GAAYA,EAASA,EAASG,EAAO,MAC/DD,GACAA,IAA4BpD,GAC5BG,EAAOyC,KAAKQ,EAAyB7C,KAGvCyC,EAAoBI,GAGtB,IAAIE,EAAKP,EAA2B7C,UAClCiB,EAAUjB,UAAYD,OAAOoB,OAAO2B,GAQtC,SAASO,EAAsBrD,GAC7B,CAAC,OAAQ,QAAS,UAAUsD,kBAAiB9B,GAC3CxB,EAAUwB,GAAU,SAASC,GAC3B,OAAOsB,KAAKzB,QAAQE,EAAQC,OAoClC,SAAS8B,EAAcrC,EAAWsC,GAgChC,IAAIC,EAgCJV,KAAKzB,QA9BL,SAAiBE,EAAQC,GACvB,SAASiC,IACP,OAAO,IAAIF,YAAqBG,EAASC,IAnC7C,SAASC,EAAOrC,EAAQC,EAAKkC,EAASC,GACpC,IAAIvB,EAASC,EAASpB,EAAUM,GAASN,EAAWO,GACpD,GAAoB,UAAhBY,EAAOE,KAEJ,CACL,IAAIuB,EAASzB,EAAOZ,IAChBE,EAAQmC,EAAOnC,MACnB,OAAIA,GACiB,iBAAVA,GACP1B,EAAOyC,KAAKf,EAAO,WACd6B,EAAYG,QAAQhC,EAAMoC,SAASC,eAAcrC,GACtDkC,EAAO,OAAQlC,EAAOgC,EAASC,eACrBjB,GACVkB,EAAO,QAASlB,EAAKgB,EAASC,MAI3BJ,EAAYG,QAAQhC,GAAOqC,eAAcC,GAI9CH,EAAOnC,MAAQsC,EACfN,EAAQG,eACEI,GAGV,OAAOL,EAAO,QAASK,EAAOP,EAASC,MAvBzCA,EAAOvB,EAAOZ,KAHlB,CAoCaD,EAAQC,EAAKkC,EAASC,MAIjC,OAAOH,EAaLA,EAAkBA,EAAgBO,KAChCN,EAGAA,GACEA,KAkHV,SAAS3B,EAAoBF,EAAUT,GACrC,IAAII,EAASK,EAASvB,SAASc,EAAQI,QACvC,YAAIA,EAAsB,CAKxB,GAFAJ,EAAQS,SAAW,KAEI,UAAnBT,EAAQI,OAAoB,CAE9B,GAAIK,EAASvB,SAAiB6D,SAG5B/C,EAAQI,OAAS,SACjBJ,EAAQK,WACRM,EAAoBF,EAAUT,GAEP,UAAnBA,EAAQI,QAGV,OAAOQ,EAIXZ,EAAQI,OAAS,QACjBJ,EAAQK,IAAM,IAAI2C,UAChB,kDAGJ,OAAOpC,EAGT,IAAIK,EAASC,EAASd,EAAQK,EAASvB,SAAUc,EAAQK,KAEzD,GAAoB,UAAhBY,EAAOE,KAIT,OAHAnB,EAAQI,OAAS,QACjBJ,EAAQK,IAAMY,EAAOZ,IACrBL,EAAQS,SAAW,KACZG,EAGT,IAAIqC,EAAOhC,EAAOZ,IAElB,OAAM4C,EAOFA,EAAKzC,MAGPR,EAAQS,EAASyC,YAAcD,EAAK1C,MAGpCP,EAAQmD,KAAO1C,EAAS2C,QAQD,WAAnBpD,EAAQI,SACVJ,EAAQI,OAAS,OACjBJ,EAAQK,YAUZL,EAAQS,SAAW,KACZG,GANEqC,GA3BPjD,EAAQI,OAAS,QACjBJ,EAAQK,IAAM,IAAI2C,UAAU,oCAC5BhD,EAAQS,SAAW,KACZG,GAoDX,SAASyC,EAAaC,GACpB,IAAIC,EAAQ,CAAEC,OAAQF,EAAK,IAEvB,KAAKA,IACPC,EAAME,SAAWH,EAAK,IAGpB,KAAKA,IACPC,EAAMG,WAAaJ,EAAK,GACxBC,EAAMI,SAAWL,EAAK,IAGxB3B,KAAKiC,WAAWC,KAAKN,GAGvB,SAASO,EAAcP,GACrB,IAAItC,EAASsC,EAAMQ,YAAc,GACjC9C,EAAOE,KAAO,gBACPF,EAAOZ,IACdkD,EAAMQ,WAAa9C,EAGrB,SAAShB,EAAQN,GAIfgC,KAAKiC,WAAa,CAAC,CAAEJ,OAAQ,SAC7B7D,EAAYuC,QAAQmB,EAAc1B,MAClCA,KAAKqC,UA8BP,SAASjC,EAAOkC,GACd,GAAIA,EAAU,CACZ,IAAIC,EAAiBD,EAAShF,GAC9B,GAAIiF,EACF,OAAOA,EAAe5C,KAAK2C,GAG7B,GAA6B,mBAAlBA,EAASd,KAClB,OAAOc,EAGT,IAAKE,MAAMF,EAASG,QAAS,CAC3B,IAAIC,GAAK,EAAGlB,EAAO,SAASA,IAC1B,OAASkB,EAAIJ,EAASG,QACpB,GAAIvF,EAAOyC,KAAK2C,EAAUI,GAGxB,OAFAlB,EAAK5C,MAAQ0D,EAASI,GACtBlB,EAAK3C,QACE2C,EAOX,OAHAA,EAAK5C,aACL4C,EAAK3C,QAEE2C,GAGT,OAAOA,EAAKA,KAAOA,GAKvB,MAAO,CAAEA,KAAMmB,GAIjB,SAASA,IACP,MAAO,CAAE/D,aAAkBC,SA+M7B,OA3mBAgB,EAAkB5C,UAAYoD,EAAGuC,YAAc9C,EAC/CA,EAA2B8C,YAAc/C,EACzCC,EAA2BpC,GACzBmC,EAAkBgD,YAAc,oBAYlC/F,EAAQgG,oBAAsB,SAASC,GACrC,IAAIC,EAAyB,mBAAXD,GAAyBA,EAAOH,YAClD,QAAOI,IACHA,IAASnD,GAG2B,uBAAnCmD,EAAKH,aAAeG,EAAKC,QAIhCnG,EAAQoG,KAAO,SAASH,GAUtB,OATI/F,OAAOmG,eACTnG,OAAOmG,eAAeJ,EAAQjD,IAE9BiD,EAAOK,UAAYtD,EACbpC,KAAqBqF,IACzBA,EAAOrF,GAAqB,sBAGhCqF,EAAO9F,UAAYD,OAAOoB,OAAOiC,GAC1B0C,GAOTjG,EAAQuG,MAAQ,SAAS3E,GACvB,MAAO,CAAEsC,QAAStC,IAsEpB4B,EAAsBE,EAAcvD,WACpCuD,EAAcvD,UAAUO,GAAuB,WAC7C,OAAOwC,MAETlD,EAAQ0D,cAAgBA,EAKxB1D,EAAQwG,MAAQ,SAASzF,EAASC,EAASC,EAAMC,EAAayC,YACxDA,IAAwBA,EAAc8C,SAE1C,IAAIC,EAAO,IAAIhD,EACb5C,EAAKC,EAASC,EAASC,EAAMC,GAC7ByC,GAGF,OAAO3D,EAAQgG,oBAAoBhF,GAC/B0F,EACAA,EAAKhC,OAAOP,eAAcF,GACxB,OAAOA,EAAOlC,KAAOkC,EAAOnC,MAAQ4E,EAAKhC,WAuKjDlB,EAAsBD,GAEtBA,EAAG3C,GAAqB,YAOxB2C,EAAG/C,GAAkB,WACnB,OAAO0C,MAGTK,EAAGoD,SAAW,WACZ,MAAO,sBAkCT3G,EAAQ4G,KAAO,SAASC,GACtB,IAAID,EAAO,GACX,IAAK,IAAIE,KAAOD,EACdD,EAAKxB,KAAK0B,GAMZ,OAJAF,EAAKG,UAIE,SAASrC,IACd,KAAOkC,EAAKjB,QAAQ,CAClB,IAAImB,EAAMF,EAAKI,MACf,GAAIF,KAAOD,EAGT,OAFAnC,EAAK5C,MAAQgF,EACbpC,EAAK3C,QACE2C,EAQX,OADAA,EAAK3C,QACE2C,IAsCX1E,EAAQsD,OAASA,EAMjB9B,EAAQrB,UAAY,CAClB2F,YAAatE,EAEb+D,MAAO,SAAS0B,GAcd,GAbA/D,KAAKgE,KAAO,EACZhE,KAAKwB,KAAO,EAGZxB,KAAKd,KAAOc,KAAKb,aACjBa,KAAKnB,QACLmB,KAAKlB,SAAW,KAEhBkB,KAAKvB,OAAS,OACduB,KAAKtB,WAELsB,KAAKiC,WAAW1B,QAAQ4B,IAEnB4B,EACH,IAAK,IAAId,KAAQjD,KAEQ,MAAnBiD,EAAKgB,OAAO,IACZ/G,EAAOyC,KAAKK,KAAMiD,KACjBT,OAAOS,EAAKiB,MAAM,MACrBlE,KAAKiD,YAMbkB,KAAM,WACJnE,KAAKnB,QAEL,IACIuF,EADYpE,KAAKiC,WAAW,GACLG,WAC3B,GAAwB,UAApBgC,EAAW5E,KACb,MAAM4E,EAAW1F,IAGnB,OAAOsB,KAAKqE,MAGdjF,kBAAmB,SAASkF,GAC1B,GAAItE,KAAKnB,KACP,MAAMyF,EAGR,IAAIjG,EAAU2B,KACd,SAASuE,EAAOC,EAAKC,GAYnB,OAXAnF,EAAOE,KAAO,QACdF,EAAOZ,IAAM4F,EACbjG,EAAQmD,KAAOgD,EAEXC,IAGFpG,EAAQI,OAAS,OACjBJ,EAAQK,cAGA+F,EAGZ,IAAK,IAAI/B,EAAI1C,KAAKiC,WAAWQ,OAAS,EAAGC,GAAK,IAAKA,EAAG,CACpD,IAAId,EAAQ5B,KAAKiC,WAAWS,GACxBpD,EAASsC,EAAMQ,WAEnB,GAAqB,SAAjBR,EAAMC,OAIR,OAAO0C,EAAO,OAGhB,GAAI3C,EAAMC,QAAU7B,KAAKgE,KAAM,CAC7B,IAAIU,EAAWxH,EAAOyC,KAAKiC,EAAO,YAC9B+C,EAAazH,EAAOyC,KAAKiC,EAAO,cAEpC,GAAI8C,GAAYC,EAAY,CAC1B,GAAI3E,KAAKgE,KAAOpC,EAAME,SACpB,OAAOyC,EAAO3C,EAAME,aACf,GAAI9B,KAAKgE,KAAOpC,EAAMG,WAC3B,OAAOwC,EAAO3C,EAAMG,iBAGjB,GAAI2C,GACT,GAAI1E,KAAKgE,KAAOpC,EAAME,SACpB,OAAOyC,EAAO3C,EAAME,iBAGjB,CAAA,IAAI6C,EAMT,MAAM,IAAIhG,MAAM,0CALhB,GAAIqB,KAAKgE,KAAOpC,EAAMG,WACpB,OAAOwC,EAAO3C,EAAMG,gBAU9B1C,OAAQ,SAASG,EAAMd,GACrB,IAAK,IAAIgE,EAAI1C,KAAKiC,WAAWQ,OAAS,EAAGC,GAAK,IAAKA,EAAG,CACpD,IAAId,EAAQ5B,KAAKiC,WAAWS,GAC5B,GAAId,EAAMC,QAAU7B,KAAKgE,MACrB9G,EAAOyC,KAAKiC,EAAO,eACnB5B,KAAKgE,KAAOpC,EAAMG,WAAY,CAChC,IAAI6C,EAAehD,EACnB,OAIAgD,IACU,UAATpF,GACS,aAATA,IACDoF,EAAa/C,QAAUnD,GACvBA,GAAOkG,EAAa7C,aAGtB6C,EAAe,MAGjB,IAAItF,EAASsF,EAAeA,EAAaxC,WAAa,GAItD,OAHA9C,EAAOE,KAAOA,EACdF,EAAOZ,IAAMA,EAETkG,GACF5E,KAAKvB,OAAS,OACduB,KAAKwB,KAAOoD,EAAa7C,WAClB9C,GAGFe,KAAK6E,SAASvF,IAGvBuF,SAAU,SAASvF,EAAQ0C,GACzB,GAAoB,UAAhB1C,EAAOE,KACT,MAAMF,EAAOZ,IAcf,MAXoB,UAAhBY,EAAOE,MACS,aAAhBF,EAAOE,KACTQ,KAAKwB,KAAOlC,EAAOZ,IACM,WAAhBY,EAAOE,MAChBQ,KAAKqE,KAAOrE,KAAKtB,IAAMY,EAAOZ,IAC9BsB,KAAKvB,OAAS,SACduB,KAAKwB,KAAO,OACa,WAAhBlC,EAAOE,MAAqBwC,IACrChC,KAAKwB,KAAOQ,GAGP/C,GAGT6F,OAAQ,SAAS/C,GACf,IAAK,IAAIW,EAAI1C,KAAKiC,WAAWQ,OAAS,EAAGC,GAAK,IAAKA,EAAG,CACpD,IAAId,EAAQ5B,KAAKiC,WAAWS,GAC5B,GAAId,EAAMG,aAAeA,EAGvB,OAFA/B,KAAK6E,SAASjD,EAAMQ,WAAYR,EAAMI,UACtCG,EAAcP,GACP3C,IAKb8F,MAAS,SAASlD,GAChB,IAAK,IAAIa,EAAI1C,KAAKiC,WAAWQ,OAAS,EAAGC,GAAK,IAAKA,EAAG,CACpD,IAAId,EAAQ5B,KAAKiC,WAAWS,GAC5B,GAAId,EAAMC,SAAWA,EAAQ,CAC3B,IAAIvC,EAASsC,EAAMQ,WACnB,GAAoB,UAAhB9C,EAAOE,KAAkB,CAC3B,IAAIwF,EAAS1F,EAAOZ,IACpByD,EAAcP,GAEhB,OAAOoD,GAMX,MAAM,IAAIrG,MAAM,0BAGlBsG,cAAe,SAAS3C,EAAUf,EAAYE,GAa5C,OAZAzB,KAAKlB,SAAW,CACdvB,SAAU6C,EAAOkC,GACjBf,WAAYA,EACZE,QAASA,GAGS,SAAhBzB,KAAKvB,SAGPuB,KAAKtB,YAGAO,IAQJnC,EA1rBM,CAisBgBoI,EAAOpI,SAGtC,IACEqI,mBAAqBtI,EACrB,MAAOuI,GAUPC,SAAS,IAAK,yBAAdA,CAAwCxI,yvECvtB3B,SAASyI,EAAsBC,GAC5C,IAAIC,EAAOD,EAAQD,wBACnB,MAAO,CACLG,MAAOD,EAAKC,MACZC,OAAQF,EAAKE,OACbC,IAAKH,EAAKG,IACVC,MAAOJ,EAAKI,MACZC,OAAQL,EAAKK,OACbC,KAAMN,EAAKM,KACXC,EAAGP,EAAKM,KACRE,EAAGR,EAAKG,KCPG,SAASM,EAAUC,GAChC,GAAwB,oBAApBA,EAAKzC,WAAkC,CACzC,IAAI0C,EAAgBD,EAAKC,cACzB,OAAOA,EAAgBA,EAAcC,YAAcC,OAGrD,OAAOH,ECRM,SAASI,EAAgBJ,GACtC,IAAIK,EAAMN,EAAUC,GAGpB,MAAO,CACLM,WAHeD,EAAIE,YAInBC,UAHcH,EAAII,aCAtB,SAASC,EAAUV,GAEjB,OAAOA,aADUD,EAAUC,GAAMW,SACIX,aAAgBW,QAMvD,SAASC,EAAcZ,GAErB,OAAOA,aADUD,EAAUC,GAAMa,aACIb,aAAgBa,YCdxC,SAASC,EAAYzB,GAClC,OAAOA,GAAWA,EAAQ0B,UAAY,IAAIC,cAAgB,KCA7C,SAASC,EAAmB5B,GAEzC,OAAQqB,EAAUrB,GAAWA,EAAQY,cAAgBZ,EAAQ6B,UAAUC,gBCA1D,SAASC,EAAoB/B,GAQ1C,OAAOD,EAAsB6B,EAAmB5B,IAAUO,KAAOQ,EAAgBf,GAASiB,WCV7E,SAASe,EAAiBhC,GACvC,OAAOU,EAAUV,GAASgC,iBAAiBhC,GCD9B,SAASiC,EAAejC,GAErC,IAAIkC,EAAoBF,EAAiBhC,GACrCmC,EAAWD,EAAkBC,SAC7BC,EAAYF,EAAkBE,UAC9BC,EAAYH,EAAkBG,UAElC,MAAO,6BAA6BC,KAAKH,EAAWE,EAAYD,GCCnD,SAASG,EAAiBC,EAAyBC,EAAcC,YAC1EA,IACFA,MAGF,ICVoC/B,ECJOX,EFcvC8B,EAAkBF,EAAmBa,GACrCxC,EAAOF,EAAsByC,GAC7BG,EAAS,CACX1B,WAAY,EACZE,UAAW,GAETyB,EAAU,CACZpC,EAAG,EACHC,EAAG,GAkBL,OAfKiC,KAC+B,SAA9BjB,EAAYgB,IAChBR,EAAeH,MACba,GCxBgChC,EDwBT8B,KCvBd/B,EAAUC,IAAUY,EAAcZ,GCJxC,CACLM,YAFyCjB,EDQbW,GCNRM,WACpBE,UAAWnB,EAAQmB,WDGZJ,EAAgBJ,IDyBnBY,EAAckB,KAChBG,EAAU7C,EAAsB0C,IACxBjC,GAAKiC,EAAaI,WAC1BD,EAAQnC,GAAKgC,EAAaK,WACjBhB,IACTc,EAAQpC,EAAIuB,EAAoBD,KAI7B,CACLtB,EAAGP,EAAKM,KAAOoC,EAAO1B,WAAa2B,EAAQpC,EAC3CC,EAAGR,EAAKG,IAAMuC,EAAOxB,UAAYyB,EAAQnC,EACzCP,MAAOD,EAAKC,MACZC,OAAQF,EAAKE,QG1CF,SAAS4C,EAAc/C,GACpC,MAAO,CACLQ,EAAGR,EAAQgD,WACXvC,EAAGT,EAAQiD,UACX/C,MAAOF,EAAQkD,YACf/C,OAAQH,EAAQmD,cCLL,SAASC,EAAcpD,GACpC,MAA6B,SAAzByB,EAAYzB,GACPA,EAIPA,EAAQqD,cACRrD,EAAQsD,YAERtD,EAAQuD,MAER3B,EAAmB5B,GCRR,SAASwD,EAAkBxD,EAASyD,YAC7CA,IACFA,EAAO,IAGT,IAAIC,ECNS,SAASC,EAAgBhD,GACtC,MAAI,CAAC,OAAQ,OAAQ,aAAaiD,QAAQnC,EAAYd,KAAU,EAEvDA,EAAKC,cAAciD,KAGxBtC,EAAcZ,IAASsB,EAAetB,GACjCA,EAGFgD,EAAgBP,EAAczC,IAVxB,CDMsBX,GAC/B8D,EAAuC,SAA9BrC,EAAYiC,GACrB1C,EAAMN,EAAUgD,GAChBK,EAASD,EAAS,CAAC9C,GAAKgD,OAAOhD,EAAIiD,gBAAkB,GAAIhC,EAAeyB,GAAgBA,EAAe,IAAMA,EAC7GQ,EAAcT,EAAKO,OAAOD,GAC9B,OAAOD,EAASI,EAChBA,EAAYF,OAAOR,EAAkBJ,EAAcW,KEftC,SAASI,EAAenE,GACrC,MAAO,CAAC,QAAS,KAAM,MAAM4D,QAAQnC,EAAYzB,KAAa,ECIhE,SAASoE,EAAoBpE,GAC3B,OAAKuB,EAAcvB,IACoB,UAAvCgC,EAAiBhC,GAASqE,SAInBrE,EAAQyC,aAHN,KAMI,SAAS6B,EAAgBtE,GAItC,IAHA,IAAIc,EAASJ,EAAUV,GACnByC,EAAe2B,EAAoBpE,GAEhCyC,GAAgB0B,EAAe1B,IACpCA,EAAe2B,EAAoB3B,GAGrC,OAAIA,GAA8C,SAA9BhB,EAAYgB,IAAwE,WAA5CT,EAAiBS,GAAc4B,SAClFvD,EAGF2B,GAAgB3B,EC3BlB,IAAIV,EAAM,MACNE,EAAS,SACTD,EAAQ,QACRE,EAAO,OAEPgE,EAAiB,CAACnE,EAAKE,EAAQD,EAAOE,GAOtCiE,EAAmCD,EAAeE,iBAAiBC,EAAKC,GACjF,OAAOD,EAAIV,OAAO,CAACW,EAAAA,SAAyBA,EAAAA,WAC3C,IACQC,EAA0B,GAAGZ,OAAOO,EAAgB,CAX7C,SAWqDE,iBAAiBC,EAAKC,GAC3F,OAAOD,EAAIV,OAAO,CAACW,EAAWA,EAAAA,SAAyBA,EAAAA,WACtD,IAaQE,EAAiB,CAXJ,aACN,OACK,YAEC,aACN,OACK,YAEE,cACN,QACK,cC5BT,SAASC,EAAiBH,GACvC,OAAOA,EAAUI,MAAM,KAAK,GCc9B,IAAIC,EAAkB,CACpBL,UAAW,SACXM,UAAW,GACXC,SAAU,YAGZ,SAASC,IACP,IAAK,IAAIC,EAAOC,UAAUnI,OAAQoI,EAAO,IAAIC,MAAMH,GAAOI,EAAO,EAAGA,EAAOJ,EAAMI,IAC/EF,EAAKE,GAAQH,UAAUG,GAGzB,OAAQF,EAAKG,eAAezF,GAC1B,QAASA,GAAoD,mBAAlCA,EAAQD,0BC1BvC,IAAI2F,EAAU,CACZA,YCHa,SAASC,EAAahB,GACnC,OAAOA,EAAUI,MAAM,KAAK,GCDf,SAASa,EAAyBjB,GAC/C,MAAO,CAAC,MAAO,UAAUf,QAAQe,IAAc,EAAI,IAAM,ICG5C,SAASkB,EAAeC,GACrC,IAOIlD,EAPAmD,EAAYD,EAAKC,UACjB/F,EAAU8F,EAAK9F,QACf2E,EAAYmB,EAAKnB,UACjBqB,EAAgBrB,EAAYG,EAAiBH,GAAa,KAC1DsB,EAAYtB,EAAYgB,EAAahB,GAAa,KAClDuB,EAAUH,EAAUvF,EAAIuF,EAAU7F,MAAQ,EAAIF,EAAQE,MAAQ,EAC9DiG,EAAUJ,EAAUtF,EAAIsF,EAAU5F,OAAS,EAAIH,EAAQG,OAAS,EAGpE,OAAQ6F,GACN,KAAK5F,EACHwC,EAAU,CACRpC,EAAG0F,EACHzF,EAAGsF,EAAUtF,EAAIT,EAAQG,QAE3B,MAEF,KAAKG,EACHsC,EAAU,CACRpC,EAAG0F,EACHzF,EAAGsF,EAAUtF,EAAIsF,EAAU5F,QAE7B,MAEF,KAAKE,EACHuC,EAAU,CACRpC,EAAGuF,EAAUvF,EAAIuF,EAAU7F,MAC3BO,EAAG0F,GAEL,MAEF,KAAK5F,EACHqC,EAAU,CACRpC,EAAGuF,EAAUvF,EAAIR,EAAQE,MACzBO,EAAG0F,GAEL,MAEF,QACEvD,EAAU,CACRpC,EAAGuF,EAAUvF,EACbC,EAAGsF,EAAUtF,GAInB,IAAI2F,EAAWJ,EAAgBJ,EAAyBI,GAAiB,KAEzE,GAAgB,MAAZI,EAAkB,CACpB,IAAIC,EAAmB,MAAbD,EAAmB,SAAW,QAExC,OAAQH,GACN,INlDa,QMmDXrD,EAAQwD,GAAYE,KAAKC,MAAM3D,EAAQwD,IAAaE,KAAKC,MAAMR,EAAUM,GAAO,EAAIrG,EAAQqG,GAAO,GACnG,MAEF,INrDW,MMsDTzD,EAAQwD,GAAYE,KAAKC,MAAM3D,EAAQwD,IAAaE,KAAKE,KAAKT,EAAUM,GAAO,EAAIrG,EAAQqG,GAAO,IAOxG,OAAOzD,MC7DL6D,EAAa,CACfrG,IAAK,OACLC,MAAO,OACPC,OAAQ,OACRC,KAAM,QAgBD,SAASmG,EAAYC,GAC1B,IAAIC,EAEAC,EAASF,EAAME,OACfC,EAAaH,EAAMG,WACnBnC,EAAYgC,EAAMhC,UAClB/B,EAAU+D,EAAM/D,QAChByB,EAAWsC,EAAMtC,SACjB0C,EAAkBJ,EAAMI,gBACxBC,EAAWL,EAAMK,SAEjBC,EAtBN,SAAsBnB,GACpB,IAAItF,EAAIsF,EAAKtF,EACTC,EAAIqF,EAAKrF,EAETyG,EADMpG,OACIqG,kBAAoB,EAClC,MAAO,CACL3G,EAAG8F,KAAKc,MAAM5G,EAAI0G,GAAOA,GAAO,EAChCzG,EAAG6F,KAAKc,MAAM3G,EAAIyG,GAAOA,GAAO,GAPpC,CAsBmCtE,GAC7BpC,EAAIyG,EAAczG,EAClBC,EAAIwG,EAAcxG,EAElB4G,EAAOzE,EAAQhL,eAAe,KAC9B0P,EAAO1E,EAAQhL,eAAe,KAC9B2P,EAAQhH,EACRiH,EAAQpH,EACRY,EAAMF,OAEV,GAAIkG,EAAU,CACZ,IAAIvE,EAAe6B,EAAgBuC,GAE/BpE,IAAiB/B,EAAUmG,KAC7BpE,EAAeb,EAAmBiF,IAMhClC,IAAcvE,IAChBoH,EAAQlH,EACRG,GAAKgC,EAAagF,aAAeX,EAAW3G,OAC5CM,GAAKsG,EAAkB,GAAK,GAG1BpC,IAAcpE,IAChBgH,EAAQlH,EACRG,GAAKiC,EAAaiF,YAAcZ,EAAW5G,MAC3CM,GAAKuG,EAAkB,GAAK,GAIhC,IAKMY,EALFC,EAAenQ,OAAOoQ,OAAO,CAC/BxD,SAAUA,GACT2C,GAAYP,GAEf,OAAIM,EAGKtP,OAAOoQ,OAAO,GAAID,IAAeD,EAAiB,IAAmBH,GAASF,EAAO,IAAM,GAAIK,EAAeJ,GAASF,EAAO,IAAM,GAAIM,EAAeG,WAAa9G,EAAImG,kBAAoB,GAAK,EAAI,aAAe3G,EAAI,OAASC,EAAI,MAAQ,eAAiBD,EAAI,OAASC,EAAI,SAAUkH,IAG3RlQ,OAAOoQ,OAAO,GAAID,IAAehB,EAAkB,IAAoBY,GAASF,EAAO7G,EAAI,KAAO,GAAImG,EAAgBW,GAASF,EAAO7G,EAAI,KAAO,GAAIoG,EAAgBkB,UAAY,GAAIlB,QCjF1LmB,EAAO,CACTxH,KAAM,QACNF,MAAO,OACPC,OAAQ,MACRF,IAAK,UAEQ,SAAS4H,EAAqBrD,GAC3C,OAAOA,EAAUsD,QAAQ,mCAAoCC,GAC3D,OAAOH,EAAKG,MCRhB,IAAIH,EAAO,CACTI,MAAO,MACPC,IAAK,SAEQ,SAASC,EAA8B1D,GACpD,OAAOA,EAAUsD,QAAQ,uBAAwBC,GAC/C,OAAOH,EAAKG,MCHhB,SAASI,EAASC,GAChB,OAAOC,WAAWD,IAAa,ECJlB,SAASE,EAASC,EAAQC,GAEvC,IAAIC,EAAWC,QAAQF,EAAMG,aAAeH,EAAMG,cAAcvF,MAEhE,GAAImF,EAAOD,SAASE,GAClB,SAEG,GAAIC,EAAU,CACf,IAAI3M,EAAO0M,EAEX,EAAG,CACD,GAAI1M,GAAQyM,EAAOK,WAAW9M,GAC5B,SAIFA,EAAOA,EAAKqH,YAAcrH,EAAKsH,WACxBtH,GAIb,SCrBa,SAAS+M,GAAiB/I,GACvC,OAAOxI,OAAOoQ,OAAO,GAAI5H,EAAM,CAC7BM,KAAMN,EAAKO,EACXJ,IAAKH,EAAKQ,EACVJ,MAAOJ,EAAKO,EAAIP,EAAKC,MACrBI,OAAQL,EAAKQ,EAAIR,EAAKE,SCQ1B,SAAS8I,GAA2BjJ,EAASkJ,GAC3C,MbLoB,aaKbA,EAA8BF,GCbxB,SAAyBhJ,GACtC,IAAIgB,EAAMN,EAAUV,GAChBiE,EAAiBjD,EAAIiD,eACrB/D,EAAQc,EAAImI,WACZhJ,EAASa,EAAIoI,YASjB,OALInF,GAAkB,mBAAmB3B,KAAK+G,UAAUC,YACtDpJ,EAAQ+D,EAAe/D,MACvBC,EAAS8D,EAAe9D,QAGnB,CACLD,MAAOA,EACPC,OAAQA,EACRK,EAAG,EACHC,EAAG,GAjBQ,CDayDT,IAAYuB,EAAc2H,GAAkBnJ,EAAsBmJ,GAAkBF,GEV7I,SAAyBhJ,GACtC,IAAIgB,EAAMN,EAAUV,GAChBuJ,EAAYxI,EAAgBf,GAC5BwJ,EAAejH,EAAiBX,EAAmB5B,GAAUgB,GAKjE,OAJAwI,EAAarJ,OAASmG,KAAKmD,IAAID,EAAarJ,OAAQa,EAAIoI,aACxDI,EAAatJ,MAAQoG,KAAKmD,IAAID,EAAatJ,MAAOc,EAAImI,YACtDK,EAAahJ,GAAK+I,EAAUtI,WAC5BuI,EAAa/I,GAAK8I,EAAUpI,UACrBqI,EARM,CFU8K5H,EAAmB5B,KAuBjM,SAAS0J,GAAgB1J,EAAS2J,EAAUC,GACzD,IAAIC,EAAmC,oBAAbF,EAlB5B,SAA4B3J,GAC1B,IAAI8J,EAAkBtG,EAAkBxD,GAEpC+J,EADoB,CAAC,WAAY,SAASnG,QAAQ5B,EAAiBhC,GAASqE,WAAa,GACnD9C,EAAcvB,GAAWsE,EAAgBtE,GAAWA,EAE9F,OAAKqB,EAAU0I,GAKRD,EAAgBE,iBAAiBd,GACtC,OAAO7H,EAAU6H,IAAmBT,EAASS,EAAgBa,MALtD,GANX,CAkBgF/J,GAAW,GAAGgE,OAAO2F,GAC/FG,EAAkB,GAAG9F,OAAO6F,EAAqB,CAACD,IAClDK,EAAsBH,EAAgB,GACtCI,EAAeJ,EAAgBrF,iBAAiB0F,EAASjB,GAC3D,IAAIjJ,EAAOgJ,GAA2BjJ,EAASkJ,GAC3CkB,EGtCO,SAAwBpK,GACrC,IAAIgB,EAAMN,EAAUV,GAChBqK,ENAS,SAAoBrK,GACjC,IAAIsK,EAAgB/I,EAAcvB,GAAWgC,EAAiBhC,GAAW,GACzE,MAAO,CACLI,IAAKkI,EAASgC,EAAcC,gBAC5BlK,MAAOiI,EAASgC,EAAcE,kBAC9BlK,OAAQgI,EAASgC,EAAcG,mBAC/BlK,KAAM+H,EAASgC,EAAcI,kBANlB,CMAY1K,GACrB2K,EAAkC,SAAzBlJ,EAAYzB,GACrB4K,EAAgB7I,EAAoB/B,GACpCQ,EAAIR,EAAQ0H,YAAc2C,EAAQhK,MAClCI,EAAIT,EAAQyH,aAAe4C,EAAQ/J,OAavC,OAJIqK,GAAU3J,EAAIoI,YAAcpJ,EAAQyH,aAAe,KACrDhH,EAAIO,EAAIoI,YAAciB,EAAQ/J,QAGzB,CACLF,IAAKuK,EAAS,EAAI3K,EAAQ8C,UAC1BzC,MACAL,EAAQ6C,WAAawH,EAAQ9J,KAAO8J,EAAQhK,MAC5CsK,EAAS3J,EAAImI,WAAa3I,EAAIoK,EAAgB5K,EAAQkD,YAAc1C,EACpEF,OAAQqK,EAAS3J,EAAIoI,YAAc3I,EAAIT,EAAQmD,aAAe1C,EAC9DF,KAAMoK,EAASC,EAAgB5K,EAAQ6C,YHarBgI,CAAetJ,EAAc2H,GAAkBA,EAAiBtH,EAAmB5B,IAKrG,OAJAmK,EAAQ/J,IAAMkG,KAAKmD,IAAIxJ,EAAKG,IAAMgK,EAAYhK,IAAK+J,EAAQ/J,KAC3D+J,EAAQ9J,MAAQiG,KAAKwE,IAAI7K,EAAKI,MAAQ+J,EAAY/J,MAAO8J,EAAQ9J,OACjE8J,EAAQ7J,OAASgG,KAAKwE,IAAI7K,EAAKK,OAAS8J,EAAY9J,OAAQ6J,EAAQ7J,QACpE6J,EAAQ5J,KAAO+F,KAAKmD,IAAIxJ,EAAKM,KAAO6J,EAAY7J,KAAM4J,EAAQ5J,MACvD4J,IACNlB,GAA2BjJ,EAASiK,IAKvC,OAJAC,EAAahK,MAAQgK,EAAa7J,MAAQ6J,EAAa3J,KACvD2J,EAAa/J,OAAS+J,EAAa5J,OAAS4J,EAAa9J,IACzD8J,EAAa1J,EAAI0J,EAAa3J,KAC9B2J,EAAazJ,EAAIyJ,EAAa9J,IACvB8J,EIrDM,SAASa,GAAmBC,GACzC,OAAOvT,OAAOoQ,OAAO,GCDd,CACLzH,IAAK,EACLC,MAAO,EACPC,OAAQ,EACRC,KAAM,GDHuC,GAAIyK,GEFtC,SAASC,GAAgB5R,EAAO8E,GAC7C,OAAOA,EAAKsG,iBAAiByG,EAAS7M,GAEpC,OADA6M,EAAQ7M,GAAOhF,EACR6R,IACN,ICMU,SAASC,GAAelS,EAAOmS,YACxCA,IACFA,EAAU,IAGZ,IAAIC,EAAWD,EACXE,EAAqBD,EAAS1G,UAC9BA,WAAY2G,EAAgCrS,EAAM0L,UAAY2G,EAC9DC,EAAoBF,EAAS1B,SAC7BA,WAAW4B,EpBXY,kBoBWqCA,EAC5DC,EAAwBH,EAASzB,aACjCA,WAAe4B,EpBZC,WoBY6CA,EAC7DC,EAAwBJ,EAASK,eACjCA,WAAiBD,EpBbH,SoBa+CA,EAC7DE,EAAuBN,EAASO,YAChCA,WAAcD,GAA0CA,EACxDE,EAAmBR,EAASS,QAC5BA,WAAUD,EAA8B,EAAIA,EAC5Cb,EAAgBD,GAAsC,iBAAZe,EAAuBA,EAAUb,GAAgBa,EAASvH,IACpGwH,EpBnBc,WoBmBDL,EpBlBI,YADH,SoBoBdM,EAAmB/S,EAAMgT,SAASlG,UAClCe,EAAa7N,EAAMiT,MAAMrF,OACzB7G,EAAU/G,EAAMgT,SAASL,EAAcG,EAAaL,GACpDS,EAAqBzC,GAAgBrI,EAAUrB,GAAWA,EAAUA,EAAQoM,gBAAkBxK,EAAmB3I,EAAMgT,SAASpF,QAAS8C,EAAUC,GACnJyC,EAAsBtM,EAAsBiM,GAC5CM,EAAgBzG,EAAe,CACjCE,UAAWsG,EACXrM,QAAS8G,EACT5B,SAAU,WACVP,UAAWA,IAET4H,EAAmBvD,GAAiBvR,OAAOoQ,OAAO,GAAIf,EAAY,GAAIwF,IACtEE,EpBhCc,WoBgCMd,EAA4Ba,EAAmBF,EAGnEI,EAAkB,CACpBrM,IAAK+L,EAAmB/L,IAAMoM,EAAkBpM,IAAM4K,EAAc5K,IACpEE,OAAQkM,EAAkBlM,OAAS6L,EAAmB7L,OAAS0K,EAAc1K,OAC7EC,KAAM4L,EAAmB5L,KAAOiM,EAAkBjM,KAAOyK,EAAczK,KACvEF,MAAOmM,EAAkBnM,MAAQ8L,EAAmB9L,MAAQ2K,EAAc3K,OAExEqM,EAAazT,EAAM0T,cAAcC,OAErC,GpB3CkB,WoB2CdlB,GAA6BgB,EAAY,CAC3C,IAAIE,EAASF,EAAW/H,GACxBlN,OAAO0G,KAAKsO,GAAiBzR,kBAAkBqD,GAC7C,IAAIwO,EAAW,CAACxM,EAAOC,GAAQsD,QAAQvF,IAAQ,EAAI,GAAK,EACpDyO,EAAO,CAAC1M,EAAKE,GAAQsD,QAAQvF,IAAQ,EAAI,IAAM,IACnDoO,EAAgBpO,IAAQuO,EAAOE,GAAQD,KAI3C,OAAOJ,ECtDM,SAASM,GAAqB9T,EAAOmS,YAC9CA,IACFA,EAAU,IAGZ,IAAIC,EAAWD,EACXzG,EAAY0G,EAAS1G,UACrBgF,EAAW0B,EAAS1B,SACpBC,EAAeyB,EAASzB,aACxBkC,EAAUT,EAASS,QACnBkB,EAAiB3B,EAAS2B,eAC1BC,EAAwB5B,EAAS6B,sBACjCA,WAAwBD,EAAmCE,EAAgBF,EAC3EhH,EAAYN,EAAahB,GAOzByI,GANcnH,EAAY+G,EAAiBxI,EAAsBA,EAAoBwF,iBAAiBrF,GACxG,OAAOgB,EAAahB,KAAesB,KAChC1B,GAAgByF,iBAAiBrF,GACpC,OAAOuI,EAAsBtJ,QAAQe,IAAc,KAG1BF,iBAAiBC,EAAKC,GAO/C,OANAD,EAAIC,GAAawG,GAAelS,EAAO,CACrC0L,UAAWA,EACXgF,SAAUA,EACVC,aAAcA,EACdkC,QAASA,IACRhH,EAAiBH,IACbD,IACN,IACH,OAAOjN,OAAO0G,KAAKiP,GAAWC,eAAeC,EAAGC,GAC9C,OAAOH,EAAUE,GAAKF,EAAUG,MCtCrB,SAASC,GAAO1C,EAAKzR,EAAOoQ,GACzC,OAAOnD,KAAKmD,IAAIqB,EAAKxE,KAAKwE,IAAIzR,EAAOoQ,ICEvC,SAASgE,GAAetL,EAAUlC,EAAMyN,GAQtC,gBAPIA,IACFA,EAAmB,CACjBlN,EAAG,EACHC,EAAG,IAIA,CACLL,IAAK+B,EAAS/B,IAAMH,EAAKE,OAASuN,EAAiBjN,EACnDJ,MAAO8B,EAAS9B,MAAQJ,EAAKC,MAAQwN,EAAiBlN,EACtDF,OAAQ6B,EAAS7B,OAASL,EAAKE,OAASuN,EAAiBjN,EACzDF,KAAM4B,EAAS5B,KAAON,EAAKC,MAAQwN,EAAiBlN,GAIxD,SAASmN,GAAsBxL,GAC7B,MAAO,CAAC/B,EAAKC,EAAOC,EAAQC,GAAMkF,eAAemI,GAC/C,OAAOzL,EAASyL,IAAS,YCTzBC,GtBoBG,SAAyBC,YAC1BA,IACFA,EAAmB,IAGrB,IAAIC,EAAoBD,EACpBE,EAAwBD,EAAkBE,iBAC1CA,WAAmBD,EAAmC,GAAKA,EAC3DE,EAAyBH,EAAkBI,eAC3CA,WAAiBD,EAAoClJ,EAAkBkJ,EAC3E,OAAO,SAAsBnI,EAAWc,EAAQuE,YAC1CA,IACFA,EAAU+C,GAGZ,IuB/C6BjU,EAC3BkU,EvB8CEnV,EAAQ,CACV0L,UAAW,SACX0J,iBAAkB,GAClBjD,QAAS3T,OAAOoQ,OAAO,GAAI7C,EAAiB,GAAImJ,GAChDxB,cAAe,GACfV,SAAU,CACRlG,UAAWA,EACXc,OAAQA,GAEVyH,WAAY,GACZC,OAAQ,IAENC,EAAmB,GACnBC,KACAC,EAAW,CACbzV,MAAOA,EACP0V,WAAY,SAAoBvD,GAC9BwD,IACA3V,EAAMmS,QAAU3T,OAAOoQ,OAAO,GAAIsG,EAAgB,GAAIlV,EAAMmS,QAAS,GAAIA,GACzEnS,EAAM4V,cAAgB,CACpB9I,UAAW1E,EAAU0E,GAAavC,EAAkBuC,GAAaA,EAAUqG,eAAiB5I,EAAkBuC,EAAUqG,gBAAkB,GAC1IvF,OAAQrD,EAAkBqD,IAI5B,IwBxE4B5B,EAC9B6J,ExBuEMT,EyBtCG,SAAwBpJ,GAErC,IAAIoJ,EAlCN,SAAepJ,GACb,IAAI8J,EAAM,IAAIC,IACVC,EAAU,IAAIC,IACd1T,EAAS,GA0Bb,OAzBAyJ,EAAUjK,kBAAkBmU,GAC1BJ,EAAIK,IAAID,EAASzR,KAAMyR,MAkBzBlK,EAAUjK,kBAAkBmU,GACrBF,EAAQI,IAAIF,EAASzR,OAhB5B,SAAS2P,EAAK8B,GACZF,EAAQK,IAAIH,EAASzR,MACN,GAAGsG,OAAOmL,EAASI,UAAY,GAAIJ,EAASK,kBAAoB,IACtExU,kBAAkByU,GACzB,IAAKR,EAAQI,IAAII,GAAM,CACrB,IAAIC,EAAcX,EAAIY,IAAIF,GAEtBC,GACFrC,EAAKqC,OAIXlU,EAAOmB,KAAKwS,GAZd,CAkBSA,MAGF3T,EAKgBoU,CAAM3K,GAE7B,OAAOJ,EAAeJ,iBAAiBC,EAAKmL,GAC1C,OAAOnL,EAAIV,OAAOqK,EAAiBrE,iBAAiBmF,GAClD,OAAOA,EAASU,QAAUA,QAE3B,IARU,EDlCqB5K,ExBwEsB,GAAGjB,OAAOiK,EAAkBhV,EAAMmS,QAAQnG,WwBvE9F6J,EAAS7J,EAAUR,iBAAiBqK,EAAQgB,GAC9C,IAAIC,EAAWjB,EAAOgB,EAAQpS,MAK9B,OAJAoR,EAAOgB,EAAQpS,MAAQqS,EAAWtY,OAAOoQ,OAAO,GAAIkI,EAAU,GAAID,EAAS,CACzE1E,QAAS3T,OAAOoQ,OAAO,GAAIkI,EAAS3E,QAAS,GAAI0E,EAAQ1E,SACzD4E,KAAMvY,OAAOoQ,OAAO,GAAIkI,EAASC,KAAM,GAAIF,EAAQE,QAChDF,EACEhB,IACN,IAEIrX,OAAO0G,KAAK2Q,GAAQC,cAAc1Q,GACvC,OAAOyQ,EAAOzQ,QxBsGV,OAvCApF,EAAMoV,iBAAmBA,EAAiBrE,iBAAiBiG,GACzD,OAAOA,EAAEC,WAqJbjX,EAAMoV,iBAAiBrT,kBAAkBmV,GACvC,IAAIzS,EAAOyS,EAAMzS,KACb0S,EAAgBD,EAAM/E,QACtBA,WAAUgF,EAA2B,GAAKA,EAC1CC,EAASF,EAAME,OAEnB,GAAsB,mBAAXA,EAAuB,CAChC,IAAIC,EAAYD,EAAO,CACrBpX,MAAOA,EACPyE,KAAMA,EACNgR,SAAUA,EACVtD,QAASA,IAKXoD,EAAiB7R,KAAK2T,GAFT,kBA7HR5B,EAAS6B,UAOlBC,YAAa,WACX,IAAI/B,EAAJ,CAIA,IAAIgC,EAAkBxX,EAAMgT,SACxBlG,EAAY0K,EAAgB1K,UAC5Bc,EAAS4J,EAAgB5J,OAG7B,GAAK1B,EAAiBY,EAAWc,GAAjC,CASA5N,EAAMiT,MAAQ,CACZnG,UAAWxD,EAAiBwD,EAAWzB,EAAgBuC,GAAoC,UAA3B5N,EAAMmS,QAAQlG,UAC9E2B,OAAQ9D,EAAc8D,IAOxB5N,EAAM6D,SACN7D,EAAM0L,UAAY1L,EAAMmS,QAAQzG,UAKhC1L,EAAMoV,iBAAiBrT,kBAAkBmU,GACvC,OAAOlW,EAAM0T,cAAcwC,EAASzR,MAAQjG,OAAOoQ,OAAO,GAAIsH,EAASa,SAIzE,IAAK,IAAIU,EAAQ,EAAGA,EAAQzX,EAAMoV,iBAAiBnR,OAAQwT,IAUzD,QAAIzX,EAAM6D,MAAV,CAMA,IAAI6T,EAAwB1X,EAAMoV,iBAAiBqC,GAC/CxW,EAAKyW,EAAsBzW,GAC3B0W,EAAyBD,EAAsBvF,QAC/CC,WAAWuF,EAAoC,GAAKA,EACpDlT,EAAOiT,EAAsBjT,KAEf,mBAAPxD,IACTjB,EAAQiB,EAAG,CACTjB,MAAOA,EACPmS,QAASC,EACT3N,KAAMA,EACNgR,SAAUA,KACNzV,QAjBNA,EAAM6D,SACN4T,GAAS,KAsBfH,QuBjM2BrW,EvBiMV,WACf,OAAO,IAAI8D,kBAAkB3C,GAC3BqT,EAAS8B,cACTnV,EAAQpC,OuBlMT,WAUL,OATKmV,IACHA,EAAU,IAAIpQ,kBAAkB3C,GAC9B2C,QAAQ3C,UAAUK,iBAChB0S,SACA/S,EAAQnB,YAKPkU,IvB2LLyC,QAAS,WACPjC,IACAH,OAIJ,IAAKtJ,EAAiBY,EAAWc,GAK/B,OAAO6H,EAmCT,SAASE,IACPJ,EAAiBxT,kBAAkBd,GACjC,OAAOA,OAETsU,EAAmB,GAGrB,OAvCAE,EAASC,WAAWvD,GAAS1P,eAAezC,IACrCwV,GAAerD,EAAQ0F,eAC1B1F,EAAQ0F,cAAc7X,MAqCnByV,GsBhPqBqC,CAAgB,CAC9C9C,iBAFqB,CrB8BR,CACbvQ,KAAM,iBACNwS,WACAL,MAAO,QACP3V,GAAI,aACJmW,OAxCF,SAAgBvK,GACd,IAAI7M,EAAQ6M,EAAK7M,MACbyV,EAAW5I,EAAK4I,SAChBtD,EAAUtF,EAAKsF,QACf4F,EAAkB5F,EAAQzI,OAC1BA,WAASqO,GAAoCA,EAC7CC,EAAkB7F,EAAQ8F,OAC1BA,WAASD,GAAoCA,EAC7CnQ,EAASJ,EAAUzH,EAAMgT,SAASpF,QAClCgI,EAAgB,GAAG7K,OAAO/K,EAAM4V,cAAc9I,UAAW9M,EAAM4V,cAAchI,QAYjF,OAVIlE,GACFkM,EAAc7T,kBAAkB0I,GAC9BA,EAAayN,iBAAiB,SAAUzC,EAAS6B,OAAQ7K,MAIzDwL,GACFpQ,EAAOqQ,iBAAiB,SAAUzC,EAAS6B,OAAQ7K,GAG9C,WACD/C,GACFkM,EAAc7T,kBAAkB0I,GAC9BA,EAAa0N,oBAAoB,SAAU1C,EAAS6B,OAAQ7K,MAI5DwL,GACFpQ,EAAOsQ,oBAAoB,SAAU1C,EAAS6B,OAAQ7K,KAY1DsK,KAAM,IyB7BO,CACbtS,KAAM,gBACNwS,WACAL,MAAO,OACP3V,GApBF,SAAuB4L,GACrB,IAAI7M,EAAQ6M,EAAK7M,MACbyE,EAAOoI,EAAKpI,KAKhBzE,EAAM0T,cAAcjP,GAAQmI,EAAe,CACzCE,UAAW9M,EAAMiT,MAAMnG,UACvB/F,QAAS/G,EAAMiT,MAAMrF,OACrB3B,SAAU,WACVP,UAAW1L,EAAM0L,aAUnBqL,KAAM,IrB4GO,CACbtS,KAAM,gBACNwS,WACAL,MAAO,cACP3V,GAnDF,SAAuBiW,GACrB,IAAIlX,EAAQkX,EAAMlX,MACdmS,EAAU+E,EAAM/E,QAChBiG,EAAwBjG,EAAQrE,gBAChCA,WAAkBsK,GAA0CA,EAC5DC,EAAoBlG,EAAQpE,SAC5BA,WAAWsK,GAAsCA,EAYjD1J,EAAe,CACjBjD,UAAWG,EAAiB7L,EAAM0L,WAClCkC,OAAQ5N,EAAMgT,SAASpF,OACvBC,WAAY7N,EAAMiT,MAAMrF,OACxBE,gBAAiBA,GAGsB,MAArC9N,EAAM0T,cAAcL,gBACtBrT,EAAMsV,OAAO1H,OAASpP,OAAOoQ,OAAO,GAAI5O,EAAMsV,OAAO1H,OAAQ,GAAIH,EAAYjP,OAAOoQ,OAAO,GAAID,EAAc,CAC3GhF,QAAS3J,EAAM0T,cAAcL,cAC7BjI,SAAUpL,EAAMmS,QAAQlG,SACxB8B,SAAUA,OAImB,MAA7B/N,EAAM0T,cAAc4E,QACtBtY,EAAMsV,OAAOgD,MAAQ9Z,OAAOoQ,OAAO,GAAI5O,EAAMsV,OAAOgD,MAAO,GAAI7K,EAAYjP,OAAOoQ,OAAO,GAAID,EAAc,CACzGhF,QAAS3J,EAAM0T,cAAc4E,MAC7BlN,SAAU,WACV2C,iBAIJ/N,EAAMqV,WAAWzH,OAASpP,OAAOoQ,OAAO,GAAI5O,EAAMqV,WAAWzH,OAAQ,CACnE2K,wBAAyBvY,EAAM0L,aAUjCqL,KAAM,IsB1DO,CACbtS,KAAM,cACNwS,WACAL,MAAO,QACP3V,GA9EF,SAAqB4L,GACnB,IAAI7M,EAAQ6M,EAAK7M,MACjBxB,OAAO0G,KAAKlF,EAAMgT,UAAUjR,kBAAkB0C,GAC5C,IAAI+T,EAAQxY,EAAMsV,OAAO7Q,IAAS,GAC9B4Q,EAAarV,EAAMqV,WAAW5Q,IAAS,GACvCsC,EAAU/G,EAAMgT,SAASvO,GAExB6D,EAAcvB,IAAayB,EAAYzB,KAO5CvI,OAAOoQ,OAAO7H,EAAQyR,MAAOA,GAC7Bha,OAAO0G,KAAKmQ,GAAYtT,kBAAkB0C,GACxC,IAAIrE,EAAQiV,EAAW5Q,QAEnBrE,EACF2G,EAAQ0R,gBAAgBhU,GAExBsC,EAAQ2R,aAAajU,OAAMrE,EAAiB,GAAKA,WA0DvDgX,OApDF,SAAgB1J,GACd,IAAI1N,EAAQ0N,EAAM1N,MACd2Y,EAAgB,CAClB/K,OAAQ,CACNxC,SAAUpL,EAAMmS,QAAQlG,SACxB3E,KAAM,IACNH,IAAK,IACLyR,OAAQ,KAEVN,MAAO,CACLlN,SAAU,YAEZ0B,UAAW,IAQb,OANAtO,OAAOoQ,OAAO5O,EAAMgT,SAASpF,OAAO4K,MAAOG,EAAc/K,QAErD5N,EAAMgT,SAASsF,OACjB9Z,OAAOoQ,OAAO5O,EAAMgT,SAASsF,MAAME,MAAOG,EAAcL,OAGnD,WACL9Z,OAAO0G,KAAKlF,EAAMgT,UAAUjR,kBAAkB0C,GAC5C,IAAIsC,EAAU/G,EAAMgT,SAASvO,GACzB4Q,EAAarV,EAAMqV,WAAW5Q,IAAS,GAGvC+T,EAFkBha,OAAO0G,KAAKlF,EAAMsV,OAAO3W,eAAe8F,GAAQzE,EAAMsV,OAAO7Q,GAAQkU,EAAclU,IAE7E+G,iBAAiBgN,EAAOK,GAElD,OADAL,EAAMK,GAAY,GACXL,IACN,IAEElQ,EAAcvB,IAAayB,EAAYzB,KAO5CvI,OAAOoQ,OAAO7H,EAAQyR,MAAOA,GAC7Bha,OAAO0G,KAAKmQ,GAAYtT,kBAAkB+W,GACxC/R,EAAQ0R,gBAAgBK,YAa9BxC,SAAU,CAAC,kBCtCE,CACb7R,KAAM,SACNwS,WACAL,MAAO,OACPN,SAAU,CAAC,iBACXrV,GA5BF,SAAgByM,GACd,IAAI1N,EAAQ0N,EAAM1N,MACdmS,EAAUzE,EAAMyE,QAChB1N,EAAOiJ,EAAMjJ,KACbsU,EAAkB5G,EAAQwB,OAC1BA,WAASoF,EAA6B,CAAC,EAAG,GAAKA,EAC/ChC,EAAOpL,EAAWH,iBAAiBC,EAAKC,GAE1C,OADAD,EAAIC,GA5BD,SAAiCA,EAAWuH,EAAOU,GACxD,IAAI5G,EAAgBlB,EAAiBH,GACjCsN,EAAiB,CAAC1R,EAAMH,GAAKwD,QAAQoC,IAAkB,GAAK,EAAI,EAEhEF,EAAyB,mBAAX8G,EAAwBA,EAAOnV,OAAOoQ,OAAO,GAAIqE,EAAO,CACxEvH,UAAWA,KACPiI,EACFsF,EAAWpM,EAAK,GAChBqM,EAAWrM,EAAK,GAIpB,OAFAoM,EAAWA,GAAY,EACvBC,GAAYA,GAAY,GAAKF,EACtB,CAAC1R,EAAMF,GAAOuD,QAAQoC,IAAkB,EAAI,CACjDxF,EAAG2R,EACH1R,EAAGyR,GACD,CACF1R,EAAG0R,EACHzR,EAAG0R,GAjBA,CA4BsCxN,EAAW1L,EAAMiT,MAAOU,GAC1DlI,IACN,IACC0N,EAAwBpC,EAAK/W,EAAM0L,WACnCnE,EAAI4R,EAAsB5R,EAC1BC,EAAI2R,EAAsB3R,EAEW,MAArCxH,EAAM0T,cAAcL,gBACtBrT,EAAM0T,cAAcL,cAAc9L,GAAKA,EACvCvH,EAAM0T,cAAcL,cAAc7L,GAAKA,GAGzCxH,EAAM0T,cAAcjP,GAAQsS,IC+Ff,CACbtS,KAAM,OACNwS,WACAL,MAAO,OACP3V,GA5HF,SAAc4L,GACZ,IAAI7M,EAAQ6M,EAAK7M,MACbmS,EAAUtF,EAAKsF,QACf1N,EAAOoI,EAAKpI,KAEhB,IAAIzE,EAAM0T,cAAcjP,GAAM2U,MAA9B,CAoCA,IAhCA,IAAIC,EAAoBlH,EAAQhF,SAC5BmM,WAAgBD,GAAsCA,EACtDE,EAAmBpH,EAAQqH,QAC3BC,WAAeF,GAAqCA,EACpDG,EAA8BvH,EAAQwH,mBACtC9G,EAAUV,EAAQU,QAClBnC,EAAWyB,EAAQzB,SACnBC,EAAewB,EAAQxB,aACvBgC,EAAcR,EAAQQ,YACtBiH,EAAwBzH,EAAQ4B,eAChCA,WAAiB6F,GAA0CA,EAC3D3F,EAAwB9B,EAAQ8B,sBAChC4F,EAAqB7Z,EAAMmS,QAAQzG,UACnCqB,EAAgBlB,EAAiBgO,GAEjCF,EAAqBD,IADH3M,IAAkB8M,GACqC9F,EAjC/E,SAAuCrI,GACrC,G/BLgB,S+BKZG,EAAiBH,GACnB,MAAO,GAGT,IAAIoO,EAAoB/K,EAAqBrD,GAC7C,MAAO,CAAC0D,EAA8B1D,GAAYoO,EAAmB1K,EAA8B0K,IANrG,CAiC2KD,GAA3E,CAAC9K,EAAqB8K,KAChHlO,EAAa,CAACkO,GAAoB9O,OAAO4O,GAAoBnO,iBAAiBC,EAAKC,GACrF,OAAOD,EAAIV,O/BvCG,S+BuCIc,EAAiBH,GAAsBoI,GAAqB9T,EAAO,CACnF0L,UAAWA,EACXgF,SAAUA,EACVC,aAAcA,EACdkC,QAASA,EACTkB,eAAgBA,EAChBE,sBAAuBA,IACpBvI,KACJ,IACCqO,EAAgB/Z,EAAMiT,MAAMnG,UAC5Be,EAAa7N,EAAMiT,MAAMrF,OACzBoM,EAAY,IAAIjE,IAChBkE,KACAC,EAAwBvO,EAAW,GAE9BzH,EAAI,EAAGA,EAAIyH,EAAW1H,OAAQC,IAAK,CAC1C,IAAIwH,EAAYC,EAAWzH,GAEvBiW,EAAiBtO,EAAiBH,GAElC0O,E/BzDW,U+ByDQ1N,EAAahB,GAChC2O,EAAa,CAAClT,EAAKE,GAAQsD,QAAQwP,IAAmB,EACtD/M,EAAMiN,EAAa,QAAU,SAC7BnR,EAAWgJ,GAAelS,EAAO,CACnC0L,UAAWA,EACXgF,SAAUA,EACVC,aAAcA,EACdgC,YAAaA,EACbE,QAASA,IAEPyH,EAAoBD,EAAaD,EAAmBhT,EAAQE,EAAO8S,EAAmB/S,EAASF,EAE/F4S,EAAc3M,GAAOS,EAAWT,KAClCkN,EAAoBvL,EAAqBuL,IAG3C,IAAIC,EAAmBxL,EAAqBuL,GACxCE,EAAS,GAUb,GARIlB,GACFkB,EAAO9W,KAAKwF,EAASiR,IAAmB,GAGtCV,GACFe,EAAO9W,KAAKwF,EAASoR,IAAsB,EAAGpR,EAASqR,IAAqB,GAG1EC,EAAOC,gBAAgBC,GACzB,OAAOA,KACL,CACFR,EAAwBxO,EACxBuO,KACA,MAGFD,EAAU7D,IAAIzK,EAAW8O,GAG3B,GAAIP,EAqBF,IAnBA,IAEIU,EAAQ,SAAeC,GACzB,IAAIC,EAAmBlP,EAAWmP,eAAepP,GAC/C,IAAI8O,EAASR,EAAUtD,IAAIhL,GAE3B,GAAI8O,EACF,OAAOA,EAAO9U,MAAM,EAAGkV,GAAIH,gBAAgBC,GACzC,OAAOA,QAKb,GAAIG,EAEF,OADAX,EAAwBW,EACjB,SAIFD,EAnBY7G,EAAiB,EAAI,EAmBZ6G,EAAK,GAGpB,UAFFD,EAAMC,GADmBA,KAOpC5a,EAAM0L,YAAcwO,IACtBla,EAAM0T,cAAcjP,GAAM2U,SAC1BpZ,EAAM0L,UAAYwO,EAClBla,EAAM6D,YAUR0S,iBAAkB,CAAC,UACnBQ,KAAM,CACJqC,WChCW,CACb3U,KAAM,kBACNwS,WACAL,MAAO,OACP3V,GAzGF,SAAyB4L,GACvB,IAAI7M,EAAQ6M,EAAK7M,MACbmS,EAAUtF,EAAKsF,QACf1N,EAAOoI,EAAKpI,KACZ4U,EAAoBlH,EAAQhF,SAC5BmM,WAAgBD,GAAsCA,EACtDE,EAAmBpH,EAAQqH,QAC3BC,WAAeF,GAAsCA,EACrD7I,EAAWyB,EAAQzB,SACnBC,EAAewB,EAAQxB,aACvBgC,EAAcR,EAAQQ,YACtBE,EAAUV,EAAQU,QAClBkI,EAAkB5I,EAAQ6I,OAC1BA,WAASD,GAAoCA,EAC7CE,EAAwB9I,EAAQ+I,aAChCA,WAAeD,EAAmC,EAAIA,EACtD/R,EAAWgJ,GAAelS,EAAO,CACnC0Q,SAAUA,EACVC,aAAcA,EACdkC,QAASA,EACTF,YAAaA,IAEX5F,EAAgBlB,EAAiB7L,EAAM0L,WACvCsB,EAAYN,EAAa1M,EAAM0L,WAC/ByP,GAAmBnO,EACnBG,EAAWR,EAAyBI,GACpCyM,ECpCY,MDoCSrM,ECpCH,IAAM,IDqCxBkG,EAAgBrT,EAAM0T,cAAcL,cACpC0G,EAAgB/Z,EAAMiT,MAAMnG,UAC5Be,EAAa7N,EAAMiT,MAAMrF,OACzBwN,EAA4C,mBAAjBF,EAA8BA,EAAa1c,OAAOoQ,OAAO,GAAI5O,EAAMiT,MAAO,CACvGvH,UAAW1L,EAAM0L,aACbwP,EACFnE,EAAO,CACTxP,EAAG,EACHC,EAAG,GAGL,GAAK6L,EAAL,CAIA,GAAIiG,EAAe,CACjB,IAAI+B,EAAwB,MAAblO,EAAmBhG,EAAMG,EACpCgU,EAAuB,MAAbnO,EAAmB9F,EAASD,EACtCgG,EAAmB,MAAbD,EAAmB,SAAW,QACpCwG,EAASN,EAAclG,GACvB0E,EAAMwB,EAAclG,GAAYjE,EAASmS,GACzC7K,EAAM6C,EAAclG,GAAYjE,EAASoS,GACzCC,EAAWP,GAAUnN,EAAWT,GAAO,EAAI,EAC3CoO,EhCvDW,UgCuDFxO,EAAsB+M,EAAc3M,GAAOS,EAAWT,GAC/DqO,EhCxDW,UgCwDFzO,GAAuBa,EAAWT,IAAQ2M,EAAc3M,GAGjEsO,EAAe1b,EAAMgT,SAASsF,MAC9BqD,EAAYX,GAAUU,EAAe5R,EAAc4R,GAAgB,CACrEzU,MAAO,EACPC,OAAQ,GAEN0U,EAAqB5b,EAAM0T,cAAc,oBAAsB1T,EAAM0T,cAAc,oBAAoBb,QdrEtG,CACL1L,IAAK,EACLC,MAAO,EACPC,OAAQ,EACRC,KAAM,GckEFuU,EAAkBD,EAAmBP,GACrCS,EAAkBF,EAAmBN,GAMrCS,EAAWxH,GAAO,EAAGwF,EAAc3M,GAAMuO,EAAUvO,IACnD4O,EAAYb,EAAkBpB,EAAc3M,GAAO,EAAImO,EAAWQ,EAAWF,EAAkBT,EAAoBI,EAASO,EAAWF,EAAkBT,EACzJa,EAAYd,GAAmBpB,EAAc3M,GAAO,EAAImO,EAAWQ,EAAWD,EAAkBV,EAAoBK,EAASM,EAAWD,EAAkBV,EAC1Jc,EAAoBlc,EAAMgT,SAASsF,OAASjN,EAAgBrL,EAAMgT,SAASsF,OAC3E6D,GAAeD,EAAiC,MAAb/O,EAAmB+O,EAAkBrS,WAAa,EAAIqS,EAAkBtS,YAAc,EAAI,EAC7HwS,GAAsBpc,EAAM0T,cAAcC,OAAS3T,EAAM0T,cAAcC,OAAO3T,EAAM0L,WAAWyB,GAAY,EAC3GkP,GAAYhJ,EAAclG,GAAY6O,EAAYI,GAAsBD,GACxEG,GAAYjJ,EAAclG,GAAY8O,EAAYG,GAClDG,GAAkBhI,GAAOyG,EAAS3N,KAAKwE,IAAIA,EAAKwK,IAAaxK,EAAK8B,EAAQqH,EAAS3N,KAAKmD,IAAIA,EAAK8L,IAAa9L,GAClH6C,EAAclG,GAAYoP,GAC1BxF,EAAK5J,GAAYoP,GAAkB5I,EAGrC,GAAI8F,EAAc,CAChB,IAAI+C,GAAyB,MAAbrP,EAAmBhG,EAAMG,EAErCmV,GAAwB,MAAbtP,EAAmB9F,EAASD,EAEvCsV,GAAUrJ,EAAcmG,GAMxBmD,GAAmBpI,GAJZmI,GAAUxT,EAASsT,IAIME,GAFzBA,GAAUxT,EAASuT,KAI9BpJ,EAAcmG,GAAWmD,GACzB5F,EAAKyC,GAAWmD,GAAmBD,GAGrC1c,EAAM0T,cAAcjP,GAAQsS,IAS5BR,iBAAkB,CAAC,WE3BN,CACb9R,KAAM,QACNwS,WACAL,MAAO,OACP3V,GAnFF,SAAe4L,GACb,IAAI+P,EAEA5c,EAAQ6M,EAAK7M,MACbyE,EAAOoI,EAAKpI,KACZiX,EAAe1b,EAAMgT,SAASsF,MAC9BjF,EAAgBrT,EAAM0T,cAAcL,cACpCtG,EAAgBlB,EAAiB7L,EAAM0L,WACvCmI,EAAOlH,EAAyBI,GAEhCK,EADa,CAAC9F,EAAMF,GAAOuD,QAAQoC,IAAkB,EAClC,SAAW,QAElC,GAAK2O,GAAiBrI,EAAtB,CAIA,IAAItB,EAAgB/R,EAAM0T,cAAcjP,EAAO,eAAeoO,QAC1D8I,EAAY7R,EAAc4R,GAC1BmB,EAAmB,MAAThJ,EAAe1M,EAAMG,EAC/BwV,EAAmB,MAATjJ,EAAexM,EAASD,EAClC2V,EAAU/c,EAAMiT,MAAMnG,UAAUM,GAAOpN,EAAMiT,MAAMnG,UAAU+G,GAAQR,EAAcQ,GAAQ7T,EAAMiT,MAAMrF,OAAOR,GAC9G4P,EAAY3J,EAAcQ,GAAQ7T,EAAMiT,MAAMnG,UAAU+G,GACxDqI,EAAoB7Q,EAAgBqQ,GACpCuB,EAAaf,EAA6B,MAATrI,EAAeqI,EAAkB1N,cAAgB,EAAI0N,EAAkBzN,aAAe,EAAI,EAC3HyO,EAAoBH,EAAU,EAAIC,EAAY,EAG9CnL,EAAME,EAAc8K,GACpBrM,EAAMyM,EAAatB,EAAUvO,GAAO2E,EAAc+K,GAClDK,EAASF,EAAa,EAAItB,EAAUvO,GAAO,EAAI8P,EAC/CvJ,EAASY,GAAO1C,EAAKsL,EAAQ3M,GAE7B4M,EAAWvJ,EACf7T,EAAM0T,cAAcjP,KAASmY,EAAwB,IAA0BQ,GAAYzJ,EAAQiJ,EAAsBS,aAAe1J,EAASwJ,EAAQP,KAmDzJxF,OAhDF,SAAgB1J,GACd,IAAI1N,EAAQ0N,EAAM1N,MACdmS,EAAUzE,EAAMyE,QAChB1N,EAAOiJ,EAAMjJ,KACb6Y,EAAmBnL,EAAQpL,QAC3B2U,WAAe4B,EAA8B,sBAAwBA,EACrE1K,EAAmBT,EAAQU,QAC3BA,WAAUD,EAA8B,EAAIA,EAE5B,MAAhB8I,IAKwB,iBAAjBA,IACTA,EAAe1b,EAAMgT,SAASpF,OAAO2P,cAAc7B,MAahDlM,EAASxP,EAAMgT,SAASpF,OAAQ8N,KAQrC1b,EAAMgT,SAASsF,MAAQoD,EACvB1b,EAAM0T,cAAcjP,EAAO,eAAiB,CAC1CoO,QAASf,GAAsC,iBAAZe,EAAuBA,EAAUb,GAAgBa,EAASvH,OAW/FgL,SAAU,CAAC,iBACXC,iBAAkB,CAAC,oBX3CN,CACb9R,KAAM,OACNwS,WACAL,MAAO,OACPL,iBAAkB,CAAC,mBACnBtV,GAlCF,SAAc4L,GACZ,IAAI7M,EAAQ6M,EAAK7M,MACbyE,EAAOoI,EAAKpI,KACZsV,EAAgB/Z,EAAMiT,MAAMnG,UAC5Be,EAAa7N,EAAMiT,MAAMrF,OACzB6G,EAAmBzU,EAAM0T,cAAc8J,gBACvCC,EAAoBvL,GAAelS,EAAO,CAC5CyS,eAAgB,cAEdiL,EAAoBxL,GAAelS,EAAO,CAC5C2S,iBAEEgL,EAA2BnJ,GAAeiJ,EAAmB1D,GAC7D6D,EAAsBpJ,GAAekJ,EAAmB7P,EAAY4G,GACpEoJ,EAAoBnJ,GAAsBiJ,GAC1CG,EAAmBpJ,GAAsBkJ,GAC7C5d,EAAM0T,cAAcjP,GAAQ,CAC1BkZ,yBAA0BA,EAC1BC,oBAAqBA,EACrBC,kBAAmBA,EACnBC,iBAAkBA,GAEpB9d,EAAMqV,WAAWzH,OAASpP,OAAOoQ,OAAO,GAAI5O,EAAMqV,WAAWzH,OAAQ,CACnEmQ,+BAAgCF,EAChCG,sBAAuBF,0BYrCnBpX,UAKL,SAASuX,EAAGC,GAGX,IAAIC,EAAc,CAGdC,WAAYC,EACZC,KAAMD,EACNE,OAAQF,EACRG,KAAMH,EACNI,KAAMJ,EAGNK,SACAC,QACAC,aACAC,cACAC,eACAC,uBACAC,eACAC,eACAC,mBACAC,0BACAC,qBACAC,wBACAC,mBACAC,SAAU,OACVC,iBAAkB,EAClBC,WAAY,SACZC,WAAY,SACZC,sBAAuB,OACvBC,sBAAuB,OACvBC,UAAW,wBACXC,oBAAqB,oBACrBC,mBACAC,UAAW,GACXC,mBAAoB,GACpBC,kBAAmB,GACnBC,aACAC,MAAO,WACPC,QAAS,CAAC,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,YACnGC,iBAAkB,GAClBC,YACA5M,OAAQ,MAEZ6M,EAAY,GACZC,IAAO,QAAQC,KAAM7Y,OAAOuI,UAAUuQ,WACtCC,EAAc,WACV,SAASpR,EAAUqR,EAAKC,GACpB,UAAW,GAAKD,GAAKlW,QAAQmW,GAGjC,IACItI,EADO5P,SAASmY,cAAc,OACjBvI,MAEjB,OADAA,EAAMwI,QAAU,kCACTxR,EAASgJ,EAAMyI,gBAAiB,SAAWzR,EAASgJ,EAAMyI,gBAAiB,QARxE,GAUdC,EAAe,CACX,4BACI,qEACA,mCACJ,UACFC,KAAK,IACPC,EAAS,WAIL,IAAIC,EAAc,GAClB,GAAIZ,EACA,IAAK,IAAIvc,EAAI,EAAGA,GAAK,EAAGA,IACpBmd,GAAe,kBAAoBnd,EAAI,WAI/C,MAAO,CACH,uCACI,qCACI,gDACA,kDACI,4DACJ,SACJ,SACA,oCACI,6BACI,8BACA,6BACI,yBACI,uBACI,uBACI,iCACJ,SACJ,SACJ,SACA,0CACA,SACA,uBACI,gCACAmd,EACJ,SACJ,SACA,oGACJ,SACA,yCACI,6DACJ,SACA,gDACA,0CACI,qCACA,oDACJ,SACJ,SACJ,UACFF,KAAK,IAjDF,GAoDT,SAASG,EAAiBC,EAAG7C,EAAOsB,EAAWwB,GAE3C,IADA,IAAIC,EAAO,GACFvd,EAAI,EAAGA,EAAIqd,EAAEtd,OAAQC,IAAK,CAC/B,IAAI2S,EAAU0K,EAAErd,GAChB,GAAG2S,EAAS,CACR,IAAI6K,EAAOC,UAAU9K,GACjB+K,EAAIF,EAAKG,QAAQC,EAAI,GAAM,4BAA8B,6BAC7DF,GAAMD,UAAUI,OAAOrD,EAAO7H,GAAY,mBAAqB,GAC/D,IAAImL,EAAkBN,EAAKzc,SAASuc,EAAKzB,iBAAmB,OACxDkC,EAAcrB,EAAe,oBAAsBc,EAAKQ,cAAiB,UAAYR,EAAKS,WAC9FV,EAAK/d,KAAK,gBAAkBse,EAAkB,iBAAmBN,EAAKQ,cAAgB,YAAcN,EAAI,yCAA2CK,EAAc,0BAGjKR,EAAK/d,KAAKua,EAAE,WACPmE,OAAOnE,EAAE,8FACLoE,KAAK,QAASb,EAAK1B,sBAEvB2B,QAIb,MAAO,qBAAuBzB,EAAY,KAAOyB,EAAKN,KAAK,IAAM,SAwBrE,SAASmB,EAASvb,EAASwb,GAEvB,IAAIf,EAfR,SAAyBe,EAAGC,GACxB,IAAIhB,EAAOvD,EAAEwE,OAAO,GAAItE,EAAaoE,GASrC,OARAf,EAAKkB,UAAY,CACbpE,KAAQqE,EAAKnB,EAAKlD,KAAMkE,GACxBjE,OAAUoE,EAAKnB,EAAKjD,OAAQiE,GAC5BhE,KAAQmE,EAAKnB,EAAKhD,KAAMgE,GACxB/D,KAAQkE,EAAKnB,EAAK/C,KAAM+D,GACxBpE,WAAcuE,EAAKnB,EAAKpD,WAAYoE,IAGjChB,EAVX,CAe+Be,EAAGxb,GAC1B4X,EAAO6C,EAAK7C,KACZU,EAAuBmC,EAAKnC,qBAC5BC,EAAkBkC,EAAKlC,gBACvBc,EAAQoB,EAAKpB,MACbsC,EAAYlB,EAAKkB,UACjBzK,EAy7BR,SAAkB2K,EAAMC,EAAMC,GAC1B,IAAIC,EACJ,OAAO,WACH,IAAIljB,EAAU2B,KAAM6K,EAAOD,UACvB4W,EAAY,WACZD,EAAU,KACVH,EAAKK,MAAMpjB,EAASwM,IAGP0W,IAASA,EAAUG,WAAWF,EAl8BrB,MAy7BlC,CAz7B0BG,IAClBC,KACAC,KACAC,EAAY,EACZC,EAAa,EACbC,EAAmB,EACnBC,EAAc,EAEdC,EAAa,EACbC,EAAwB,EACxBC,EAAoB,EACpBC,EAAa,EACbC,EAAoB,EACpBC,EAAe,EACfC,EAAe,EACf3D,EAAU,GACV4D,EAAe,GACfC,EAAgB,GAChB5D,EAAmBkB,EAAKlB,iBAAiB5a,MAAM,GAC/C8Z,EAAmBgC,EAAKhC,iBAExB2E,EAAyB,KAEzBC,EAAMrd,EAAQY,cAEd0c,GADOD,EAAIxZ,KACIqT,EAAElX,IACjBwZ,KACA+D,EAAYrG,EAAEmD,EAAQgD,GAAKG,SAASnE,GACpCoE,EAAkBF,EAAUxJ,KAAK,wBACjC2J,EAAUH,EAAUxJ,KAAK,aACzB4J,EAAaJ,EAAUxJ,KAAK,eAC5B6J,EAASL,EAAUxJ,KAAK,WACxB8J,EAAcN,EAAUxJ,KAAK,cAC7B+J,EAAmBP,EAAUxJ,KAAK,mBAClCgK,EAAcR,EAAUxJ,KAAK,aAC7BiK,EAAmBT,EAAUxJ,KAAK,oBAClCkK,EAAYV,EAAUxJ,KAAK,aAC3BmK,GAAmBX,EAAUxJ,KAAK,eAClCoK,GAAwBZ,EAAUxJ,KAAK,eACvCqK,GAAeb,EAAUxJ,KAAK,cAC9BsK,GAAcd,EAAUxJ,KAAK,aAC7BuK,GAAef,EAAUxJ,KAAK,cAC9BwK,GAAehB,EAAUxJ,KAAK,sBAC9ByK,GAAUlB,EAAamB,GAAG,SAC1BC,GAAmBF,IAAyC,UAA9BlB,EAAahC,KAAK,SAAuBqD,IACvEC,GAAgBJ,KAAY5G,EAC5BiH,GAAWC,GAAkB5H,EAAEiD,GAAcqD,SAASnE,GAAOmE,SAAS/C,EAAKxB,WAAWuE,SAAS/C,EAAKtB,mBAAqBjC,EAAE,IAC3H6H,GAAgBD,GAAkBD,GAAWvB,EAC7C0B,GAAiBH,GAAS9K,KAAK,qBAC/BkL,GAAexE,EAAK9C,OAAU6G,IAAWlB,EAAa4B,MACtDC,MACAC,GAAyB3E,EAAKzB,gBAC9BhB,IAAuByC,EAAK1C,aAAe0C,EAAKzC,oBAChDqH,IAAWJ,GACXnH,GAAa2C,EAAK3C,aAAe4G,GAErC,SAASY,KAQL,GANI7E,EAAKtC,kBACLsC,EAAKvC,gBAGTqG,GAAagB,KAAK9E,EAAKtC,gBAAkBsC,EAAK7B,sBAAwB6B,EAAK5B,uBAEvE4B,EAAKnB,QAAS,CACdA,EAAUmB,EAAKnB,QAAQ3a,MAAM,GAC7Bue,EAAehG,EAAEsI,QAAQlG,EAAQ,IAAMA,EAAU,CAACA,GAClD6D,EAAgB,GAChB,IAAK,IAAIhgB,EAAI,EAAGA,EAAI+f,EAAahgB,OAAQC,IACrC,IAAK,IAAIsiB,EAAI,EAAGA,EAAIvC,EAAa/f,GAAGD,OAAQuiB,IAAK,CAC7C,IAAIC,EAAM9E,UAAUsC,EAAa/f,GAAGsiB,IAAItE,cACxCgC,EAAcuC,OAK1BnC,EAAUoC,YAAY,UAAW/H,GACjC2F,EAAUoC,YAAY,qBAAsBlF,EAAK5C,WACjD0F,EAAUoC,YAAY,mBAAoBlF,EAAKrB,WAC/CmE,EAAUoC,YAAY,mBAAoB7H,IAC1CyF,EAAUoC,YAAY,uBAAwBlF,EAAK1C,aACnDwF,EAAUoC,YAAY,+BAAgClF,EAAKpC,mBAC3DkF,EAAUoC,YAAY,uBAAwBlF,EAAKvC,aACnDqF,EAAUoC,YAAY,kBAAmBlF,EAAKtC,iBAC9CoF,EAAUoC,YAAY,uBAAwBlF,EAAKxC,aACnDsF,EAAUC,SAAS/C,EAAKxB,WAAWuE,SAAS/C,EAAKvB,oBAEjDkD,KAmNJ,SAASwD,KAEL,GAAIrH,GAAmBzX,OAAO+e,aAAc,CAGxC,IACI,IAAIC,EAAahf,OAAO+e,aAAatH,GAAiBxT,MAAM,MACxD+a,EAAW5iB,OAAS,WACb4D,OAAO+e,aAAatH,GAC3BrB,EAAE6I,KAAKD,YAAqB3iB,EAAG0d,GAC1BmF,GAA2BnF,OAIxC,MAAMoF,IAEN,IACI1G,EAAmBzY,OAAO+e,aAAatH,GAAiBxT,MAAM,KAElE,MAAOkb,MAIf,SAASD,GAA2BrI,GAChC,GAAIW,EAAsB,CACtB,IAAIoH,EAAM9E,UAAUjD,GAAOwD,cAC3B,IAAKgC,EAAcuC,KAA8C,IAAtCxI,EAAEgJ,QAAQR,EAAKnG,GAEtC,IADAA,EAAiB5c,KAAK+iB,GAChBnG,EAAiBrc,OAASub,GAC5Bc,EAAiB4G,QAIzB,GAAI5H,GAAmBzX,OAAO+e,aAC1B,IACI/e,OAAO+e,aAAatH,GAAmBgB,EAAiBa,KAAK,KAEjE,MAAM6F,MAoBlB,SAASG,KAEL,IAAIC,EAAe1Q,KAEf+K,EAAOxD,EAAEnI,IAAImO,YAAwB5D,EAASnc,GAC9C,OAAOod,EAAgBjB,EAAS+G,EAAc,iCAAmCljB,EAAGsd,MAGxFmF,KAEIrG,GACAmB,EAAK/d,KAAK4d,EA1BlB,WACI,IAAI+F,EAAS,GACb,GAAI7F,EAAKvC,YACL,IAAK,IAAI/a,EAAI,EAAGA,EAAIoc,EAAiBrc,OAAQC,IAAK,CAC9C,IAAIuiB,EAAM9E,UAAUrB,EAAiBpc,IAAIge,cAEpCgC,EAAcuC,IACfY,EAAO3jB,KAAK4c,EAAiBpc,IAKzC,OAAOmjB,EAAOhiB,UAAUK,MAAM,EAAG8b,EAAKhC,kBAZ1C,GA0B+D4H,EAAc,0CAA2C5F,IAGpHyD,GAAiBxD,KAAKA,EAAKN,KAAK,KAGpC,SAASmG,KACL,GAAI9F,EAAKxC,YAAa,CAClB,IAAIuI,EAAUrB,GACVrP,EAAUH,KACdwO,GAAsBzD,KAAKH,EAAgB,CAACiG,EAAS1Q,GAAUA,EAAS,yBAA0B2K,KAI1G,SAASgG,MACDjE,GAAc,GAAKD,GAAa,GAAKG,GAAe,IACpDN,KAEJE,KACAiB,EAAUC,SA7WM,eA8WhBJ,EAAyB,KACzBE,EAAaoD,QAAQ,qBAAsB,CAAE/Q,OAGjD,SAASgR,KACLrE,KACAiB,EAAUqD,YApXM,eAqXhBtD,EAAaoD,QAAQ,oBAAqB,CAAE/Q,OAGhD,SAASkR,KAEL,IAAIxnB,EAAQ4kB,EAAUiB,MAEtB,GAAe,OAAV7lB,GAA4B,KAAVA,IAAiBye,GAKnC,CACD,IAAI6C,EAAOC,UAAUvhB,GACjBshB,EAAKmG,WACL1R,GAAIuL,GACJpD,KACAwJ,MAGA9C,EAAUT,SAAS,4BAZvBpO,GAAI,MACJmI,KACAwJ,KAeR,SAASC,KACD3E,EACA3E,KAGAD,KAIR,SAASA,KACL,IAAIwJ,EAAQ/J,EAAEgK,MAAM,uBAEhB7E,EACAD,MAIJkB,EAAaoD,QAAQO,EAAO,CAAEtR,YAE1BgM,EAAUtE,WAAW1H,OAAoBsR,EAAME,uBAld3D,WACI,IAAK,IAAIhkB,EAAI,EAAGA,EAAIsc,EAAUvc,OAAQC,IAC9Bsc,EAAUtc,IACVsc,EAAUtc,GAAGua,OAHzB,GAudQ2E,KAEAnF,EAAEmG,GAAK+D,GAAG,mBAAoBC,IAC9BnK,EAAEmG,GAAK+D,GAAG,iBAAkBE,IAC5BpK,EAAEpW,QAAQsgB,GAAG,kBAAmBlQ,GAChC2N,GAASrB,SAAS,aAClBD,EAAUqD,YAAY,aAEtBxE,KACAmF,KAEApC,GAAcxP,KAEd4Q,KACA5E,EAAUlE,KAAK0H,IACf7B,EAAaoD,QAAQ,gBAAiB,CAAEvB,OAG5C,SAASkC,GAAUpB,GAEG,KAAdA,EAAEuB,SACF9J,KAIR,SAAS4J,GAASrB,GAEE,GAAZA,EAAEwB,SAIFnF,IAEAtE,GACA+I,OAGAW,KAEJhK,OAGJ,SAASA,KAEA2E,IAAWzE,IAChByE,KAEAnF,EAAEmG,GAAKsE,IAAI,mBAAoBN,IAC/BnK,EAAEmG,GAAKsE,IAAI,iBAAkBL,IAC7BpK,EAAEpW,QAAQ6gB,IAAI,kBAAmBzQ,GAEjC2N,GAAS+B,YAAY,aACrBrD,EAAUC,SAAS,aAEnB7B,EAAUjE,KAAK/H,MACf2N,EAAaoD,QAAQ,gBAAiB,CAAE/Q,QAG5C,SAAS+R,KACLtS,GAAI+P,OACJ4B,OAGJ,SAAS3R,GAAIuI,EAAOiK,GAQhB,IAAIC,EAAUC,EAPVlH,UAAUI,OAAOrD,EAAOhI,MAGxB4R,OAKC5J,GAASG,GACVuH,OAEAA,MAEAyC,GADAD,EAAWjH,UAAUjD,IACHoK,QAElBjF,EAAcgF,EAAOE,EAAI,IAAO,IAChCjF,EAAoB+E,EAAOG,EAC3BjF,EAAe8E,EAAOI,EACtBjF,EAAe6E,EAAOxU,GAE1BiU,KAEIM,GAAYA,EAASf,YAAcc,IACnCxC,GAAyB3E,EAAKzB,iBAAmB6I,EAASM,cAIlE,SAASxS,GAAI8K,GAGT,OAFAA,EAAOA,GAAQ,GAEX3C,IAAcuH,GACP,KAGJzE,UAAUwH,UAAU,CACvBJ,EAAGlF,EACHmF,EAAGlF,EACHmF,EAAGlF,EACH1P,EAAGhH,KAAKc,MAAqB,IAAf6V,GAAuB,KACtC,CAAEoF,OAAQ5H,EAAK4H,QAAUjD,KAOhC,SAAS7H,KACLgK,KAEA5F,EAAUpE,KAAK5H,MACf2N,EAAaoD,QAAQ,gBAAiB,CAAE/Q,OAG5C,SAAS4R,KAELtD,EAAU2C,YAAY,uBAEtB0B,KAGA,IAAIC,EAAY3H,UAAUwH,UAAU,CAAEJ,EAAGlF,EAAYmF,EAAG,EAAGC,EAAG,IAC9DxE,EAAQ8E,IAAI,mBAAoBD,EAAUE,eAG1C,IAAIJ,EAASjD,GACTnC,EAAe,IAAwB,IAAjBA,GAAiC,SAAXoF,KAC7B,QAAXA,GAA+B,SAAXA,GAAgC,SAAXA,GAAgC,SAAXA,IAC9DA,EAAS,QAIjB,IAAIK,EAAY/S,GAAI,CAAE0S,OAAQA,IAC1BM,EAAe,GAMnB,GAHA3D,GAAe4B,YAAY,oBAC3B5B,GAAewD,IAAI,mBAAoB,gBAElCE,GAAa5K,GAEdkH,GAAexB,SAAS,wBAEvB,CACD,IAAIoF,EAAUF,EAAUD,cACpBI,EAAUH,EAAUvH,cAWxB,GARItB,GAAmC,IAApB6I,EAAUI,MACzB9D,GAAewD,IAAI,mBAAoBK,IAGvC7D,GAAewD,IAAI,mBAAoB,eACvCxD,GAAewD,IAAI,SAAUE,EAAUtH,aAGvCX,EAAKrB,UAAW,CAChB,IAAIsG,EAAMgD,EAAUK,QACpBrD,EAAIpS,EAAI,EACR,IAAI0V,EAAYpI,UAAU8E,GAAKvE,cAC3B8H,EAAW,yBAA2BD,EAAY,KAAOJ,EAAU,IAEnElJ,EACAoE,EAAiB0E,IAAI,SAAU5H,UAAUoI,GAAW5H,SAAS,CAAE8H,aAAc,GAAKN,KAGlF9E,EAAiB0E,IAAI,aAAc,WAAaS,GAChDnF,EAAiB0E,IAAI,aAAc,QAAUS,GAC7CnF,EAAiB0E,IAAI,aAAc,OAASS,GAE5CnF,EAAiB0E,IAAI,aACjB,6BAA+BQ,EAAY,KAAOJ,EAAU,MAIxED,EAAeD,EAAUxkB,SAASmkB,GAIlC5H,EAAK5C,WACLoG,EAAUiB,IAAIyD,GAGdlI,EAAKvC,aACLkI,KAGJG,KAGJ,SAAS+B,KACL,IAAIL,EAAIlF,EACJmF,EAAIlF,EAER,GAAGlF,IAAcuH,GAEbrB,EAAiBtG,OACjBmG,EAAYnG,OACZiG,EAAWjG,WAEV,CAEDsG,EAAiBvG,OACjBoG,EAAYpG,OACZkG,EAAWlG,OAGX,IAAI0L,EAAQlB,EAAI1F,EACZ6G,EAAQ5G,EAAc0F,EAAI1F,EAC9B2G,EAAQ7c,KAAKmD,KACRgT,EACDnW,KAAKwE,IAAIyR,EAAYE,EAAkB0G,EAAQ1G,IAEnD2G,EAAQ9c,KAAKmD,KACRgT,EACDnW,KAAKwE,IAAI0R,EAAaC,EAAkB2G,EAAQ3G,IAEpDkB,EAAW6E,IAAI,CACXpiB,IAAOgjB,EAAQ,KACf7iB,KAAQ4iB,EAAQ,OAGpB,IAAIE,EAASpG,EAAeN,EAC5BqB,EAAiBwE,IAAI,CACjBjiB,KAAS8iB,EAAUzG,EAAwB,EAAM,OAIrD,IAAI0G,EAASC,EAAe7G,EAC5BmB,EAAY2E,IAAI,CACZpiB,IAAQkjB,EAASzG,EAAqB,QAKlD,SAASkE,GAAoByC,GACzB,IAAI7L,EAAQhI,KACRgT,EAAe,GACfc,GAAc7I,UAAUI,OAAOrD,EAAOwH,IAEtCxH,IACAgL,EAAehL,EAAMzZ,SAASkhB,IAE9BY,GAA2BrI,IAG3B6G,IACAlB,EAAa4B,IAAIyD,GAGjBa,GAAgBC,IAChB9H,EAAUnE,OAAOG,GACjB2F,EAAaoD,QAAQ,SAAU,CAAE/I,KAIzC,SAASyE,KACAC,IAGLE,EAAYmB,EAAQxd,QACpBsc,EAAakB,EAAQvd,SACrBsc,EAAmBkB,EAAWxd,SACjByd,EAAO1d,QACpBwc,EAAckB,EAAOzd,SACrB0c,EAAoBgB,EAAY1d,SAChCwc,EAAaoB,EAAY7d,QACzB0c,EAAwBoB,EAAiB9d,QAEpC0X,IACD2F,EAAUiF,IAAI,WAAY,YACtB/H,EAAK7N,OACL2Q,EAAU3Q,OAAO6N,EAAK7N,QAEtB2Q,EAAU3Q,OAoF1B,SAAmB8W,EAAQC,GACvB,IACIC,EAAUF,EAAOG,aACjBC,EAAWJ,EAAOK,cAClBC,EAAcL,EAAMI,cACpB1G,EAAMqG,EAAO,GAAG9iB,cAChBqjB,EAAU5G,EAAIvb,gBACdoiB,EAAYD,EAAQvc,YAAcwP,EAAEmG,GAAKpc,aACzCkjB,EAAaF,EAAQxc,aAAeyP,EAAEmG,GAAKlc,YAC3CyL,EAAS+W,EAAM/W,SACf5J,EAAa4J,EAAOrM,KACpB0C,EAAY2J,EAAOxM,IAYvB,OAVA6C,GAAa+gB,EAEbhhB,GACIsD,KAAKwE,IAAI9H,EAAaA,EAAa4gB,EAAUM,GAAaA,EAAYN,EACtEtd,KAAK8d,IAAIphB,EAAa4gB,EAAUM,GAAa,GAM1C,CACH9jB,IALJ6C,GACIqD,KAAKwE,IAAI7H,EAAaA,EAAY6gB,EAAWK,GAAcA,EAAaL,EACxExd,KAAK8d,IAAIN,EAAWE,EApBX,GAAA,GAwBT1jB,OAAQsM,EAAOtM,OACfC,KAAMyC,EACN3C,MAAOuM,EAAOvM,MACdH,MAAO0M,EAAO1M,MACdC,OAAQyM,EAAOzM,QA7BvB,CApF2Cod,EAAWwB,MAI9CuD,KAEI7H,EAAKvC,aACLkI,KAGJ9C,EAAaoD,QAAQ,oBAiCzB,SAAS2D,KACL3M,KACA8B,KACA8D,EAAahC,KAAK,eAClByD,GAAcvB,SAAS,gBApqB3B,WAgBI,GAdI9D,GACA6D,EAAUxJ,KAAK,gBAAgBuH,KAAK,eAAgB,MAGxDgE,KAEIV,IACAtB,EAAagH,MAAMzF,IAAUnH,OAG5BI,IACDuG,GAAY3G,OAGZE,EACA0F,EAAagH,MAAM/G,GAAW7F,WAE7B,CAED,IAAIc,EAA6B,WAAlBiC,EAAKjC,SAAwB8E,EAAa5U,SAAWwO,EAAEuD,EAAKjC,UACnD,IAApBA,EAAStb,SACTsb,EAAWtB,EAAE,SAGjBsB,EAAS6C,OAAOkC,GA2JpB,SAASgH,EAAoBtE,GAmBzB,OAlBIA,EAAEjQ,MAAQiQ,EAAEjQ,KAAKwU,QACjBpV,GAAI8H,EAAE+I,EAAElc,QAAQ0gB,QAAQ,gBAAgBzU,KAAK,UAC7CuH,OAGAnI,GAAI8H,EAAE+I,EAAElc,QAAQ0gB,QAAQ,gBAAgBzU,KAAK,UAC7CuH,KAIIkD,EAAKrC,wBACL2I,OACArJ,MAEAqJ,SAvKZnB,KAEAb,GAAcqC,GAAG,+CAAgDnB,GACxDzG,GACDwH,KAGJf,EAAEyE,kBAEGxN,EAAE+I,EAAElc,QAAQ0a,GAAG,UAChBwB,EAAE0E,qBAIPrH,EAAamB,GAAG,mBAAiBhE,EAAKjB,WACrC6K,KAIJ9G,EAAUqH,MAAMF,GAGhBzG,EAAUzG,OAAOqJ,IACjB5C,EAAUmD,GAAG,oBACTjF,WAAW0E,GAAkB,MAEjC5C,EAAU4G,kBAAkB5E,GAAsB,IAAbA,EAAEuB,SAAiBX,QAExDzC,GAAamB,KAAK9E,EAAK/B,YACvB0F,GAAagD,GAAG,2BAA4BnB,GACxCA,EAAEyE,kBACFzE,EAAE0E,iBACFjD,KACAhK,QAGJ2G,GAAY/C,KAAK,QAASb,EAAK3B,WAC/BuF,GAAY+C,GAAG,2BAA4BnB,GACvCA,EAAEyE,kBACFzE,EAAE0E,iBACFtF,MACA9H,KAEGK,GAECmJ,UAIRzC,GAAaiB,KAAK9E,EAAK9B,YACvB2F,GAAa8C,GAAG,2BAA4BnB,GACxCA,EAAEyE,kBACFzE,EAAE0E,iBAEEjL,GAAMuE,EAAUQ,GAAG,WACnBR,EAAUyC,QAAQ,UAuXlBzC,EAAU6G,SAAS,yBAnXnB/D,OACArJ,SAIR6G,GAAagB,KAAK9E,EAAKtC,gBAAkBsC,EAAK7B,sBAAwB6B,EAAK5B,uBAC3E0F,GAAa6C,GAAG,2BAA4BnB,GACxCA,EAAEyE,kBACFzE,EAAE0E,iBAEFlK,EAAKtC,iBAAmBsC,EAAKtC,gBAOxBsC,EAAKtC,iBAAoBP,GAC1B2F,EAAUiF,IAAI,OAAQ,MAAQ/E,EAAgBoG,eAAmB,IAErEvE,QAGJyF,EAAUhH,YAAuBoF,EAAOC,EAAOnD,GAC3ChD,EAAgBkG,EAAQxG,EACxB0C,MACIY,EAAE+E,WACF/H,EAAe3W,KAAKc,MAAqB,GAAf6V,GAAqB,IAGnD1F,OACDkJ,GAAWE,IAEdoE,EAAUnH,YAAkBuF,EAAOC,GAC/BtG,EAAatU,WAAW4a,EAAQ1G,GAChC2C,MACK5E,EAAKrB,YACN6D,EAAe,GAEnB1F,OACDkJ,GAAWE,IAEdoE,EAAUrH,YAAmByF,EAAOC,EAAOnD,GAGvC,GAAKA,EAAE+E,UAGF,IAAK5H,EAAwB,CAC9B,IAAI6H,EAAWlI,EAAoBR,EAC/B2I,EAAW1I,EAAcQ,EAAeR,EACxC2I,EAAe7e,KAAK8d,IAAIjB,EAAQ8B,GAAY3e,KAAK8d,IAAIhB,EAAQ8B,GAEjE9H,EAAyB+H,EAAe,IAAM,UAP9C/H,EAAyB,KAU7B,IACIgI,GAAYhI,GAAqD,MAA3BA,IADrBA,GAAqD,MAA3BA,KAI3CL,EAAoBvU,WAAW2a,EAAQ5G,IAEvC6I,IACApI,EAAexU,YAAYgU,EAAa4G,GAAS5G,IAGrD6C,MACK5E,EAAKrB,YACN6D,EAAe,GAGnB1F,OAEDkJ,GAAWE,IAER1B,IACF7P,GAAI6P,IAIJsC,KACAnC,GAAyB3E,EAAKzB,iBAAmB4B,UAAUqE,IAAcoD,OAEzErC,GAA2Bf,KAG3BsC,KAGA3J,GACAH,KAyBJ,IAAI4N,EAAe3L,EAAK,qBAAuB,qCAC/CwE,GAAiBkD,GAAGiE,EAAc,eAAgBd,GAClDpG,GAAsBiD,GAAGiE,EAAc,4BAA6B,CAAEb,WAAgBD,GA7M1F,GA8qBA,IAAIe,GAAQ,CACR7N,KAAMA,GACNC,KAAMA,GACNsJ,OAAQA,GACR5E,OAAQA,GACRmJ,OAzCJ,SAAgBC,EAAYC,GACxB,OAAID,IAAerO,EACRD,EAAEwE,OAAO,GAAIjB,GAEpBgL,IAAgBtO,EACTsD,EAAK+K,IAGhB/K,EAAK+K,GAAcC,EAEA,oBAAfD,IACApG,GAAyB3E,EAAKzB,sBAElCsG,OA6BAoG,OA1BJ,WACIlM,KACA8D,EAAahC,KAAK,eAClByD,GAAc6B,YAAY,gBAwB1ByD,QAASA,GACTzX,OAfJ,SAAmB+Y,GACflL,EAAK7N,OAAS+Y,EACdvJ,MAcAhN,IAAK,SAAUyL,GACXzL,GAAIyL,GACJkG,MAEJpR,IAAKA,GACLkB,QA1DJ,WACIyM,EAAa7F,OACbsH,GAAc4C,IAAI,sCAClBpE,EAAUqI,SACV/G,GAAS+G,SACTnM,EAAU6L,GAAMO,IAAM,MAsDtBtI,UAAWA,GAKf,OAFA+H,GAAMO,GAAKpM,EAAU9c,KAAK2oB,IAAS,EAE5BA,GA2CX,SAAShO,KAOT,SAASoN,EAAgBzE,GACrBA,EAAEyE,kBAON,SAAS9I,EAAKC,EAAM1hB,GAChB,IAAIwE,EAAQ4G,MAAM7N,UAAUiH,MACxB2G,EAAO3G,EAAMvE,KAAKiL,UAAW,GACjC,OAAO,WACH,OAAOwW,EAAKK,MAAM/hB,EAAKmL,EAAKtB,OAAOrF,EAAMvE,KAAKiL,cAQtD,SAAS0f,EAAU/kB,EAAS8lB,EAAQC,EAASC,GACzCF,EAASA,GAAU,aACnBC,EAAUA,GAAW,aACrBC,EAASA,GAAU,aACnB,IAAI3I,EAAMxb,SACNokB,KACArZ,EAAS,GACTsZ,EAAY,EACZC,EAAW,EACXC,EAAY,iBAAkBtlB,OAE9BulB,EAAmB,GAMvB,SAASC,EAAQrG,GACTA,EAAEyE,iBACFzE,EAAEyE,kBAEFzE,EAAE0E,gBACF1E,EAAE0E,iBAEN1E,EAAEsG,eAGN,SAAShP,EAAK0I,GACV,GAAIgG,EAAU,CAEV,GAAIvM,GAAM2D,EAAImJ,aAAe,IAAMvG,EAAEwB,OACjC,OAAO7iB,IAGX,IAAI6nB,EAAKxG,EAAEyG,eAAiBzG,EAAEyG,cAAcC,SAAW1G,EAAEyG,cAAcC,QAAQ,GAC3EC,EAAQH,GAAMA,EAAGG,OAAS3G,EAAE2G,MAC5BC,EAAQJ,GAAMA,EAAGI,OAAS5G,EAAE4G,MAE5B1D,EAAQ7c,KAAKmD,IAAI,EAAGnD,KAAKwE,IAAI8b,EAAQha,EAAOrM,KAAM4lB,IAClD/C,EAAQ9c,KAAKmD,IAAI,EAAGnD,KAAKwE,IAAI+b,EAAQja,EAAOxM,IAAK8lB,IAEjDE,GAEAE,EAAQrG,GAGZ6F,EAAO5J,MAAMlc,EAAS,CAACmjB,EAAOC,EAAOnD,KAwB7C,SAASrhB,IACDqnB,IACA/O,EAAEmG,GAAKsE,IAAI0E,GACXnP,EAAEmG,EAAIxZ,MAAM+c,YAAY,eAIxBzE,uBACI6J,EAAO9J,MAAMlc,EAASqF,aACvB,IAEP4gB,KArEJI,EAA8BS,YAAIR,EAClCD,EAA4BU,UAAIT,EAChCD,EAAiB,uBAAyB9O,EAC1C8O,EAAiB,oBAAsBznB,EAqEvCsY,EAAElX,GAASohB,GAAG,iCAlCCnB,GACX,IAAI+G,EAAc/G,EAAOgH,MAAgB,GAAXhH,EAAEgH,MAA2B,GAAZhH,EAAEwB,OAE5CuF,GAAef,QACZF,EAAQ7J,MAAMlc,EAASqF,aACvB4gB,KACAC,EAAYhP,EAAElX,GAASG,SACvBgmB,EAAWjP,EAAElX,GAASE,QACtB0M,EAASsK,EAAElX,GAAS4M,SAEpBsK,EAAEmG,GAAK+D,GAAGiF,GACVnP,EAAEmG,EAAIxZ,MAAM2Z,SAAS,eAErBjG,EAAK0I,GAELqG,EAAQrG,OAmCxB,SAAStB,IACL,OAAOzH,EAAEhd,GAAGqhB,SAASoD,wBAMzB,IAAIuI,EAAS,cACbhQ,EAAEhd,GAAGqhB,SAAW,SAAUd,EAAM0M,GAE5B,GAAmB,iBAAR1M,EAAkB,CAEzB,IAAI8L,EAAc9rB,KACd6K,EAAOC,MAAM7N,UAAUiH,MAAMvE,KAAMiL,UAAW,GA6BlD,OA3BA5K,KAAKslB,iBACD,IAAIuF,EAAQ7L,EAAUvC,EAAEzc,MAAMuV,KAAKkX,IACnC,GAAI5B,EAAO,CACP,IAAIpsB,EAASosB,EAAM7K,GACnB,IAAKvhB,EACD,MAAM,IAAIE,MAAO,8BAAgCqhB,EAAO,KAGhD,OAARA,EACA8L,EAAcjB,EAAM3V,MAEP,aAAR8K,EACL8L,EAAcjB,EAAM/H,UAEP,UAAR9C,EACL8L,EAAcjB,EAAMC,OAAOrJ,MAAMoJ,EAAOhgB,GAE3B,WAARmV,GACL6K,EAAMzU,UACNqG,EAAEzc,MAAM2sB,WAAWF,IAGnBhuB,EAAOgjB,MAAMoJ,EAAOhgB,OAKzBihB,EAIX,OAAO9rB,KAAK8gB,SAAS,WAAWwE,iBAC5B,IACIuF,EAAQ/J,EAAS9gB,KADPyc,EAAEwE,OAAO,GAAIxE,EAAEzc,MAAMuV,OAAQyK,IAE3CvD,EAAEzc,MAAMuV,KAAKkX,EAAQ5B,EAAMO,QAInC3O,EAAEhd,GAAGqhB,SAAS8L,QACdnQ,EAAEhd,GAAGqhB,SAAS+L,SAAW,GACzBpQ,EAAEhd,GAAGqhB,SAASwJ,UAAYA,EAC1B7N,EAAEhd,GAAGqhB,SAASgM,SAAWnQ,EACzBF,EAAEhd,GAAGqhB,SAASoD,sBAAwB,SAASA,IAC3C,YAAWA,EAAsB6I,cAA+B,CAC5D,IAAIC,EAAavQ,EAAE,yBAAyB,GAC5CyH,EAAsB6I,cAAoC,UAApBC,EAAWxtB,MAAyC,KAArBwtB,EAAWpuB,MAEpF,OAAOslB,EAAsB6I,eAGjCtQ,EAAEqE,SAAW,GACbrE,EAAEqE,SAASmM,aAAe,GAC1BxQ,EAAEqE,SAASoM,SAAW,GAEtBzQ,EAAEhd,GAAGqhB,SAASqM,yBAA2B,WACrC,IAAIC,EAAc3Q,EAAE,qBAChB2Q,EAAY3qB,SAAWyhB,KACvBkJ,EAAYtM,SAAS,CACjBvC,gBAAiB,UAS7B,WAEA,IAAI8O,EAAW,WACXC,EAAY,OACZC,EAAc,EACdC,EAAO3hB,KACP4hB,EAAYD,EAAK7gB,MACjB+gB,EAAUF,EAAKnd,IACfsd,EAAUH,EAAKxe,IACf4e,EAAaJ,EAAKK,OAElB1N,EAAY,SAASjD,EAAO8C,GAM5B,GAHAA,EAAOA,GAAQ,IADf9C,EAAQsK,GAAkB,cAILrH,EAClB,OAAOjD,EAGV,KAAMld,gBAAgBmgB,GAClB,OAAO,IAAIA,EAAUjD,EAAO8C,GAGhC,IAAIiF,EAgQR,SAAoB/H,GAEhB,IA2Dc4Q,EAAGC,EAAGjb,EA3DhBmS,EAAM,CAAE6I,EAAG,EAAGC,EAAG,EAAGjb,EAAG,GACvBD,EAAI,EACJmb,KACApG,KAkCJ,MAhCoB,iBAAT1K,IACPA,EAyuBR,SAA6BA,GAEzBA,EAAQA,EAAM1P,QAAQ6f,EAAS,IAAI7f,QAAQ8f,EAAW,IAAIpmB,cAC1D,IAaI+mB,EArDqB1G,EAwCrB2G,KACJ,GAAIC,EAAMjR,GACNA,EAAQiR,EAAMjR,GACdgR,UAEC,GAAa,eAAThR,EACL,MAAO,CAAE4Q,EAAG,EAAGC,EAAG,EAAGjb,EAAG,EAAGD,EAAG,EAAG+U,OAAQ,QAQ7C,OAAKqG,EAAQG,EAASnJ,IAAI/F,KAAKhC,IACpB,CAAE4Q,EAAGG,EAAM,GAAIF,EAAGE,EAAM,GAAInb,EAAGmb,EAAM,KAE3CA,EAAQG,EAASC,KAAKnP,KAAKhC,IACrB,CAAE4Q,EAAGG,EAAM,GAAIF,EAAGE,EAAM,GAAInb,EAAGmb,EAAM,GAAIpb,EAAGob,EAAM,KAExDA,EAAQG,EAASE,IAAIpP,KAAKhC,IACpB,CAAEqK,EAAG0G,EAAM,GAAIzG,EAAGyG,EAAM,GAAI3N,EAAG2N,EAAM,KAE3CA,EAAQG,EAASG,KAAKrP,KAAKhC,IACrB,CAAEqK,EAAG0G,EAAM,GAAIzG,EAAGyG,EAAM,GAAI3N,EAAG2N,EAAM,GAAIpb,EAAGob,EAAM,KAExDA,EAAQG,EAASI,IAAItP,KAAKhC,IACpB,CAAEqK,EAAG0G,EAAM,GAAIzG,EAAGyG,EAAM,GAAIxG,EAAGwG,EAAM,KAE3CA,EAAQG,EAASK,KAAKvP,KAAKhC,IACrB,CAAEqK,EAAG0G,EAAM,GAAIzG,EAAGyG,EAAM,GAAIxG,EAAGwG,EAAM,GAAIpb,EAAGob,EAAM,KAExDA,EAAQG,EAASM,KAAKxP,KAAKhC,IACrB,CACHrK,GA1EiB0U,EA0EM0G,EAAM,GAzE7BU,EAAgBpH,GAAK,KA0ErBuG,EAAGa,EAAgBV,EAAM,IACzBF,EAAGY,EAAgBV,EAAM,IACzBnb,EAAG6b,EAAgBV,EAAM,IACzBrG,OAAQsG,EAAQ,OAAS,SAG5BD,EAAQG,EAASQ,KAAK1P,KAAKhC,IACrB,CACH4Q,EAAGa,EAAgBV,EAAM,IACzBF,EAAGY,EAAgBV,EAAM,IACzBnb,EAAG6b,EAAgBV,EAAM,IACzBrG,OAAQsG,EAAQ,OAAS,UAG5BD,EAAQG,EAASS,KAAK3P,KAAKhC,KACrB,CACH4Q,EAAGa,EAAgBV,EAAM,GAAK,GAAKA,EAAM,IACzCF,EAAGY,EAAgBV,EAAM,GAAK,GAAKA,EAAM,IACzCnb,EAAG6b,EAAgBV,EAAM,GAAK,GAAKA,EAAM,IACzCrG,OAAQsG,EAAQ,OAAS,OAzDrC,CAzuBoChR,IAGZ,iBAATA,IACHA,EAAM/f,eAAe,MAAQ+f,EAAM/f,eAAe,MAAQ+f,EAAM/f,eAAe,MAiDzE2wB,EAhDS5Q,EAAM4Q,EAgDZC,EAhDe7Q,EAAM6Q,EAgDlBjb,EAhDqBoK,EAAMpK,EAAvCmS,EAiDD,CACH6I,EAAqB,IAAlBgB,EAAQhB,EAAG,KACdC,EAAqB,IAAlBe,EAAQf,EAAG,KACdjb,EAAqB,IAAlBgc,EAAQhc,EAAG,MAnDVkb,KACApG,EAAwC,MAA/BmH,OAAO7R,EAAM4Q,GAAGxO,QAAQ,GAAa,OAAS,OAElDpC,EAAM/f,eAAe,MAAQ+f,EAAM/f,eAAe,MAAQ+f,EAAM/f,eAAe,MACpF+f,EAAMsK,EAAIwH,EAAoB9R,EAAMsK,GACpCtK,EAAMuK,EAAIuH,EAAoB9R,EAAMuK,GACpCxC,EAoJX,SAAkBsC,EAAGC,EAAGC,GAErBF,EAAsB,EAAlBuH,EAAQvH,EAAG,KACfC,EAAIsH,EAAQtH,EAAG,KACfC,EAAIqH,EAAQrH,EAAG,KAEf,IAAI/kB,EAAI8qB,EAAK1hB,MAAMyb,GACf0H,EAAI1H,EAAI7kB,EACRqd,EAAI0H,GAAK,EAAID,GACb0H,EAAIzH,GAAK,EAAIwH,EAAIzH,GACjB2H,EAAI1H,GAAK,GAAK,EAAIwH,GAAKzH,GACvB4H,EAAM1sB,EAAI,EAKd,MAAO,CAAEorB,EAAO,IAJR,CAACrG,EAAGyH,EAAGnP,EAAGA,EAAGoP,EAAG1H,GAAG2H,GAINrB,EAAO,IAHpB,CAACoB,EAAG1H,EAAGA,EAAGyH,EAAGnP,EAAGA,GAAGqP,GAGMtc,EAAO,IAFhC,CAACiN,EAAGA,EAAGoP,EAAG1H,EAAGA,EAAGyH,GAAGE,IAd9B,CApJ0BlS,EAAMqK,EAAGrK,EAAMsK,EAAGtK,EAAMuK,GACvCuG,KACApG,EAAS,OAEJ1K,EAAM/f,eAAe,MAAQ+f,EAAM/f,eAAe,MAAQ+f,EAAM/f,eAAe,OACpF+f,EAAMsK,EAAIwH,EAAoB9R,EAAMsK,GACpCtK,EAAMoD,EAAI0O,EAAoB9R,EAAMoD,GACpC2E,EA6EZ,SAAkBsC,EAAGC,EAAGlH,GACpB,IAAIwN,EAAGC,EAAGjb,EAMV,SAASuc,EAAQtP,EAAGmP,EAAGC,GAGnB,OAFGA,EAAI,IAAGA,GAAK,GACZA,EAAI,IAAGA,GAAK,GACZA,EAAI,EAAE,EAAUpP,EAAc,GAATmP,EAAInP,GAASoP,EAClCA,EAAI,GAAYD,EAChBC,EAAI,EAAE,EAAUpP,GAAKmP,EAAInP,IAAM,EAAE,EAAIoP,GAAK,EACtCpP,EAGX,GAbAwH,EAAIuH,EAAQvH,EAAG,KACfC,EAAIsH,EAAQtH,EAAG,KACflH,EAAIwO,EAAQxO,EAAG,KAWN,IAANkH,EACCsG,EAAIC,EAAIjb,EAAIwN,MAEX,CACD,IAAI4O,EAAI5O,EAAI,GAAMA,GAAK,EAAIkH,GAAKlH,EAAIkH,EAAIlH,EAAIkH,EACxCzH,EAAI,EAAIO,EAAI4O,EAChBpB,EAAIuB,EAAQtP,EAAGmP,EAAG3H,EAAI,EAAE,GACxBwG,EAAIsB,EAAQtP,EAAGmP,EAAG3H,GAClBzU,EAAIuc,EAAQtP,EAAGmP,EAAG3H,EAAI,EAAE,GAG5B,MAAO,CAAEuG,EAAO,IAAJA,EAASC,EAAO,IAAJA,EAASjb,EAAO,IAAJA,GA3BxC,CA7E2BoK,EAAMqK,EAAGrK,EAAMsK,EAAGtK,EAAMoD,GACvC0N,KACApG,EAAS,OAGT1K,EAAM/f,eAAe,OACrB0V,EAAIqK,EAAMrK,IAIlBA,EAAIyc,EAAWzc,GAER,CACHmb,GAAIA,EACJpG,OAAQ1K,EAAM0K,QAAUA,EACxBkG,EAAGJ,EAAQ,IAAKC,EAAQ1I,EAAI6I,EAAG,IAC/BC,EAAGL,EAAQ,IAAKC,EAAQ1I,EAAI8I,EAAG,IAC/Bjb,EAAG4a,EAAQ,IAAKC,EAAQ1I,EAAInS,EAAG,IAC/BD,EAAGA,GA7CX,CAhQyBqK,GACrBld,KAAKuvB,eAAiBrS,EACtBld,KAAKwvB,GAAKvK,EAAI6I,EACd9tB,KAAKyvB,GAAKxK,EAAI8I,EACd/tB,KAAK0vB,GAAKzK,EAAInS,EACd9S,KAAK2vB,GAAK1K,EAAIpS,EACd7S,KAAK4vB,QAAUnC,EAAU,IAAOztB,KAAK2vB,IAAM,IAC3C3vB,KAAK6vB,QAAU7P,EAAK4H,QAAU3C,EAAI2C,OAClC5nB,KAAK8vB,cAAgB9P,EAAKyI,aAMtBzoB,KAAKwvB,GAAK,IAAKxvB,KAAKwvB,GAAK/B,EAAUztB,KAAKwvB,KACxCxvB,KAAKyvB,GAAK,IAAKzvB,KAAKyvB,GAAKhC,EAAUztB,KAAKyvB,KACxCzvB,KAAK0vB,GAAK,IAAK1vB,KAAK0vB,GAAKjC,EAAUztB,KAAK0vB,KAE5C1vB,KAAK+vB,IAAM9K,EAAI+I,GACfhuB,KAAKgwB,OAASzC,KAsTlB,SAAS0C,EAASnC,EAAGC,EAAGjb,GAEpBgb,EAAIgB,EAAQhB,EAAG,KACfC,EAAIe,EAAQf,EAAG,KACfjb,EAAIgc,EAAQhc,EAAG,KAEf,IACIyU,EAAGC,EADHxY,EAAM2e,EAAQG,EAAGC,EAAGjb,GAAIzC,EAAMqd,EAAQI,EAAGC,EAAGjb,GACtCwN,GAAKtR,EAAMqB,GAAO,EAE5B,GAAGrB,GAAOqB,EACNkX,EAAIC,EAAI,MAEP,CACD,IAAI0I,EAAIlhB,EAAMqB,EAEd,OADAmX,EAAIlH,EAAI,GAAM4P,GAAK,EAAIlhB,EAAMqB,GAAO6f,GAAKlhB,EAAMqB,GACxCrB,GACH,KAAK8e,EAAGvG,GAAKwG,EAAIjb,GAAKod,GAAKnC,EAAIjb,EAAI,EAAI,GAAI,MAC3C,KAAKib,EAAGxG,GAAKzU,EAAIgb,GAAKoC,EAAI,EAAG,MAC7B,KAAKpd,EAAGyU,GAAKuG,EAAIC,GAAKmC,EAAI,EAG9B3I,GAAK,EAGT,MAAO,CAAEA,EAAGA,EAAGC,EAAGA,EAAGlH,EAAGA,GAyC5B,SAAS6P,EAASrC,EAAGC,EAAGjb,GAEpBgb,EAAIgB,EAAQhB,EAAG,KACfC,EAAIe,EAAQf,EAAG,KACfjb,EAAIgc,EAAQhc,EAAG,KAEf,IACIyU,EAAGC,EADHxY,EAAM2e,EAAQG,EAAGC,EAAGjb,GAAIzC,EAAMqd,EAAQI,EAAGC,EAAGjb,GACtC2U,EAAIzY,EAEVkhB,EAAIlhB,EAAMqB,EAGd,GAFAmX,EAAY,IAARxY,EAAY,EAAIkhB,EAAIlhB,EAErBA,GAAOqB,EACNkX,EAAI,MAEH,CACD,OAAOvY,GACH,KAAK8e,EAAGvG,GAAKwG,EAAIjb,GAAKod,GAAKnC,EAAIjb,EAAI,EAAI,GAAI,MAC3C,KAAKib,EAAGxG,GAAKzU,EAAIgb,GAAKoC,EAAI,EAAG,MAC7B,KAAKpd,EAAGyU,GAAKuG,EAAIC,GAAKmC,EAAI,EAE9B3I,GAAK,EAET,MAAO,CAAEA,EAAGA,EAAGC,EAAGA,EAAGC,EAAGA,GA8B5B,SAAS2I,EAAStC,EAAGC,EAAGjb,EAAGud,GAEvB,IAAIC,EAAM,CACNC,EAAK9C,EAAUK,GAAGrqB,SAAS,KAC3B8sB,EAAK9C,EAAUM,GAAGtqB,SAAS,KAC3B8sB,EAAK9C,EAAU3a,GAAGrP,SAAS,MAI/B,OAAI4sB,GAAcC,EAAI,GAAGrsB,OAAO,IAAMqsB,EAAI,GAAGrsB,OAAO,IAAMqsB,EAAI,GAAGrsB,OAAO,IAAMqsB,EAAI,GAAGrsB,OAAO,IAAMqsB,EAAI,GAAGrsB,OAAO,IAAMqsB,EAAI,GAAGrsB,OAAO,GACzHqsB,EAAI,GAAGrsB,OAAO,GAAKqsB,EAAI,GAAGrsB,OAAO,GAAKqsB,EAAI,GAAGrsB,OAAO,GAGxDqsB,EAAI3Q,KAAK,IAMhB,SAAS6Q,EAAU1C,EAAGC,EAAGjb,EAAGD,GAExB,IAofqBqd,EA7erB,MAPU,CACNK,GAmfiBL,EAnfQrd,EAof1BhH,KAAKc,MAAsB,IAAhBoB,WAAWmiB,IAAUzsB,SAAS,MAnfxC8sB,EAAK9C,EAAUK,GAAGrqB,SAAS,KAC3B8sB,EAAK9C,EAAUM,GAAGtqB,SAAS,KAC3B8sB,EAAK9C,EAAU3a,GAAGrP,SAAS,MAGpBkc,KAAK,IAuBxB,SAAS8Q,EAAWvT,EAAOwT,GACvBA,EAAqB,IAAXA,EAAgB,EAAKA,GAAU,GACzC,IAAIpC,EAAMnO,EAAUjD,GAAOmD,QAG3B,OAFAiO,EAAI9G,GAAKkJ,EAAS,IAClBpC,EAAI9G,EAAImJ,EAAQrC,EAAI9G,GACbrH,EAAUmO,GAGrB,SAASsC,EAAS1T,EAAOwT,GACrBA,EAAqB,IAAXA,EAAgB,EAAKA,GAAU,GACzC,IAAIpC,EAAMnO,EAAUjD,GAAOmD,QAG3B,OAFAiO,EAAI9G,GAAKkJ,EAAS,IAClBpC,EAAI9G,EAAImJ,EAAQrC,EAAI9G,GACbrH,EAAUmO,GAGrB,SAASuC,EAAU3T,GACf,OAAOiD,EAAUjD,GAAOuT,WAAW,KAGvC,SAASK,EAAS5T,EAAOwT,GACrBA,EAAqB,IAAXA,EAAgB,EAAKA,GAAU,GACzC,IAAIpC,EAAMnO,EAAUjD,GAAOmD,QAG3B,OAFAiO,EAAIhO,GAAKoQ,EAAS,IAClBpC,EAAIhO,EAAIqQ,EAAQrC,EAAIhO,GACbH,EAAUmO,GAGrB,SAASyC,EAAS7T,EAAOwT,GACrBA,EAAqB,IAAXA,EAAgB,EAAKA,GAAU,GACzC,IAAIzL,EAAM9E,EAAUjD,GAAOoL,QAI3B,OAHArD,EAAI6I,EAAIH,EAAQ,EAAGD,EAAQ,IAAKzI,EAAI6I,EAAIL,GAAmBiD,EAAS,IAAlB,OAClDzL,EAAI8I,EAAIJ,EAAQ,EAAGD,EAAQ,IAAKzI,EAAI8I,EAAIN,GAAmBiD,EAAS,IAAlB,OAClDzL,EAAInS,EAAI6a,EAAQ,EAAGD,EAAQ,IAAKzI,EAAInS,EAAI2a,GAAmBiD,EAAS,IAAlB,OAC3CvQ,EAAU8E,GAGrB,SAAS+L,EAAQ9T,EAAOwT,GACpBA,EAAqB,IAAXA,EAAgB,EAAKA,GAAU,GACzC,IAAIpC,EAAMnO,EAAUjD,GAAOmD,QAG3B,OAFAiO,EAAIhO,GAAKoQ,EAAS,IAClBpC,EAAIhO,EAAIqQ,EAAQrC,EAAIhO,GACbH,EAAUmO,GAKrB,SAAS2C,EAAK/T,EAAOwT,GACjB,IAAIpC,EAAMnO,EAAUjD,GAAOmD,QACvB6Q,GAAOzD,EAAUa,EAAI/G,GAAKmJ,GAAU,IAExC,OADApC,EAAI/G,EAAI2J,EAAM,EAAI,IAAMA,EAAMA,EACvB/Q,EAAUmO,GAQrB,SAAS6C,EAAWjU,GAChB,IAAIoR,EAAMnO,EAAUjD,GAAOmD,QAE3B,OADAiO,EAAI/G,GAAK+G,EAAI/G,EAAI,KAAO,IACjBpH,EAAUmO,GAGrB,SAAS8C,EAAMlU,GACX,IAAIoR,EAAMnO,EAAUjD,GAAOmD,QACvBkH,EAAI+G,EAAI/G,EACZ,MAAO,CACHpH,EAAUjD,GACViD,EAAU,CAAEoH,GAAIA,EAAI,KAAO,IAAKC,EAAG8G,EAAI9G,EAAGlH,EAAGgO,EAAIhO,IACjDH,EAAU,CAAEoH,GAAIA,EAAI,KAAO,IAAKC,EAAG8G,EAAI9G,EAAGlH,EAAGgO,EAAIhO,KAIzD,SAAS+Q,EAAOnU,GACZ,IAAIoR,EAAMnO,EAAUjD,GAAOmD,QACvBkH,EAAI+G,EAAI/G,EACZ,MAAO,CACHpH,EAAUjD,GACViD,EAAU,CAAEoH,GAAIA,EAAI,IAAM,IAAKC,EAAG8G,EAAI9G,EAAGlH,EAAGgO,EAAIhO,IAChDH,EAAU,CAAEoH,GAAIA,EAAI,KAAO,IAAKC,EAAG8G,EAAI9G,EAAGlH,EAAGgO,EAAIhO,IACjDH,EAAU,CAAEoH,GAAIA,EAAI,KAAO,IAAKC,EAAG8G,EAAI9G,EAAGlH,EAAGgO,EAAIhO,KAIzD,SAASgR,EAAgBpU,GACrB,IAAIoR,EAAMnO,EAAUjD,GAAOmD,QACvBkH,EAAI+G,EAAI/G,EACZ,MAAO,CACHpH,EAAUjD,GACViD,EAAU,CAAEoH,GAAIA,EAAI,IAAM,IAAKC,EAAG8G,EAAI9G,EAAGlH,EAAGgO,EAAIhO,IAChDH,EAAU,CAAEoH,GAAIA,EAAI,KAAO,IAAKC,EAAG8G,EAAI9G,EAAGlH,EAAGgO,EAAIhO,KAIzD,SAASiR,EAAUrU,EAAOsU,EAASC,GAC/BD,EAAUA,GAAW,EACrBC,EAASA,GAAU,GAEnB,IAAInD,EAAMnO,EAAUjD,GAAOmD,QACvBqR,EAAO,IAAMD,EACbE,EAAM,CAACxR,EAAUjD,IAErB,IAAKoR,EAAI/G,GAAM+G,EAAI/G,GAAKmK,EAAOF,GAAW,GAAM,KAAO,MAAOA,GAC1DlD,EAAI/G,GAAK+G,EAAI/G,EAAImK,GAAQ,IACzBC,EAAIzvB,KAAKie,EAAUmO,IAEvB,OAAOqD,EAGX,SAASC,EAAc1U,EAAOsU,GAC1BA,EAAUA,GAAW,EAMrB,IALA,IAAIhD,EAAMrO,EAAUjD,GAAOoK,QACvBC,EAAIiH,EAAIjH,EAAGC,EAAIgH,EAAIhH,EAAGC,EAAI+G,EAAI/G,EAC9BkK,EAAM,GACNE,EAAe,EAAIL,EAEhBA,KACHG,EAAIzvB,KAAKie,EAAU,CAAEoH,EAAGA,EAAGC,EAAGA,EAAGC,EAAGA,KACpCA,GAAKA,EAAIoK,GAAgB,EAG7B,OAAOF,EAvlBXxR,EAAUljB,UAAY,CAClB60B,OAAQ,WACJ,OAAO9xB,KAAK+xB,gBAAkB,KAElCC,QAAS,WACL,OAAQhyB,KAAK8xB,UAEjBzL,QAAS,WACL,OAAOrmB,KAAK+vB,KAEhBkC,iBAAkB,WAChB,OAAOjyB,KAAKuvB,gBAEd7H,UAAW,WACP,OAAO1nB,KAAK6vB,SAEhBqC,SAAU,WACN,OAAOlyB,KAAK2vB,IAEhBoC,cAAe,WACX,IAAI9M,EAAMjlB,KAAKsoB,QACf,OAAgB,IAARrD,EAAI6I,EAAkB,IAAR7I,EAAI8I,EAAkB,IAAR9I,EAAInS,GAAW,KAEvDqf,SAAU,SAASvzB,GAGf,OAFAoB,KAAK2vB,GAAKL,EAAW1wB,GACrBoB,KAAK4vB,QAAUnC,EAAU,IAAOztB,KAAK2vB,IAAM,IACpC3vB,MAEXsnB,MAAO,WACH,IAAIkH,EAAM2B,EAASnwB,KAAKwvB,GAAIxvB,KAAKyvB,GAAIzvB,KAAK0vB,IAC1C,MAAO,CAAEnI,EAAW,IAARiH,EAAIjH,EAASC,EAAGgH,EAAIhH,EAAGC,EAAG+G,EAAI/G,EAAG5U,EAAG7S,KAAK2vB,KAEzDyC,YAAa,WACT,IAAI5D,EAAM2B,EAASnwB,KAAKwvB,GAAIxvB,KAAKyvB,GAAIzvB,KAAK0vB,IACtCnI,EAAIkG,EAAkB,IAARe,EAAIjH,GAAUC,EAAIiG,EAAkB,IAARe,EAAIhH,GAAUC,EAAIgG,EAAkB,IAARe,EAAI/G,GAC9E,OAAmB,GAAXznB,KAAK2vB,GACX,OAAUpI,EAAI,KAAOC,EAAI,MAAQC,EAAI,KACrC,QAAUF,EAAI,KAAOC,EAAI,MAAQC,EAAI,MAAOznB,KAAK4vB,QAAU,KAEjEvP,MAAO,WACH,IAAIiO,EAAM2B,EAASjwB,KAAKwvB,GAAIxvB,KAAKyvB,GAAIzvB,KAAK0vB,IAC1C,MAAO,CAAEnI,EAAW,IAAR+G,EAAI/G,EAASC,EAAG8G,EAAI9G,EAAGlH,EAAGgO,EAAIhO,EAAGzN,EAAG7S,KAAK2vB,KAEzD0C,YAAa,WACT,IAAI/D,EAAM2B,EAASjwB,KAAKwvB,GAAIxvB,KAAKyvB,GAAIzvB,KAAK0vB,IACtCnI,EAAIkG,EAAkB,IAARa,EAAI/G,GAAUC,EAAIiG,EAAkB,IAARa,EAAI9G,GAAUlH,EAAImN,EAAkB,IAARa,EAAIhO,GAC9E,OAAmB,GAAXtgB,KAAK2vB,GACX,OAAUpI,EAAI,KAAOC,EAAI,MAAQlH,EAAI,KACrC,QAAUiH,EAAI,KAAOC,EAAI,MAAQlH,EAAI,MAAOtgB,KAAK4vB,QAAU,KAEjE0C,MAAO,SAASjC,GACZ,OAAOD,EAASpwB,KAAKwvB,GAAIxvB,KAAKyvB,GAAIzvB,KAAK0vB,GAAIW,IAE/CrI,YAAa,SAASqI,GAClB,MAAO,IAAMrwB,KAAKsyB,MAAMjC,IAE5BkC,OAAQ,WACJ,OAAO/B,EAAUxwB,KAAKwvB,GAAIxvB,KAAKyvB,GAAIzvB,KAAK0vB,GAAI1vB,KAAK2vB,KAErD6C,aAAc,WACV,MAAO,IAAMxyB,KAAKuyB,UAEtBjK,MAAO,WACH,MAAO,CAAEwF,EAAGL,EAAUztB,KAAKwvB,IAAKzB,EAAGN,EAAUztB,KAAKyvB,IAAK3c,EAAG2a,EAAUztB,KAAK0vB,IAAK7c,EAAG7S,KAAK2vB,KAE1FjP,YAAa,WACT,OAAmB,GAAX1gB,KAAK2vB,GACX,OAAUlC,EAAUztB,KAAKwvB,IAAM,KAAO/B,EAAUztB,KAAKyvB,IAAM,KAAOhC,EAAUztB,KAAK0vB,IAAM,IACvF,QAAUjC,EAAUztB,KAAKwvB,IAAM,KAAO/B,EAAUztB,KAAKyvB,IAAM,KAAOhC,EAAUztB,KAAK0vB,IAAM,KAAO1vB,KAAK4vB,QAAU,KAEnH6C,gBAAiB,WACb,MAAO,CAAE3E,EAAGL,EAAkC,IAAxBqB,EAAQ9uB,KAAKwvB,GAAI,MAAc,IAAKzB,EAAGN,EAAkC,IAAxBqB,EAAQ9uB,KAAKyvB,GAAI,MAAc,IAAK3c,EAAG2a,EAAkC,IAAxBqB,EAAQ9uB,KAAK0vB,GAAI,MAAc,IAAK7c,EAAG7S,KAAK2vB,KAExK+C,sBAAuB,WACnB,OAAmB,GAAX1yB,KAAK2vB,GACX,OAAUlC,EAAkC,IAAxBqB,EAAQ9uB,KAAKwvB,GAAI,MAAc,MAAQ/B,EAAkC,IAAxBqB,EAAQ9uB,KAAKyvB,GAAI,MAAc,MAAQhC,EAAkC,IAAxBqB,EAAQ9uB,KAAK0vB,GAAI,MAAc,KACrJ,QAAUjC,EAAkC,IAAxBqB,EAAQ9uB,KAAKwvB,GAAI,MAAc,MAAQ/B,EAAkC,IAAxBqB,EAAQ9uB,KAAKyvB,GAAI,MAAc,MAAQhC,EAAkC,IAAxBqB,EAAQ9uB,KAAK0vB,GAAI,MAAc,MAAQ1vB,KAAK4vB,QAAU,KAElL+C,OAAQ,WACJ,OAAgB,IAAZ3yB,KAAK2vB,GACE,gBAGP3vB,KAAK2vB,GAAK,KAIPiD,EAASxC,EAASpwB,KAAKwvB,GAAIxvB,KAAKyvB,GAAIzvB,KAAK0vB,cAEpD/O,SAAU,SAASkS,GACf,IAAIC,EAAa,IAAMtC,EAAUxwB,KAAKwvB,GAAIxvB,KAAKyvB,GAAIzvB,KAAK0vB,GAAI1vB,KAAK2vB,IAC7DoD,EAAmBD,EACnBrK,EAAezoB,KAAK8vB,cAAgB,qBAAuB,GAO/D,OALI+C,IAEAE,EADQ5S,EAAU0S,GACGL,gBAGlB,8CAA8C/J,EAAa,iBAAiBqK,EAAW,gBAAgBC,EAAiB,KAEnItvB,SAAU,SAASmkB,GACf,IAAIoL,IAAcpL,EAClBA,EAASA,GAAU5nB,KAAK6vB,QAExB,IAAIrP,KACAyS,EAAWjzB,KAAK2vB,GAAK,GAAK3vB,KAAK2vB,IAAM,EAGzC,OAFwBqD,IAAaC,GAAwB,QAAXrL,GAA+B,SAAXA,GAAgC,SAAXA,GAAgC,SAAXA,GAUjG,QAAXA,IACApH,EAAkBxgB,KAAK0gB,eAEZ,SAAXkH,IACApH,EAAkBxgB,KAAK0yB,yBAEZ,QAAX9K,GAA+B,SAAXA,IACpBpH,EAAkBxgB,KAAKgoB,eAEZ,SAAXJ,IACApH,EAAkBxgB,KAAKgoB,iBAEZ,SAAXJ,IACApH,EAAkBxgB,KAAKwyB,gBAEZ,SAAX5K,IACApH,EAAkBxgB,KAAK2yB,UAEZ,QAAX/K,IACApH,EAAkBxgB,KAAKqyB,eAEZ,QAAXzK,IACApH,EAAkBxgB,KAAKoyB,eAGpB5R,GAAmBxgB,KAAKgoB,eA9BZ,SAAXJ,GAAiC,IAAZ5nB,KAAK2vB,GACnB3vB,KAAK2yB,SAET3yB,KAAK0gB,eA8BpBwS,mBAAoB,SAASzzB,EAAIoL,GAC7B,IAAIqS,EAAQzd,EAAGgiB,MAAM,KAAM,CAACzhB,MAAMuJ,OAAO,GAAGrF,MAAMvE,KAAKkL,KAKvD,OAJA7K,KAAKwvB,GAAKtS,EAAMsS,GAChBxvB,KAAKyvB,GAAKvS,EAAMuS,GAChBzvB,KAAK0vB,GAAKxS,EAAMwS,GAChB1vB,KAAKmyB,SAASjV,EAAMyS,IACb3vB,MAEX8wB,QAAS,WACL,OAAO9wB,KAAKkzB,mBAAmBpC,EAASlmB,YAE5CmmB,SAAU,WACN,OAAO/wB,KAAKkzB,mBAAmBnC,EAAUnmB,YAE7ComB,OAAQ,WACJ,OAAOhxB,KAAKkzB,mBAAmBlC,EAAQpmB,YAE3C6lB,WAAY,WACR,OAAOzwB,KAAKkzB,mBAAmBzC,EAAY7lB,YAE/CgmB,SAAU,WACN,OAAO5wB,KAAKkzB,mBAAmBtC,EAAUhmB,YAE7CimB,UAAW,WACP,OAAO7wB,KAAKkzB,mBAAmBrC,EAAWjmB,YAE9CqmB,KAAM,WACF,OAAOjxB,KAAKkzB,mBAAmBjC,EAAMrmB,YAGzCuoB,kBAAmB,SAAS1zB,EAAIoL,GAC5B,OAAOpL,EAAGgiB,MAAM,KAAM,CAACzhB,MAAMuJ,OAAO,GAAGrF,MAAMvE,KAAKkL,MAEtD0mB,UAAW,WACP,OAAOvxB,KAAKmzB,kBAAkB5B,EAAW3mB,YAE7CumB,WAAY,WACR,OAAOnxB,KAAKmzB,kBAAkBhC,EAAYvmB,YAE9CgnB,cAAe,WACX,OAAO5xB,KAAKmzB,kBAAkBvB,EAAehnB,YAEjD0mB,gBAAiB,WACb,OAAOtxB,KAAKmzB,kBAAkB7B,EAAiB1mB,YAEnDwmB,MAAO,WACH,OAAOpxB,KAAKmzB,kBAAkB/B,EAAOxmB,YAEzCymB,OAAQ,WACJ,OAAOrxB,KAAKmzB,kBAAkB9B,EAAQzmB,aAM9CuV,EAAUwH,UAAY,SAASzK,EAAO8C,GAClC,GAAoB,iBAAT9C,EAAmB,CAC1B,IAAIkK,EAAW,GACf,IAAK,IAAI1kB,KAAKwa,EACNA,EAAM/f,eAAeuF,KAEjB0kB,EAAS1kB,GADH,MAANA,EACcwa,EAAMxa,GAGNssB,EAAoB9R,EAAMxa,KAIpDwa,EAAQkK,EAGZ,OAAOjH,EAAUjD,EAAO8C,IAkP5BG,EAAUI,OAAS,SAAU6S,EAAQC,GACjC,SAAKD,IAAWC,IACTlT,EAAUiT,GAAQ1S,eAAiBP,EAAUkT,GAAQ3S,eAEhEP,EAAU0N,OAAS,WACf,OAAO1N,EAAUwH,UAAU,CACvBmG,EAAGF,IACHG,EAAGH,IACH9a,EAAG8a,OA2IXzN,EAAUmT,IAAM,SAASF,EAAQC,EAAQ3C,GACrCA,EAAqB,IAAXA,EAAgB,EAAKA,GAAU,GAEzC,IAOI6C,EAPAC,EAAOrT,EAAUiT,GAAQ9K,QACzBmL,EAAOtT,EAAUkT,GAAQ/K,QAEzBvI,EAAI2Q,EAAS,IACbgD,EAAQ,EAAJ3T,EAAQ,EACZlN,EAAI4gB,EAAK5gB,EAAI2gB,EAAK3gB,EAYlB8gB,EAAK,GAFTJ,IALIA,EADAG,EAAI7gB,IAAM,EACL6gB,GAECA,EAAI7gB,IAAM,EAAI6gB,EAAI7gB,IAGjB,GAAK,GAIZwb,EAAO,CACPP,EAAG2F,EAAK3F,EAAIyF,EAAKC,EAAK1F,EAAI6F,EAC1B5F,EAAG0F,EAAK1F,EAAIwF,EAAKC,EAAKzF,EAAI4F,EAC1B7gB,EAAG2gB,EAAK3gB,EAAIygB,EAAKC,EAAK1gB,EAAI6gB,EAC1B9gB,EAAG4gB,EAAK5gB,EAAIkN,EAAKyT,EAAK3gB,GAAK,EAAIkN,IAGnC,OAAOI,EAAUkO,IAYrBlO,EAAUyT,YAAc,SAASR,EAAQC,GACrC,IAAIQ,EAAK1T,EAAUiT,GACfU,EAAK3T,EAAUkT,GACfG,EAAOK,EAAGvL,QACVmL,EAAOK,EAAGxL,QACVyL,EAAcF,EAAG9B,gBACjBiC,EAAcF,EAAG/B,gBACjBkC,EACApoB,KAAKmD,IAAIwkB,EAAK1F,EAAG2F,EAAK3F,GAAKjiB,KAAKwE,IAAImjB,EAAK1F,EAAG2F,EAAK3F,GACjDjiB,KAAKmD,IAAIwkB,EAAKzF,EAAG0F,EAAK1F,GAAKliB,KAAKwE,IAAImjB,EAAKzF,EAAG0F,EAAK1F,GACjDliB,KAAKmD,IAAIwkB,EAAK1gB,EAAG2gB,EAAK3gB,GAAKjH,KAAKwE,IAAImjB,EAAK1gB,EAAG2gB,EAAK3gB,GAGrD,MAAO,CACHohB,WAAYroB,KAAK8d,IAAIoK,EAAcC,GACnC9W,MAAO+W,IASf9T,EAAUgU,WAAa,SAASf,EAAQC,GACpC,IAAIO,EAAczT,EAAUyT,YAAYR,EAAQC,GAChD,OAAOO,EAAYM,WAAa,KAAON,EAAY1W,MAAQ,KAQ/DiD,EAAUiU,aAAe,SAASC,EAAWC,GAIzC,IAHA,IAAIC,EAAY,KACZC,EAAY,EACZC,KACK/xB,EAAE,EAAGA,EAAI4xB,EAAU7xB,OAAQC,IAAK,CAKrC,IAAIkxB,EAAczT,EAAUyT,YAAYS,EAAWC,EAAU5xB,IACzDgyB,EAAWd,EAAYM,WAAa,KAAON,EAAY1W,MAAQ,IAC/DyX,EAAaf,EAAYM,WAAa,IAA9B,EAAsCN,EAAY1W,MAAQ,KAEjEwX,IAAcD,GACdC,GAAYD,GAAkBE,EAAQH,IACnCE,IAAgBD,GAAmBE,EAAQH,KAC/CC,EAAiBC,EACjBF,EAAYG,EACZJ,EAAYpU,EAAUmU,EAAU5xB,KAGxC,OAAO6xB,GAOX,IAAIpG,EAAQhO,EAAUgO,MAAQ,CAC1ByG,UAAW,SACXC,aAAc,SACdC,KAAM,MACNC,WAAY,SACZC,MAAO,SACPC,MAAO,SACPC,OAAQ,SACRC,MAAO,MACPC,eAAgB,SAChBC,KAAM,MACNC,WAAY,SACZC,MAAO,SACPC,UAAW,SACXC,YAAa,SACbC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,MAAO,SACPC,eAAgB,SAChBC,SAAU,SACVC,QAAS,SACTC,KAAM,MACNC,SAAU,SACVC,SAAU,SACVC,cAAe,SACfC,SAAU,SACVC,UAAW,SACXC,SAAU,SACVC,UAAW,SACXC,YAAa,SACbC,eAAgB,SAChBC,WAAY,SACZC,WAAY,SACZC,QAAS,SACTC,WAAY,SACZC,aAAc,SACdC,cAAe,SACfC,cAAe,SACfC,cAAe,SACfC,cAAe,SACfC,WAAY,SACZC,SAAU,SACVC,YAAa,SACbC,QAAS,SACTC,QAAS,SACTC,WAAY,SACZC,UAAW,SACXC,YAAa,SACbC,YAAa,SACbC,QAAS,MACTC,UAAW,SACXC,WAAY,SACZC,KAAM,SACNC,UAAW,SACXC,KAAM,SACNC,MAAO,SACPC,YAAa,SACbC,KAAM,SACNC,SAAU,SACVC,QAAS,SACTC,UAAW,SACXC,OAAQ,SACRC,MAAO,SACPC,MAAO,SACPC,SAAU,SACVC,cAAe,SACfC,UAAW,SACXC,aAAc,SACdC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,qBAAsB,SACtBC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,UAAW,SACXC,YAAa,SACbC,cAAe,SACfC,aAAc,SACdC,eAAgB,MAChBC,eAAgB,MAChBC,eAAgB,SAChBC,YAAa,SACbC,KAAM,MACNC,UAAW,SACXC,MAAO,SACPC,QAAS,MACTC,OAAQ,SACRC,iBAAkB,SAClBC,WAAY,SACZC,aAAc,SACdC,aAAc,SACdC,eAAgB,SAChBC,gBAAiB,SACjBC,kBAAmB,SACnBC,gBAAiB,SACjBC,gBAAiB,SACjBC,aAAc,SACdC,UAAW,SACXC,UAAW,SACXC,SAAU,SACVC,YAAa,SACbC,KAAM,SACNC,QAAS,SACTC,MAAO,SACPC,UAAW,SACXC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACRC,cAAe,SACfC,UAAW,SACXC,cAAe,SACfC,cAAe,SACfC,WAAY,SACZC,UAAW,SACXC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,WAAY,SACZC,OAAQ,SACRC,cAAe,SACfC,IAAK,MACLC,UAAW,SACXC,UAAW,SACXC,YAAa,SACbC,OAAQ,SACRC,WAAY,SACZC,SAAU,SACVC,SAAU,SACVC,OAAQ,SACRC,OAAQ,SACRC,QAAS,SACTC,UAAW,SACXC,UAAW,SACXC,UAAW,SACXC,KAAM,SACNC,YAAa,SACbC,UAAW,SACXC,IAAK,SACLC,KAAM,SACNC,QAAS,SACTC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACRC,MAAO,SACPC,MAAO,MACPC,WAAY,SACZC,OAAQ,MACRC,YAAa,UAIbpL,EAAWzS,EAAUyS,SAOzB,SAAc7R,GACV,IAAIkd,EAAU,GACd,IAAK,IAAIv7B,KAAKqe,EACNA,EAAE5jB,eAAeuF,KACjBu7B,EAAQld,EAAEre,IAAMA,GAGxB,OAAOu7B,EAPX,CAPyC9P,GAkBzC,SAASmB,EAAWzc,GAOhB,OANAA,EAAI9E,WAAW8E,IAEXrQ,MAAMqQ,IAAMA,EAAI,GAAKA,EAAI,KACzBA,EAAI,GAGDA,EAIX,SAASic,EAAQoP,EAAGlvB,aAgCIkvB,GACpB,MAAmB,iBAALA,IAAoC,GAAnBA,EAAE/0B,QAAQ,MAAgC,IAAlB4E,WAAWmwB,KAhC/CA,KAAMA,EAAI,QAE7B,IAAIC,EAkCR,SAAsBD,GAClB,MAAoB,iBAANA,IAAqC,GAAnBA,EAAE/0B,QAAQ,KAD9C,CAlCsC+0B,GASlC,OARAA,EAAIxQ,EAAQ1e,EAAK2e,EAAQ,EAAG5f,WAAWmwB,KAGnCC,IACAD,EAAIE,SAASF,EAAIlvB,EAAK,IAAM,KAI3Bwe,EAAK7D,IAAIuU,EAAIlvB,GAAO,KACd,EAIHkvB,EAAIlvB,EAAOjB,WAAWiB,GAIlC,SAAS2hB,EAAQlM,GACb,OAAOiJ,EAAQ,EAAGC,EAAQ,EAAGlJ,IAIjC,SAASkK,EAAgBlK,GACrB,OAAO2Z,SAAS3Z,EAAK,IAezB,SAAS8L,EAAKnQ,GACV,OAAmB,GAAZA,EAAE3d,OAAc,IAAM2d,EAAI,GAAKA,EAI1C,SAAS4O,EAAoBkP,GAKzB,OAJIA,GAAK,IACLA,EAAS,IAAJA,EAAW,KAGbA,EAYX,IASQG,EAKAC,EACAC,EAfJnQ,GAcIkQ,EAAoB,eALpBD,EAAW,8CAKoC,aAAeA,EAAW,aAAeA,EAAW,YACnGE,EAAoB,cAAgBF,EAAW,aAAeA,EAAW,aAAeA,EAAW,aAAeA,EAAW,YAE1H,CACHpZ,IAAK,IAAIuZ,OAAO,MAAQF,GACxBjQ,KAAM,IAAImQ,OAAO,OAASD,GAC1BjQ,IAAK,IAAIkQ,OAAO,MAAQF,GACxB/P,KAAM,IAAIiQ,OAAO,OAASD,GAC1B/P,IAAK,IAAIgQ,OAAO,MAAQF,GACxB7P,KAAM,IAAI+P,OAAO,OAASD,GAC1B1P,KAAM,qDACND,KAAM,qDACNF,KAAM,uEAuEdroB,OAAO8Z,UAAYA,EA1kCnB,GA6kCA1D,cACQA,EAAEhd,GAAGqhB,SAAS8L,MACdnQ,EAAEhd,GAAGqhB,SAASqM,8BA/wEvB,CAL8BsR,MCVjC,SAAUhiB,OACAiiB,EAAU,CACNC,mBAAUC,iIAAKp/B,iCAAO,MAAO+V,2CAIZkH,EAAEoiB,KAAK,CAClBD,IAAAA,EACAp/B,KAAAA,EACA+V,KAAAA,WAHJxU,yDAMA+9B,QAAQ39B,6CAGLJ,+DAGLg+B,0JACgBC,EAAKL,UAAU,4CAA3BM,2BAECA,EAAIpgB,uDAGTqgB,0BAAiBj8B,wHACbsS,EAAO,CACTtS,KAAAA,YAGSk8B,EAAKR,UAAU,gCAAiC,OAAQppB,yFAGnE6pB,uBAAchU,EAAIiU,wHACd9pB,EAAO,CACT+pB,WAAYlU,EACZmU,aAAcF,EAAOE,aACrBC,SAAUH,EAAOG,mBAGRC,EAAKd,UAAU,gCAAiC,OAAQppB,yFAGnEmqB,uBAActU,wHACV7V,EAAO,CACT+pB,WAAYlU,YAGHuU,EAAKhB,UAAU,gCAAiC,OAAQppB,0FAIvEqqB,EAAYnjB,ssIAElBA,EAAEhd,GAAGogC,aAAe,kBACT7/B,KAAKslB,eAAM5iB,EAAGo9B,OACXC,EAAStjB,EAAEqjB,GACXE,EAAoBD,EAAOjf,SAAS,aAAa7S,SACjDgyB,EAAsBxjB,EAAE,uBAAwBmjB,GAAWM,QAEjEzjB,EAAEujB,GAAmBpf,OAAOqf,OAExBE,EACAJ,EACAE,EACAL,EAAU,YAKhBO,wBACUjX,EAAOkX,EAASC,kBACnBD,QAAUA,OACVE,YAActgC,KAAKogC,QAAQG,QAAQ,mBAEnCC,eAAiB,CAClBC,6BAA8BhkB,EAAE,sCAAuC4jB,GACvEK,yBAA0BjkB,EAAE,kCAAmC4jB,GAC/DM,4BAA6BlkB,EAAE,qCAAsC4jB,GACrEO,4BAA6BnkB,EAAE,qCAAsC4jB,SAEpEQ,aAAepkB,EAAE,4BAA6Bzc,KAAKogC,QAAQ,SAC3DU,cAAgBrkB,EAAE,mBAAoBzc,KAAKogC,QAAQ,SACnDW,gBAAkBtkB,EAAE,sBAAuBzc,KAAKogC,QAAQ,SACxDY,aAAevkB,EAAE,mBAAoBzc,KAAKogC,QAAQ,SAClDa,QAAUxkB,EAAE,qBAAsBzc,KAAKogC,QAAQ,SAC/ClX,MAAQA,OACRgY,YAAchY,EAAMpI,SAAS,kBAC7BqgB,aAAe,QACfC,qBAAuB,OACvBC,mBACAC,mBAEAC,2DAIAC,oBACAC,oBACAC,kFAIAJ,OAAS7kB,EAAE,wBAAyBzc,KAAKogC,aAkBxCuB,kHACIC,EAAgBC,EAAK3Y,MAAM4Y,UAAU,OAE3CD,EAAK3Y,MAAM4Y,UAAU,MAAOF,KAExBC,EAAKE,oBAAoBC,OAAO74B,QAAQy4B,IAAkB,2DApB9DC,EAAKP,OAAOnb,YAAY,yBACxB0b,EAAKP,OAAOve,SAAS,qCACrB8e,EAAKP,OAAOW,KAAK,eACjBJ,EAAKP,OAAOhoB,KAAK,KAAK2D,OACtBR,EAAE,iBAAkBolB,EAAKP,QAAQtkB,gBAoB3B0hB,EAAQU,cAAcyC,EAAKE,oBAAoB3W,GAAI,CAAEoU,qBAAcqC,EAAKE,oBAAoBC,SAAQJ,6BACpGC,EAAKK,6BACXL,EAAKM,qBAlBLN,EAAKP,OAAOve,SAAS,yBACrB8e,EAAKP,OAAOnb,YAAY,qCACxB0b,EAAKP,OAAOW,KAAK,eACjBJ,EAAKP,OAAOhoB,KAAK,KAAK0D,OACtBP,EAAE,iBAAkBolB,EAAKP,QAAQrkB,6GAkBhCqkB,OAAO3a,GAAG,QAASgb,mEAInBS,aAAe3lB,EAAE,mBAAoBzc,KAAKghC,mBAO1CoB,aAAazb,GAAG,kBALMnB,OACjB6c,EAAU5lB,EAAE+I,EAAElc,QAAQye,IAAI,oBAChCua,EAAKpZ,MAAM4Y,UAAU,MAAOO,sDAO3BvB,cAAcyB,aAAa,CAC5BC,cACAC,iBAAkB,kEAKhBC,EAAkB1iC,KAAKkhC,YAAY,GAAG57B,6BAEvC86B,QAAQ,GAAGppB,MAAMvR,MAAQi9B,EAAgBj9B,MAAQ,+CAIjDs7B,gBAAgB9jB,YAChBgkB,QAAQjkB,iDAIRikB,QAAQhkB,OAETjd,KAAKmhC,aAAa1+B,YACbs+B,gBAAgB/jB,YAEhB+jB,gBAAgB9jB,+CAIb1H,QACP4rB,aAAe5rB,oJAIDmpB,EAAQK,0BAArBxpB,cAEDotB,gBAAgBptB,gJAIf5E,EAAU3Q,KAAKmhC,aAAa7sB,cAAIyM,iCAAsBA,EAACqK,uBAAkBrK,EAACqK,eAAUrK,EAACwe,6BAEvF5uB,EAAQlO,aACHq+B,cAAc8B,aACd9B,cAAclgB,OAAOjQ,QACrBmwB,cAAcyB,aAAa,aAC3BzB,cAAcyB,aAAa,iBAE3BzB,cAAcyB,aAAa,gEAK9BM,EAAmB7iC,KAAKkpB,MAAM3T,KAAK,6BA0BpCyrB,aAAa4B,aACb7B,gBAAgB9jB,OAEjBjd,KAAKmhC,aAAa1+B,OAAQ,KACpB2/B,EAAepiC,KAAKmhC,aAAanhC,KAAKohC,sBAAsBY,OAAO1tB,cAAK4I,EAAOjH,UAC5E4sB,EAAiBrD,SAASsD,iBAAiBnkB,WAAoBzB,EARlD+Q,MAAM,YASpB/Q,EAAQ6lB,EAAKC,iBAAiB9lB,IA9BrB,SAACA,EAAOjH,sIAEoDiH,gFACrCjH,qIAHvB,CAiCOiH,EAAOjH,WAG1B+qB,aAAapgB,OAAOwhB,QACpBpB,aAAapgB,qgBACbqiB,6BACAC,4BACAnC,gBAAgB/jB,YAChBkM,MAAM4Y,UAAU,0DAKrBqB,EACAC,EACAC,EACAC,SAEEC,EAAa,SAACC,OACVC,EAAcC,EAAKtD,QAAQ,GAAG96B,wBAC9Bq+B,EAAqBH,EAAgB,GAAGl+B,wBAE9Ck+B,EAAgB,GAAGxsB,MAAMlR,OAAS69B,EAAmBl+B,MAAQg+B,EAAYh+B,OAAS,EAAI,MAGpF+7B,EAAe,SAACoC,EAAiBJ,GACnCE,EAAKP,gBAAgBpb,IAAI,iBAAkB,YAErC8b,EAAqB,SAArBA,EAAqBre,OAClBge,EAAgB,UACjB/mB,EAAErV,UAAU8f,IAAI,QAAS2c,QACzBH,EAAKP,gBAAgBpb,IAAI,iBAAkB,OAK1Cyb,EAAgB,GAAGx1B,SAASwX,EAAElc,UAC/Bs6B,EAAgB3d,QAAQ,SACxBxJ,EAAErV,UAAU8f,IAAI,QAAS2c,GACzBH,EAAKP,gBAAgBpb,IAAI,iBAAkB,gBAInDtL,EAAErV,UAAUuf,GAAG,QAASkd,GAEjBA,GA8NXV,EAAkB1mB,EAAE,uCAAwCzc,KAAKogC,SAAS0D,QAAQ,CAC9E55B,mBAAU7L,EAAS0lC,OACTC,EAAWvnB,EAAEpW,QAAQZ,QAIvBmE,EAAW,eAHA6S,EAAEsnB,GAAQ5xB,SAKdrM,KAJU,KAIak+B,IAC9Bp6B,EAAW,QAGRA,GAEXkZ,UAAW,IAAM9iB,KAAKogC,QAAQG,QAAQ,cAAc1f,KAAK,MACzDZ,KAAM,OACNogB,SAAU,gHACV4D,QAAS,kBACExnB,EAAEinB,EAAKlD,eAAeC,8BAA8BxgB,eAI9DkjB,gBAAkBA,MAEnBe,KAEEC,EAAuB,SAAA3e,UACHA,EAAElc,OAAhBkV,eAGC,8BAzPgB,YAyCzB4kB,EAAwB3mB,EAAE,+BAA+BqnB,QAAQ,CAC7DhhB,UAAY,IAAM4gB,EAAKpD,YAAYzf,KAAK,MAAQ,wBAChD3W,UAAY,MACZ+V,QACAogB,SAAY,2GACZ4D,QAAS,kBACExnB,EAAEinB,EAAKlD,eAAeE,0BAA0BzgB,WAIzC6jB,QAAQ,QAC9BX,EAAgBW,QAAQ,YAElBN,EAAkB/mB,EAAE,iCAAiC8jB,QAAQ,YAEnEgD,EAAWC,OAELY,EAAe5C,EAAa4B,EAAuBI,IAzDxB,SAACI,EAAiBJ,EAAiBY,OAC1DrE,EAAStjB,EAAE,yBAA0B+mB,GACrCa,EAAW5nB,EAAE,uBAAwB+mB,GAE3CzD,EAAOpZ,GAAG,oBACN+c,EAAKY,sBAAsBvE,EAAQsE,MAGvCtE,EAAOpZ,GAAG,oBACN+c,EAAKa,UAAUxE,MAGnBsE,EAAS1d,GAAG,gHACJ0d,EAASpC,KAAK,gEAEZuC,IAAUd,EAAKvC,aAAa5xB,iBAAOwQ,UAAKA,EAACwf,eAAqBQ,EAAOtb,SAAOhiB,OAElFihC,EAAKP,gBAAgBpb,IAAI,iBAAkB,QAEvCyc,kBACAd,EAAKe,UAAU1E,EAAO,gDAEtBsE,EAASpC,KAAK,eAERyC,EAAc3E,EAAOtb,gBACFia,EAAQQ,iBAAiBwF,kBAA5CC,mBAEAjB,EAAKxB,8BAEXwB,EAAKkB,sBACLlB,EAAKmB,cAAcF,EAAUrF,YAC7BoE,EAAKvB,qBACLyB,EAAgB3d,QAAQ,SACxBxJ,EAAErV,UAAU8f,IAAI,QAASkd,gDAIjCrE,EAAO+E,QArCsB,CA2DR1B,EAAuBI,EAAiBY,GA5DxC,aA4PhB,6BA7LgB,YAwCzBf,EAAwB5mB,EAAE,8BAA8BqnB,QAAQ,CAC5DhhB,UAAY,IAAM4gB,EAAKpD,YAAYzf,KAAK,MAAQ,wBAChD3W,UAAY,MACZ+V,QACAogB,SAAY,2GACZ4D,QAAS,kBACExnB,EAAEinB,EAAKlD,eAAeG,6BAA6B1gB,WAI5C6jB,QAAQ,QAC9BX,EAAgBW,QAAQ,YAElBN,EAAkB/mB,EAAE,oCAAoCxO,SAASA,SAEvEs1B,EAAWC,OAELY,EAAe5C,EAAa6B,EAAuBG,IAxDrB,SAACI,EAAiBJ,EAAiBY,OAC7DrE,EAAStjB,EAAE,yBAA0B+mB,GACrCa,EAAW5nB,EAAE,uBAAwB+mB,GAE3CzD,EAAOtb,IAAIif,EAAKvC,aAAauC,EAAKtC,sBAAvB7B,cAEXQ,EAAOpZ,GAAG,oBACN+c,EAAKY,sBAAsBvE,EAAQsE,MAGvCtE,EAAOpZ,GAAG,oBACN+c,EAAKa,UAAUxE,MAGnBsE,EAAS1d,GAAG,gHACJ0d,EAASpC,KAAK,gEAEZuC,IAAUd,EAAKvC,aAAa5xB,iBAAOwQ,UAAKA,EAACwf,eAAqBQ,EAAOtb,SAAOhiB,OAElFihC,EAAKP,gBAAgBpb,IAAI,iBAAkB,QAEvCyc,kBACAd,EAAKe,UAAU1E,EAAQ,gDAEvBsE,EAASpC,KAAK,eAERyC,EAAc3E,EAAOtb,MACrBsgB,EAAYrB,EAAK3B,oBAAoB3W,aAErCsT,EAAQU,cAAc2F,EAAW,CAAExF,aAAcmF,EAAalF,SAAUkE,EAAK3B,oBAAoBC,kCACjG0B,EAAKxB,8BACXwB,EAAKkB,sBACLlB,EAAKmB,cAAcnB,EAAK3B,oBAAoB3W,IAC5CwY,EAAgB3d,QAAQ,SACxBxJ,EAAErV,UAAU8f,IAAI,QAASkd,gDAlCD,CA0DRf,EAAuBG,EAAiBY,GA3D3C,aAgMhB,2BAlIc,WACvBV,EAAK1C,aAAaje,SAAS,wBAC3BogB,EAAgBW,QAAQ,QACxBJ,EAAKrC,kBAEC2D,EAAiB,WACnBtB,EAAK1C,aAAa7a,YAAY,wBAC9Bud,EAAK1C,aAAa9Z,IAAI,SACtBzK,EAAErV,UAAU8f,IAAI,QAAS2c,GACzBH,EAAKrC,eAGHwC,EAAqB,SAAAre,GAClBke,EAAK1C,aAAa,GAAGhzB,SAASwX,EAAElc,SACjC07B,KAIFC,wCAA2Bzf,iFACxBke,EAAKrC,4DACF/3B,EAAWkc,EAAXlc,OACF47B,EAASzoB,EAAEnT,GAAQ2E,SACnBk3B,GAAc1oB,EAAEnT,GAAQuX,KAAK,cAC7BukB,EAAY,WACd1B,EAAKvC,aAAauC,EAAKtC,sBAAsBY,OAAOqD,OAAOF,EAAY,GAElEzB,EAAK3B,oBAAoBC,OAAOv/B,QACjCuiC,IAGJtG,EAAQU,cAAcsE,EAAK3B,oBAAoB3W,GAAI,CAAEoU,SAAUkE,EAAK3B,oBAAoBC,SAAU/gC,iBAC9FyiC,EAAKvB,yBAIb+C,EAAOI,QAAQ,IAAKF,oGAGxB3oB,EAAErV,UAAUuf,GAAG,QAASkd,GACxBH,EAAK1C,aAAara,GAAG,QAAS,wBAAyBse,GAvChC,aAqId,qCA3FgB,YA8BzB3B,EAAwB7mB,EAAE,sCAAsCqnB,QAAQ,CACpEhhB,UAAY,IAAM4gB,EAAKpD,YAAYzf,KAAK,MAAQ,wBAChD3W,UAAY,MACZ+V,QACAogB,SAAY,kIACZ4D,QAAS,kBACExnB,EAAEinB,EAAKlD,eAAeI,6BAA6B3gB,WAI5C6jB,QAAQ,QAC9BX,EAAgBW,QAAQ,YAElBN,EAAkB/mB,EAAE,oCAAoCxO,SAASA,SAEvEs1B,EAAWC,OAELY,EAAe5C,EAAa8B,EAAuBE,IA9CrB,SAACI,EAAiBJ,EAAiBY,OAC7DmB,EAAS9oB,EAAE,oBAAqB+mB,GAChCgC,EAAU/oB,EAAE,qBAAsB+mB,GAExCgC,EAAQ7e,GAAG,4GACH6e,EAAQvD,KAAK,oEAEjBuD,EAAQvD,KAAK,eAEP8C,EAAYrB,EAAK3B,oBAAoB3W,YAErCsT,EAAQgB,cAAcqF,0BACtBrB,EAAKxB,6BAEXwB,EAAKkB,sBACLlB,EAAK+B,sBACL/B,EAAKvB,qBACLyB,EAAgB3d,QAAQ,SACxBxJ,EAAErV,UAAU8f,IAAI,QAASkd,GACzBV,EAAKP,gBAAgBpb,IAAI,iBAAkB,oDAG/Cwd,EAAO5e,GAAG,oBACNid,EAAgB3d,QAAQ,SACxBxJ,EAAErV,UAAU8f,IAAI,QAASkd,GACzBV,EAAKP,gBAAgBpb,IAAI,iBAAkB,UAzBf,CAgDRub,EAAuBE,EAAiBY,GAjD3C,GAgGzBsB,EAAiC,OACjCxB,MAGEwB,EAAmC,eAAClmC,yDAAM,KAC/B,OAATA,GACAid,EAAErV,UAAUuf,GAAG,QAAS,8BAA+Bwd,GACvD1nB,EAAErV,UAAUuf,GAAG,QAAS,6BAA8Bwd,GACtD1nB,EAAErV,UAAUuf,GAAG,QAAS,2BAA4Bwd,GACpD1nB,EAAErV,UAAUuf,GAAG,QAAS,qCAAsCwd,KAE9D1nB,EAAErV,UAAU8f,IAAI,QAAS,8BAA+Bid,GACxD1nB,EAAErV,UAAU8f,IAAI,QAAS,6BAA8Bid,GACvD1nB,EAAErV,UAAU8f,IAAI,QAAS,2BAA4Bid,GACrD1nB,EAAErV,UAAU8f,IAAI,QAAS,qCAAsCid,KAyDvEhB,EAAgBxc,GAAG,wBA9CTgf,EAA6B,SAA7BA,EAA6BngB,OACzBge,EAAkB/mB,EAAE,qCAAqCxO,SAASA,aAEnEu1B,EAAgB,UACjB/mB,EAAErV,UAAU8f,IAAI,QAASye,GACzBD,EAAiC,YACjCxB,MAICf,EAAgB,GAAGn1B,SAASwX,EAAElc,SAAYk6B,EAAgB,GAAGx1B,SAASwX,EAAElc,UACzE65B,EAAgBW,QAAQ,QACxBrnB,EAAErV,UAAU8f,IAAI,QAASye,GAEzBD,EAAiC,OACjCxB,YAIRA,GAAsBA,UAMlBwB,EAAiC,YACjCjpB,EAAErV,UAAU8f,IAAI,QAASye,GAhCzBvC,GAAuBA,EAAsBU,QAAQ,QACrDT,GAAuBA,EAAsBS,QAAQ,QACrDR,GAAuBA,EAAsBQ,QAAQ,QA2BrD4B,EAAiC,UAQ/BlC,EAAkB/mB,EAAE,qCAIpBmpB,EAAO,CAHKnpB,EAAE,6BAA8B+mB,GAAiBv1B,SACnDwO,EAAE,2BAA4B+mB,GAAiBv1B,SAC7CwO,EAAE,qCAAsC+mB,GAAiBv1B,UAGtEy1B,EAAKvC,aAAa1+B,OAGnBmjC,EAAKrlC,kBAAQslC,UAAOA,EAAI9d,IAAI,UAAW,YAFvC6d,EAAKrlC,kBAAQslC,UAAOA,EAAI9d,IAAI,UAAW,WAK3CtL,EAAErV,UAAUuf,GAAG,QAASgf,yDAOrB3lC,KAAKmhC,aAAanhC,KAAKohC,4DAGpBhW,GACVA,EAAKgT,SAAShT,QAETgW,qBAAuBphC,KAAKmhC,aAAa2E,oBAAU/lB,UAAKqe,SAASre,EAAEqL,MAAQA,UAC3E0V,cAAcrc,IAAI2G,QAClB0V,cAAcyB,aAAa,4DAI3BviC,KAAKmhC,aAAa1+B,YAEjBsjC,EAAS/lC,KAAKmhC,aAAanhC,KAAKmhC,aAAa1+B,OAAS,GAA7C2oB,QACVyZ,cAAckB,sDAId5C,gBAAgBW,QAAQ,0DAIvBkC,gHACFC,EAAKC,gBACLD,EAAKE,sBACCF,EAAK/D,6BACX+D,EAAKrB,sBACLqB,EAAKR,sBACLQ,EAAK9D,qBACL8D,EAAKG,kHAaJld,MAAMvC,GAAG,iBAAkBqf,QAC3B9c,MAAMvC,GAAG,6BAVNsf,EAAK3E,QAAQ2E,EAAK3E,OAAOpa,IAAI,SAC7B+e,EAAK7D,cAAc6D,EAAK7D,aAAalb,IAAI,iBAU5C4Z,cAAcna,GAAG,8BAPEnB,EAAG6gB,GACvBJ,EAAK7E,qBAAuBiF,EAC5BJ,EAAK9D,0DAQHpC,EAAQuG,OACRC,EAAcxG,EAAOyG,SAAS,wBAEpCzG,EAAOhd,SAAS,SAChBwjB,EAAYxe,IAAI,UAAW,SAC3Bwe,EAAYzhB,KAAKwhB,qCAGXvG,OACAwG,EAAcxG,EAAOyG,SAAS,wBAEpCzG,EAAO5Z,YAAY,SACnBogB,EAAYtpB,qDAGM8iB,EAAQ0G,OACpBC,EAAa3G,EAAOtb,MACRiiB,GAAc,KAAOA,EAAWC,QAK9CF,EAAQxE,KAAK,oBACRsC,UAAUxE,IAHf0G,EAAQxE,KAAK,wDAOJ/kB,OACP0pB,EAAc1pB,EAAM+Q,MAAM,cAE5B8V,EAAS,GACTz6B,EAAS,UAEby6B,EAAO8C,EAAID,EAAYlhB,QAAU,IACjCqe,EAAO+C,EAAIF,EAAYlhB,QAAU,IACjCqe,EAAOgD,EAAIH,EAAYlhB,QAAU,IACjCqe,EAAOjb,EAAI8d,EAAYlhB,QAAU,EAEjCpc,EAAOu9B,EAAIzI,SAAS,KAAQ,EAAI2F,EAAOjb,EAAMib,EAAOjb,EAAIib,EAAO8C,IAC/Dv9B,EAAOw9B,EAAI1I,SAAS,KAAQ,EAAI2F,EAAOjb,EAAMib,EAAOjb,EAAIib,EAAO+C,IAC/Dx9B,EAAOy9B,EAAI3I,SAAS,KAAQ,EAAI2F,EAAOjb,EAAMib,EAAOjb,EAAIib,EAAOgD,kBAEjDz9B,EAAOu9B,eAAMv9B,EAAOw9B,eAAMx9B,EAAOy9B,gBAxsB3D,CA2sBGC,iCCxsBavqB,0EACRwqB,EAAa,EAEjBxqB,EAAEhd,GAAGqiC,UAAY,eAAUoF,yDAAkB,GACnCzoC,EAAoC,iBAApByoC,EAA+BA,SAC/Cv2B,EAAqC,WAA3Bw2B,EAAOD,GAA+BA,YAElDzoC,EAAQ,KACF2oC,EAAY,QAEb9hB,eAAM5iB,EAAGo9B,OACJ7rB,EAAWwI,EAAEqjB,GAAIvqB,KAAK,qBAE5B6xB,EAAUllC,KAAK+R,UAGbud,EAAU,GACV3mB,EAAQD,UAAUnI,OAAS,EAAKqI,MAAM7N,UAAUiH,MAAMvE,KAAKiL,UAAW,sBAEvE0a,eAAMrP,OACDhC,EAAWmzB,EAAUnxB,OAEtBhC,SACD6qB,QAAQuI,KAAK,yCACb7V,EAAQtvB,gBAKoB,mBAArB+R,EAASxV,GAAwB,KAClCsC,EAASkT,EAASxV,GAAQgjB,MAAMxN,EAAUpJ,GAEhD2mB,EAAQtvB,KAAKnB,QAEb+9B,QAAQuI,KAAK,WAAc5oC,EAAS,mCAI7B,QAAXA,EAAyBuB,KAErBwxB,EAAQ/uB,OAAS,EAAK+uB,EAAUA,EAAQ,MAGhD7gB,SACO3Q,KAAKslB,eAAM5iB,EAAGo9B,SACmCnvB,EAA5C22B,gBAAAA,aAAkB,OAA0B32B,EAAtB42B,aAAAA,aAAe,KACvCzE,EAAmBrmB,EAAEwE,OAAO,GAAIxE,EAAEhd,GAAGqiC,UAAU0F,iBAAkBF,GACjEG,EAAgBhrB,EAAEwE,OAAO,GAAIxE,EAAEhd,GAAGqiC,UAAU4F,cAAeH,GAC3DxH,EAAStjB,EAAEqjB,GAEX7rB,EAAW,IAAI0zB,EAAU5H,EAAQ,CAAE+C,iBAAAA,EAAkB2E,cAAAA,IAE3D1H,EAAOxqB,KAAK,oBAAqBtB,GACjC8rB,EAAOxqB,KAAK,sBAAuB0xB,GACnCA,QAKZxqB,EAAEhd,GAAGqiC,UAAU0F,iBAAmB,CAC9BjpB,gBAAiB,MACjBnB,aACAE,eACAC,uBACAoB,aACAxB,SAGJV,EAAEhd,GAAGqiC,UAAU4F,cAAgB,CAC3BE,yBACAC,qBAGEF,wBACU5H,EAAQP,kBACXO,OAASA,OACT+H,yBACAC,SAAWtrB,EAAE,sCACburB,yBACAxI,SAAWA,OACXyI,cAEAtzB,IAAM3U,KAAK2qB,cACXzV,IAAMlV,KAAKkoC,cACX9xB,QAAUpW,KAAKmoC,qBACfnrB,KAAOhd,KAAKooC,kBACZnrB,KAAOjd,KAAKqoC,kBACZ9E,WAAavjC,KAAKsoC,oBAElB/G,oDAGGkG,EAAkBznC,KAAKw/B,SAAvBiI,mBAEHc,sBACAC,yBACAhH,eAEDiG,EAAcG,2BACTa,eAAiBzoC,KAAK8nC,kBAEtBW,eAAiBzoC,KAAK+/B,wCAI1BtY,QACAsY,OAAOjf,SAAS,MAAO2G,QACvBsY,OAAOjf,SAAS,eAChBif,OAAO9Z,QAAQ,iDAIfjmB,KAAK+/B,OAAOtb,aACN,SAGPvH,EAAQld,KAAK+/B,OAAOjf,SAAS,cAE7B5D,EAAMwD,YACExD,EAAMwD,cAEN1gB,KAAK+/B,OAAOtb,qDAOnBsjB,SAAS5c,cACT4U,OAAOxqB,KAAK,oBAAqB,WACjCwqB,OAAOjf,SAAS,gBAChBif,OAAO7Y,WACP6Y,OAAO9xB,SAASqL,KAAK,gBAAgB6R,cACrC4U,OAAO2I,WAAW,kEAIlB3I,OAAO7a,YAAY,aACnB6iB,SAASxhB,SAEVvmB,KAAK+/B,OAAO1V,SAAS,cAChB4d,cACAlI,OAAO9Z,QAAQ,yBAEfgiB,cACAlI,OAAO9Z,QAAQ,+DAKnB8Z,OAAOhd,SAAS,aAChBglB,SAAS/qB,YACT+iB,OAAO9Z,QAAQ,uBACfgiB,oDAIC9hC,EAAgBnG,KAAK+/B,OAAO,GAAG55B,cAErCsW,EAAEtW,GAAe+gB,IAAI,uBAEhB6Y,OAAO5Z,YAAY,aACnB4hB,SAAS9qB,YACTgrB,cACAlI,OAAO9Z,QAAQ,wEAIwBjmB,KAAKw/B,SAAzCsD,IAAAA,iBAAkB2E,IAAAA,gBAMtB3E,EAJAhmB,KAAM6rB,aAAiB,eAMrBC,GAFF9F,EAHA9lB,KAGA8lB,EAFA/lB,OAEA+lB,EADA7lB,KAGSjd,WAER+/B,OAAS//B,KAAK+/B,OACdjf,gBACMgiB,OACHhmB,cAAKI,GACa,OAAVA,IACAA,EAAQA,EAAMwD,eAGlBkoB,EAAKje,SAASzN,GACdyrB,EAAezrB,WAKrB8iB,EAAoBhgC,KAAK+/B,OAAOjf,SAAS,aAAa+nB,SACtD1iC,EAAgBnG,KAAK+/B,OAAO,GAAG55B,cAErCsW,EAAEtW,GAAe+gB,IAAI,kBAErBzK,EAAE,uBAAwBujB,GAAmB7U,cACxC4c,SAAS9F,KAAK,KAAM,qBAAuBgF,QAC3Cc,SAAS9F,KAAK,aAAcgF,GACjCjH,EAAkBiC,KAAK,KAAM,uBAAyBgF,QACjDc,SAASnnB,OAAOof,QAChB+H,SAAS9qB,OACdR,EAAE,QAAQmE,OAAO5gB,KAAK+nC,UAElBN,EAAcI,uBACT9H,OAAOF,eAGX4H,EAAcG,4BACV7H,OACA/iB,OACAkK,IAAI,SACJP,GAAG,oBACAqY,EAAK8J,yBAIZd,aAAevrB,EAAEzc,KAAK+/B,OAAOjf,SAAS,qEAInC2mB,EAAkBznC,KAAKw/B,SAAvBiI,cACFvqB,EAAQld,KAAKkoC,gBAEdJ,aAAerrB,EAAE,oHAAsHS,EAAQ,wDAC/I6iB,OAAO9xB,SAASqL,KAAK,gBAAgB6R,cACrC4U,OAAOlW,MAAM7pB,KAAK8nC,cAEnBL,EAAcG,6BACT7H,OAAO7Y,IAAI,cACX4gB,aACA5gB,IAAI,SACJP,GAAG,oBACAwY,EAAK2J,qEAMb5rB,EAAQld,KAAKkoC,WAEbhrB,OACK4qB,aAAaxuB,KAAK,qBAAqByO,IAAI,mBAAoB7K,QAE/D4qB,aAAaxuB,KAAK,qBAAqByO,IAAI,mBAAoB,sDAKhE+a,EAAqB9iC,KAAKw/B,SAA1BsD,mBAMJA,EAHAiG,OAAQC,aAAiB,iBAGzBlG,EAFAmG,OAAQC,aAAiB,iBAEzBpG,EADAqG,SAAUC,aAAmB,eAG3BC,EAAqB,SAArBA,EAAqB7jB,MAClBia,EAAKwI,QAENxI,EAAKM,OAAO,GAAG/xB,SAASwX,EAAElc,UAAWm2B,EAAKqI,aAAa,GAAG95B,SAASwX,EAAElc,aAEjEm+B,EAAkBhI,EAAKD,SAAvBiI,cAEJ6B,KAEA7B,EAAcI,kBAKG,CAJMprB,EAAE,qCACNA,EAAE,iCACCA,EAAE,oCACFA,EAAE,qCAGfzR,eAAK84B,MACNA,EAAQ,OACJrE,EAAKuI,aAAa/5B,SAAS,GAAGD,SAASwX,EAAElc,SAAWw6B,EAAQ,GAAG91B,SAASwX,EAAElc,eAC1EggC,gBAIA7J,EAAKuI,aAAa/5B,SAAS,GAAGD,SAASwX,EAAElc,eACzCggC,WAOXA,IACD7J,EAAK4I,eAEL5rB,EAAErV,UAAU8f,IAAI,QAASmiB,WAI5BtJ,OAAOpZ,GAAG,6BACX8Y,EAAK8J,aAES9J,EAAKyI,WAKfzI,EAAKM,OAAOjf,SAAS,MAAO2e,EAAKM,OAAOtb,OAFxCgb,EAAKM,OAAOtb,IAAI,MAKpBgb,EAAKM,OAAOjf,SAAS,UAErBrE,EAAErV,UAAUuf,GAAG,QAAS0iB,GAExBL,YAICjJ,OAAOpZ,GAAG,4BAAmBnB,OACxBtI,EAAQuiB,EAAKyI,WAEdhrB,GACDuiB,EAAKM,OAAOtb,IAAI,MAGpB2kB,EAAiBlsB,GACjBuiB,EAAK+J,4BAGJzJ,OAAOpZ,GAAG,6BACXuiB,IACAzJ,EAAKgK,qBAGJ1J,OAAOlf,KAAK,mEAIZ6oB,eAAiBt2B,GAAapT,KAAKyoC,eAAe,GAAIzoC,KAAK+nC,SAAS,GAAI,CACzE79B,UAAW,OACXO,SAAU,QACVD,UAAW,CACP,CACIvH,KAAM,SACN0N,QAAS,CACLwB,OAAQ,CAAC,EAAG,gDAQxBnS,KAAK0pC,sBACAA,eAAetzB,eACfszB,eAAiB,+CAKtB1pC,KAAK0pC,qBACAA,eAAe5zB,mDAKnBiyB,SAASlnB,KAAK,YAAa,SAC3BzN,yDAIA20B,SAASW,WAAW,kBACpBiB,kHAId3C,kBCrVc,sBAjCD,IAAI4C,SAASC,IAAIxjC,OAAOA,QACjBoW,EAAExO,OAAO67B,OA0BnB,CACLvI,gBAPAqI,SAASG,QAAQl1B,IAAI,qBAAsB,CACzC0sB,cAAKyI,aAnBUA,GACJA,EAAOC,OAEpBD,EAAOE,WAAW,uBAAwB,CACxChrB,KAAM,SAASsG,GACbA,EAAE2kB,WAAW,gBAIjBH,EAAOI,GAAGC,UAAU,YAAa,CAC7BC,MAAO,aACPC,QAAS,uBACTC,QAAS,cACTC,KAAM,cAONJ,CAAUL,UAWXzI"}